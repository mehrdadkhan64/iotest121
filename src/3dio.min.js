/**
 * @preserve
 * @name 3dio
 * @version 1.2.1
 * @date 2018/06/04 20:49
 * @branch master
 * @commit 224cf51552410470bc5acb305b93b6ebc4bc2231
 * @description toolkit for interior apps
 * @see https://3d.io
 * @tutorial https://github.com/archilogic-com/3dio-js
 * @author archilogic <dev.rocks@archilogic.com> (https://archilogic.com)
 * @license MIT
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.io3d=t()}(this,function(){"use strict";function e(){Mr||(Mr=!0,Ir&&clearInterval(Ir),function(){var e=zr;Mr&&(e.length&&(zr=[],function(e){var t;for(t=0;t<e.length;t+=1)e[t](Or)}(e)),Fr(Or))}())}function t(e){if(Nr)return Mr?e(Or):zr.push(e),Lr;console.error("runtime.domReady requires a browser environment and will be ignored.")}function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function i(e){return e.reduce(function(e,t){return e.concat(t instanceof ei.UnsubscriptionError?t.errors:t)},[])}function n(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:pi.noop}function o(){return void 0!==document.hidden?!document.hidden:void 0!==document.webkitHidden?!document.webkitHidden:void 0!==document.mozHidden?!document.mozHidden:void 0!==document.msHidden?!document.msHidden:void 0}function a(e){var t=Vi[e];if(t)zi.setLevel(t),Bi.logLevel=e;else{var r='Unknown log level "'+e+'". Possible are: "'+Object.keys(Vi).join('", "')+'". ';if(Bi.logLevel)r+='Log level remains "'+Bi.logLevel;else{var i=Li.logLevel;r+='Fallback to default "'+i+'".',zi.setLevel(Vi[i]),Bi.logLevel=i}console.error(r)}}function s(e,t){return e.three&&!Ni.has.three?c(e.onError,t,"Sorry: THREE not available."):e.aframe&&!Ni.has.aframe?c(e.onError,t,"Sorry: AFRAME not available."):"function"==typeof t?t():t}function c(e,t,r){return e&&e(r),"function"==typeof t&&function(){throw new Error(r)}}function l(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function u(e,t,r){if(l(e))return e;var i={value:r,configurable:!0,enumerable:!1,writable:!0};return Ui.defineProperty(e,t,i),e}function p(e){try{return e+""}catch(e){return"[no string representation]"}}function f(e){return e instanceof Error||null!==e&&"object"===(void 0===e?"undefined":Yr(e))&&"string"==typeof e.message&&"string"==typeof e.name}function d(e){return f(e)&&Ui.propertyIsWritable(e,"stack")}function h(e){return{}.toString.call(e)}function m(e){this._capacity=e,this._length=0,this._front=0}function g(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new fn(16),this._normalQueue=new fn(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=un}function b(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function v(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function y(e){this._normalQueue._pushOne(e),this._queueTick()}function _(e,t){function r(i){if(!(this instanceof r))return new r(i);yn(this,"message","string"==typeof i?i:t),yn(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return vn(r,Error),r}function w(e){if(!(this instanceof w))return new w(e);yn(this,"name","OperationalError"),yn(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(yn(this,"message",e.message),yn(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}function x(){this._openRequests={},this._closedRequestIds=[]}function C(e,t,r){t=t||{};var i=(r=r||{}).secretApiKey||Bi.secretApiKey,n=r.publishableApiKey||Bi.publishableApiKey,o=qn.createRequest(e,t);return function(e,t,r){var i=Ni.isBrowser&&window.location.href.match(/^[^\:]+:\/\/([^\.]+\.)?(3d\.io|archilogic.com|localhost)(:\d+)?\//),n={"Content-Type":"application/json"};t&&(n["X-Secret-Key"]=t),r&&(n["X-Publishable-Key"]=r),Hi(Bi.servicesUrl,{body:JSON.stringify(e.message),method:"POST",headers:n,credentials:i?"include":"omit"}).then(function(t){return t.text().then(function(e){var t;try{t=JSON.parse(e)}catch(t){return Un.reject('JSON parsing Error: "'+t+'" Response body: "'+e+'"')}qn.handleResponse(t)}).catch(function(r){var i="";if(r instanceof Error||"string"==typeof r)i=r;else try{i=JSON.stringify(r,null,2)}catch(e){i=r&&r.toString?r.toString():""}var n="API request to "+Bi.servicesUrl+" failed: "+t.status+": "+t.statusText+"\n"+i+"\nOriginal JSON-RPC2 request to 3d.io: "+JSON.stringify(e.message,null,2);e.cancel(n)})}).catch(function(t){e.cancel('Error sending request to 3d.io API: "'+(t.code||JSON.stringify(t))+'"')})}(o,i,n),o.promise}function S(e,t){var r={};return r.meshes=j(e.meshes,t),r.materials=k(e.materials),e.alternativeMaterialsByMeshKey&&(r.alternativeMaterialsByMeshKey=JSON.parse(JSON.stringify(e.alternativeMaterialsByMeshKey))),e._params&&(r._params=e._params),e.position&&(r.position=e.position.slice(0)),e.rotDeg&&(r.rotDeg=e.rotDeg.slice(0)),e.rotRad&&(r.rotRad=e.rotRad.slice(0)),e.children&&(r.children=e.children.map(function(e){return S(e,t)})),r}function j(e,t){if(!e)return{};for(var r,i,n,o=!!(t=t||{}).clonePositions,a=!!t.cloneNormals,s=!!t.cloneUvs,c=!!t.cloneUvsLightmap,l=Object.keys(e),u={},p=0,f=l.length;p<f;p++)n={},(i=e[r=l[p]]).positions&&(o&&(i.positions instanceof Array||i.positions instanceof Float32Array)?n.positions=i.positions.slice(0):n.positions=i.positions),i.normals&&(a&&(i.normals instanceof Array||i.normals instanceof Float32Array)?n.normals=i.normals.slice(0):n.normals=i.normals),i.uvs&&(s&&(i.uvs instanceof Array||i.uvs instanceof Float32Array)?n.uvs=i.uvs.slice(0):n.uvs=i.uvs),i.uvsLightmap&&(c&&(i.uvsLightmap instanceof Array||i.uvsLightmap instanceof Float32Array)?n.uvsLightmap=i.uvsLightmap.slice(0):n.uvsLightmap=i.uvsLightmap),i.matrix&&(n.matrix=i.matrix.slice(0)),i.uvMatrix&&(n.uvMatrix=i.uvMatrix.slice(0)),i.meshKeys&&(n.meshKeys=i.meshKeys.slice(0)),i.position&&(n.position=i.position.slice(0)),i.rotDeg&&(n.rotDeg=i.rotDeg.slice(0)),i.rotRad&&(n.rotRad=i.rotRad.slice(0)),i.scale&&(n.scale=i.scale.slice(0)),i.v&&(n.v=i.v),i.vertexMode&&(n.vertexMode=i.vertexMode),i.side&&(n.side=i.side),i.material&&(n.material=i.material),i.visibleInPersonView&&(n.visibleInPersonView=i.visibleInPersonView),i.visibleInBirdView&&(n.visibleInBirdView=i.visibleInBirdView),i.visibleInFloorplanView&&(n.visibleInFloorplanView=i.visibleInFloorplanView),u[r]=n;return u}function k(e){if(!e)return{};var t,r,i,n,o,a,s,c,l;if(i=Object.keys(e),r={},0===i.length)return{};e[i[0]].attributes?(l=!0,r=JSON.parse(JSON.stringify(e))):l=!1;for(var u=0,p=i.length;u<p;u++)if(t=i[u],"string"==typeof(n=l?e[t].attributes:e[t]))l?r[t].attributes=n:r[t]=n;else if(n){c={};for(var f=0,d=(o=Object.keys(n)).length;f<d;f++)a=o[f],"string"===(s=Yr(n[a]))||"number"===s||"boolean"===s?c[a]=n[a]:n[a]&&(3===n[a].length?c[a]=[n[a][0],n[a][1],n[a][2]]:2===n[a].length&&(c[a]=[n[a][0],n[a][1]]));l?r[t].attributes=c:r[t]=c}return r}function P(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function A(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function E(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function T(e){var t=this.__data__=new eo(e);this.size=t.size}function I(e,t,r,i,n,o){var a,s=t&rs,c=t&is,l=t&ns;if(r&&(a=n?r(e,i,n,o):r(e)),void 0!==a)return a;if(!fo(e))return e;var u=Go(e);if(u){if(a=Ba(e),!s)return ga(e,a)}else{var p=La(e),f=p==as||p==ss;if(qo(e))return ma(e,s);if(p==cs||p==os||f&&!n){if(a=c||f?{}:ts(e),!s)return c?ja(e,ha(a,e)):wa(e,pa(a,e))}else{if(!ls[p])return n?e:{};a=Ja(e,p,I,s)}}o||(o=new Ro);var d=o.get(e);if(d)return d;o.set(e,a);var h=l?c?Aa:Pa:c?keysIn:ua,m=u?void 0:h(e);return Do(m||e,function(i,n){m&&(i=e[n=i]),zo(a,n,I(i,t,r,n,e,o))}),a}function F(e){return{x:e.x%360,y:e.y%360,z:e.z%360}}function R(e){for(var t=0,r=e.length,i="";t<r;t++)i+=String.fromCharCode(e[t]);return i}function D(e){for(var t="",r=123===e[0]||91===e[1]?0:1,i=e.length-20,n=e.length;r<i;r+=20)t+=String.fromCharCode(e[r],e[r+1],e[r+2],e[r+3],e[r+4],e[r+5],e[r+6],e[r+7],e[r+8],e[r+9],e[r+10],e[r+11],e[r+12],e[r+13],e[r+14],e[r+15],e[r+16],e[r+17],e[r+18],e[r+19]);for(;r<n;r++)t+=String.fromCharCode(e[r]);return t}function N(e){if(Ni.isBrowser&&window.TextDecoder){var t=new window.TextDecoder(e);return t.decode.bind(t)}return ks[e]}function M(e,t,r,i,n){var o=-1,a=e.length;for(r||(r=Es),n||(n=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?M(s,t-1,r,i,n):xa(n,s):i||(n[n.length]=s)}return n}function O(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Fo;++t<r;)this.add(e[t])}function z(e,t,r,i,n){return e===t||(null==e||null==t||!Vo(e)&&!Vo(t)?e!=e&&t!=t:Vs(e,t,r,i,z,n))}function L(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Ks);var r=function r(){var i=arguments,n=t?t.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var a=e.apply(this,i);return r.cache=o.set(n,a)||o,a};return r.cache=new(L.Cache||Fo),r}function V(e){if("string"==typeof e)return e;if(Go(e))return Is(e,V)+"";if(Us(e))return rc?rc.call(e):"";var t=e+"";return"0"==t&&1/e==-ec?"-0":t}function B(e){e=e||{},this.maxResolvedCache=e.maxResolvedCache||1e3,this._pendingPromises={},this._resolvedPromises={}}function W(e){if(Ni.assertBrowser('Please use "require()" to fetch modules in server environment.'),window.___modules=window.___modules||{},window.___modules[e])return Promise.resolve(window.___modules[e]);var t=hc.get(e);if(t)return t;var r=Hi(e).then(function(t){if(!t.ok)throw"Could not load script from URL: "+e;return t.text()}).then(function(t){var r;r=t.indexOf("define(function()")>-1?t+'\nfunction define(cb){ window.___modules["'+e+'"] = cb(); };':'window.___modules["'+e+'"] = (function(){ var exports = {}, module = {exports:exports};'+t+"\nreturn module.exports\n})()";var i=document.createElement("script");try{i.appendChild(document.createTextNode(r)),document.body.appendChild(i)}catch(e){i.text=r,document.body.appendChild(i)}return window.___modules[e]});return hc.add(e,r),r}function H(e,t){return new Un(function(r,i){function n(){this.manager=THREE.DefaultLoadingManager,this.path=THREE.Loader.prototype.extractUrlBase(e)}var o=new THREE.FileLoader(n.manager);o.setResponseType("arraybuffer"),o.load(e,function(e){try{var t=JSON.parse(Ps.utf8(e));if(void 0===t.asset||t.asset.version[0]<2)(dc||(THREE.___GLTF2Loader=THREE.GLTFLoader,dc=W(bc).then(function(){var e=THREE.GLTFLoader;return THREE.GLTFLoader=THREE.___GLTF2Loader,e})),dc).then(function(e){n.prototype=e.prototype;var i=new n;e.call(i),Object.keys(t.shaders).forEach(function(e,r){e.indexOf("fragment")>-1?t.shaders[e].uri=mc.base64:e.indexOf("vertex")>-1&&(t.shaders[e].uri=gc.base64)});var o=new TextEncoder("utf-8").encode(JSON.stringify(t));i.parse(o,function(e){(e.scene||e.scenes[0]).traverse(function(e){e.material&&(e.material=new THREE.MeshPhongMaterial({vertexColors:THREE.VertexColors}))}),r(e)},i.path)});else{n.prototype=THREE.GLTFLoader.prototype;var o=new n;THREE.GLTFLoader.call(o),o.parse(e,o.path,r,i)}}catch(e){i(e.constructor===Error?e:new Error("THREE.GLTFLoader: Unable to parse model."))}},t,i)})}function U(e,t){var r=document.createElement("a-entity");Object.keys(e).forEach(function(t){r.setAttribute(t,e[t])}),t.appendChild(r)}function Z(e){var t={box:jc,"camera-bookmark":kc,closet:Pc,column:Ac,curtain:Ec,door:Tc,floor:Ic,floorplan:Fc,group:Rc,interior:Dc,kitchen:Nc,level:Mc,object:Oc,plan:zc,polybox:Lc,polyfloor:Vc,railing:Bc,stairs:Wc,tag:Hc,wall:Uc,window:Zc};if(e&&t[e])return{params:Ss({},Sc.params,t[e].params),childrenTypes:t[e].childrenTypes,parentTypes:t[e].parentTypes,aframeComponent:t[e].aframeComponent};var r={};return Object.keys(t).forEach(function(e){Sc.type=e,r[e]={params:Ss({},Sc.params,t[e].params),childrenTypes:t[e].childrenTypes,parentTypes:t[e].parentTypes,aframeComponent:t[e].aframeComponent}}),r}function G(e){var t={},r=Z(e).params;return Object.keys(r).forEach(function(e){r[e].skipInAframe||"materials"===e||(t[e]={},r[e].parse?t[e].parse=r[e].parse:t[e].type=r[e].aframeType||r[e].type,r[e].defaultValue&&(t[e].default=r[e].aframeDefault||r[e].defaultValue),r[e].possibleValues&&(t[e].oneOf=r[e].possibleValues))}),t}function q(e){var t={};Object.keys(e).filter(function(e){return"material_"===e.substr(0,9)}).forEach(function(e){t[e]={type:"string"}}),this.extendSchema(t)}function K(e){var t,r,i,n,o,a,s=new Float32Array(e.length),c=!1;for(t=0,r=e.length;t<r;t+=9)i=(e[t+7]-e[t+4])*(e[t+2]-e[t+5])-(e[t+8]-e[t+5])*(e[t+1]-e[t+4]),n=(e[t+8]-e[t+5])*(e[t]-e[t+3])-(e[t+6]-e[t+3])*(e[t+2]-e[t+5]),o=(e[t+6]-e[t+3])*(e[t+1]-e[t+4])-(e[t+7]-e[t+4])*(e[t]-e[t+3]),(a=1/Math.sqrt(i*i+n*n+o*o))==1/0&&(a=0,c=!0),s[t]=s[t+3]=s[t+6]=i*a,s[t+1]=s[t+4]=s[t+7]=n*a,s[t+2]=s[t+5]=s[t+8]=o*a;return Kc&&c&&console.error("Geometry contains trigons that don't span an area."),s}function Y(e){var t,r,i,n,o,a,s,c,l,u,p,f,d=new Float32Array(e.length),h=[],m={},g=!1;for(l=0,u=e.length;l<u;l+=9)for(o=(e[l+7]-e[l+4])*(e[l+2]-e[l+5])-(e[l+8]-e[l+5])*(e[l+1]-e[l+4]),a=(e[l+8]-e[l+5])*(e[l]-e[l+3])-(e[l+6]-e[l+3])*(e[l+2]-e[l+5]),s=(e[l+6]-e[l+3])*(e[l+1]-e[l+4])-(e[l+7]-e[l+4])*(e[l]-e[l+3]),(c=1/Math.sqrt(o*o+a*a+s*s))==1/0&&(g=!0,c=0),n=[o*c,a*c,s*c],p=0,f=9;p<f;p+=3)m[t=e[l+p]+"_"+e[l+p+1]+"_"+e[l+p+2]]?m[t].faceNormals.push(n):(m[t]={faceNormals:[n]},h[h.length]=t);var b,v,y;for(l=0,u=h.length;l<u;l++){for(b=0,v=0,y=0,p=0,f=(r=m[t=h[l]].faceNormals).length;p<f;p++)b+=r[p][0],v+=r[p][1],y+=r[p][2];(c=1/Math.sqrt(b*b+v*v+y*y))==1/0&&(g=!0,c=0),m[t].averageNormal=[b*c,v*c,y*c]}for(l=0,u=e.length;l<u;l+=3)i=m[t=e[l]+"_"+e[l+1]+"_"+e[l+2]].averageNormal,d[l]=i[0],d[l+1]=i[1],d[l+2]=i[2];return Kc&&g&&console.error("Shade Smooth: Geometry contains trigons that don't span an area."),d}function X(e){var t,r,i=new Float32Array(e.length/1.5),n=0;for(t=0,r=e.length;t<r;t+=9)i[n]=e[t+2],i[n+1]=e[t],i[n+2]=e[t+5],i[n+3]=e[t+3],i[n+4]=e[t+8],i[n+5]=e[t+6],n+=6;return i}function Q(e){var t,r,i,n,o=new Float32Array(e.length/1.5),a=0;for(t=0,r=e.length;t<r;t+=9)(i=[(e[t+7]-e[t+4])*(e[t+2]-e[t+5])-(e[t+8]-e[t+5])*(e[t+1]-e[t+4]),(e[t+8]-e[t+5])*(e[t]-e[t+3])-(e[t+6]-e[t+3])*(e[t+2]-e[t+5]),(e[t+6]-e[t+3])*(e[t+1]-e[t+4])-(e[t+7]-e[t+4])*(e[t]-e[t+3])])[0]<0&&(i[0]*=-1),i[1]<0&&(i[1]*=-1),i[2]<0&&(i[2]*=-1),n=[1,0,2].sort(function(e,t){return i[e]-i[t]}),o[a]=e[t+n[1]],o[a+1]=e[t+n[0]],o[a+2]=e[t+3+n[1]],o[a+3]=e[t+3+n[0]],o[a+4]=e[t+6+n[1]],o[a+5]=e[t+6+n[0]],a+=6;return o}function J(e){var t={};return Object.keys(e).filter(function(e){return e.indexOf("material_")>-1}).forEach(function(r){var i=r.replace("material_","");t[i]=e[r]}),Object.keys(t).forEach(function(e){t[e]=qc(t[e])}),t}function $(e,t,r,i,n){var o,a,s,c=0;for(o=t,a=r-i;o<r;o+=i)c+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;if(n===c>0)for(o=t;o<r;o+=i)s=se(o,s);else for(o=r-i;o>=t;o-=i)s=se(o,s);return s}function ee(e,t,r){r||(r=t);var i,n=t;do{if(i=!1,n.steiner||!function(e,t,r){return e[t]===e[r]&&e[t+1]===e[r+1]}(e,n.i,n.next.i)&&0!==ie(e,n.prev.i,n.i,n.next.i))n=n.next;else{if(n.prev.next=n.next,n.next.prev=n.prev,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ),(n=r=n.prev)===n.next)return null;i=!0}}while(i||n!==r);return r}function te(e,t,r,i,n,o,a,s){if(t){s||void 0===n||function(e,t,r,i,n){var o=t;do{null===o.z&&(o.z=re(e[o.i],e[o.i+1],r,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,r,i,n,o,a,s,c,l=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,i=r,s=0,t=0;t<l&&(s++,i=i.nextZ);t++);for(c=l;s>0||c>0&&i;)0===s?(n=i,i=i.nextZ,c--):0!==c&&i?r.z<=i.z?(n=r,r=r.nextZ,s--):(n=i,i=i.nextZ,c--):(n=r,r=r.nextZ,s--),o?o.nextZ=n:e=n,n.prevZ=o,o=n;r=i}o.nextZ=null,l*=2}while(a>1)}(o)}(e,t,n,o,a);for(var c,l,u=t;t.prev!==t.next;)if(c=t.prev,l=t.next,function(e,t,r,i,n){var o=t.prev.i,a=t.i,s=t.next.i,c=e[o],l=e[o+1],u=e[a],p=e[a+1],f=e[s],d=e[s+1],h=c*p-l*u,m=c*d-l*f,g=h-m-(f*p-d*u);if(g<=0)return!1;var b,v,y,_,w,x,C,S=d-l,j=c-f,k=l-p,P=u-c;if(void 0!==r){var A=c>u?c>f?c:f:u>f?u:f,E=l>p?l>d?l:d:p>d?p:d,T=re(c<u?c<f?c:f:u<f?u:f,l<p?l<d?l:d:p<d?p:d,r,i,n),I=re(A,E,r,i,n);for(C=t.nextZ;C&&C.z<=I;)if(b=C.i,C=C.nextZ,b!==o&&b!==s&&(v=e[b],y=e[b+1],(_=S*v+j*y-m)>=0&&(w=k*v+P*y+h)>=0&&(x=g-_-w)>=0&&(_&&w||_&&x||w&&x)))return!1;for(C=t.prevZ;C&&C.z>=T;)if(b=C.i,C=C.prevZ,b!==o&&b!==s&&(v=e[b],y=e[b+1],(_=S*v+j*y-m)>=0&&(w=k*v+P*y+h)>=0&&(x=g-_-w)>=0&&(_&&w||_&&x||w&&x)))return!1}else for(C=t.next.next;C!==t.prev;)if(b=C.i,C=C.next,v=e[b],y=e[b+1],(_=S*v+j*y-m)>=0&&(w=k*v+P*y+h)>=0&&(x=g-_-w)>=0&&(_&&w||_&&x||w&&x))return!1;return!0}(e,t,n,o,a))r.push(c.i/i),r.push(t.i/i),r.push(l.i/i),l.prev=c,c.next=l,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ),t=l.next,u=l.next;else if((t=l)===u){s?1===s?te(e,t=function(e,t,r,i){var n=t;do{var o=n.prev,a=n.next.next;if(o.i!==a.i&&ne(e,o.i,n.i,n.next.i,a.i)&&oe(e,o,a)&&oe(e,a,o)){r.push(o.i/i),r.push(n.i/i),r.push(a.i/i),o.next=a,a.prev=o;var s=n.prevZ,c=n.nextZ&&n.nextZ.nextZ;s&&(s.nextZ=c),c&&(c.prevZ=s),n=t=a}n=n.next}while(n!==t);return n}(e,t,r,i),r,i,n,o,a,2):2===s&&function(e,t,r,i,n,o,a){var s=t;do{for(var c=s.next.next;c!==s.prev;){if(s.i!==c.i&&function(e,t,r){return!function(e,t,r,i){var n=t;do{var o=n.i,a=n.next.i;if(o!==r&&a!==r&&o!==i&&a!==i&&ne(e,o,a,r,i))return!0;n=n.next}while(n!==t);return!1}(e,t,t.i,r.i)&&oe(e,t,r)&&oe(e,r,t)&&function(e,t,r,i){var n=t,o=!1,a=(e[r]+e[i])/2,s=(e[r+1]+e[i+1])/2;do{var c=n.i,l=n.next.i;e[c+1]>s!=e[l+1]>s&&a<(e[l]-e[c])*(s-e[c+1])/(e[l+1]-e[c+1])+e[c]&&(o=!o),n=n.next}while(n!==t);return o}(e,t,t.i,r.i)}(e,s,c)){var l=ae(s,c);return s=ee(e,s,s.next),l=ee(e,l,l.next),te(e,s,r,i,n,o,a),void te(e,l,r,i,n,o,a)}c=c.next}s=s.next}while(s!==t)}(e,t,r,i,n,o,a):te(e,ee(e,t),r,i,n,o,a,1);break}}}function re(e,t,r,i,n){return e=1e3*(e-r)/n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=1e3*(t-i)/n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function ie(e,t,r,i){var n=(e[r+1]-e[t+1])*(e[i]-e[r])-(e[r]-e[t])*(e[i+1]-e[r+1]);return n>0?1:n<0?-1:0}function ne(e,t,r,i,n){return ie(e,t,r,i)!==ie(e,t,r,n)&&ie(e,i,n,t)!==ie(e,i,n,r)}function oe(e,t,r){return-1===ie(e,t.prev.i,t.i,t.next.i)?-1!==ie(e,t.i,r.i,t.next.i)&&-1!==ie(e,t.i,t.prev.i,r.i):-1===ie(e,t.i,r.i,t.prev.i)||-1===ie(e,t.i,t.next.i,r.i)}function ae(e,t){var r=new ce(e.i),i=new ce(t.i),n=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function se(e,t){var r=new ce(e);return t?(r.next=t.next,r.prev=t,t.next.prev=r,t.next=r):(r.prev=r,r.next=r),r}function ce(e){this.i=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function le(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}function ue(){this._protocol=null,this._href="",this._port=-1,this._query=null,this.auth=null,this.slashes=null,this.host=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null,this._prependSlash=!1}function pe(e,t,r){for(var i=0,n=e.length;i<n;++i){var o=e.charCodeAt(i);if(o===t||o===r)return!0}return!1}function fe(e){var t=new Uint8Array(128);return e.forEach(function(e){if("number"==typeof e)t[e]=1;else for(var r=e[0],i=e[1],n=r;n<=i;++n)t[n]=1}),t}function de(e,t){var r,i,n,o=(t=t||{}).url;if(o&&(r=ue.parse(o),i=cl.parse(r.path||r.pathname||"").dir,n=r.protocol+"//"+r.host),!e)return Un.reject("Missing buffer parameter.");"undefined"!=typeof Buffer&&e instanceof Buffer&&(e=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));var a=new Int32Array(e,0,wl/4),s=a[0],c=a[1],l=a[2],u=a[3],p=wl+l+u;if(s!==xl&&console.error("File header error: Wrong magic number. File is probably not data3d buffer format."),c!==Cl&&console.error("File header error: Wrong version number: "+c+". Parser supports version: "+Cl),e.byteLength!==p){var f="Can not parse Data3d buffer. Wrong buffer size: "+e.byteLength+" Expected: "+p;return console.error(f),Un.reject(f)}var d,h=new Uint16Array(e,wl,l/2),m=Ps.utf16(h);try{d=JSON.parse(m)}catch(e){return Un.reject(e)}var g=wl+l;return he(d.data3d,function(t){(function(e,t,r,i){var n,o,a,s=e.meshKeys||Object.keys(e.meshes||{});for(o=0,a=s.length;o<a;o++)void 0!==(n=e.meshes[s[o]]).positionsOffset&&void 0!==n.positionsLength&&(n.positions=new Float32Array(t,r+4*n.positionsOffset,n.positionsLength),delete n.positionsOffset,delete n.positionsLength),void 0!==n.normalsOffset&&void 0!==n.normalsLength&&(n.normals=new Float32Array(t,r+4*n.normalsOffset,n.normalsLength),delete n.normalsOffset,delete n.normalsLength),void 0!==n.uvsOffset&&void 0!==n.uvsLength&&(n.uvs=new Float32Array(t,r+4*n.uvsOffset,n.uvsLength),delete n.uvsOffset,delete n.uvsLength),void 0!==n.uvsLightmapOffset&&void 0!==n.uvsLightmapLength&&(n.uvsLightmap=new Float32Array(t,r+4*n.uvsLightmapOffset,n.uvsLightmapLength),delete n.uvsLightmapOffset,delete n.uvsLightmapLength),i&&(n.cacheKey=i+":"+s[o])})(t,e,g,o),n&&t.materials&&function(e,t,r){var i,n,o,a,s,c,l=e.materialKeys||Object.keys(e.materials||{});for(i=0,n=l.length;i<n;i++)for(s=e.materials[l[i]],o=0,a=Sl.length;o<a;o++)s[c=Sl[o]]&&(_l.test(s[c])?s[c]=s[c]:"/http"===s[c].substring(0,5)?s[c]=s[c].substring(1):"/"===s[c][0]?s[c]=t+s[c]:s[c]=t+r+"/"+s[c])}(t,n,i)}),Un.resolve(d.data3d)}function he(e,t){if(t(e),e.children)for(var r=0,i=e.children.length;r<i;r++)he(e.children[r],t)}function me(e,t){if(e.indexOf("data3d.buffer")<0)return Promise.reject(e+" no data3d");var r=e,i=jl.get(r);if(i)return i;var n=Hi(e,t).then(function(e){return e.arrayBuffer()}).then(function(t){return de(t,{url:e})});return jl.add(r,n),n}function ge(e){var t,r,i,n,o="none"!==e.cooktopType,a=o&&"90"===e.cooktopType.slice(-2);return n=e.elementLength,t=e.l+(e.fridge?2*(n-.52):0)+(o&&a?n-.9:0),r=Math.ceil(ve(t/n,100)),i=ve(n-(r*n-t),100),{elementNum:r,remainder:i}}function be(e,t){for(var r="none"!==e.cooktopType,i=r&&"90"===e.cooktopType.slice(-2),n=[],o=t.elementNum,a=0;a<o;a++)!e.fridge||a!==e.fridgePos-1&&a!==e.fridgePos?r&&i&&a===e.cooktopPos-1?n[a]=.9:t.remainder&&(!e.highCabinetRight&&a===o-1||e.highCabinetRight>0&&a===o-e.highCabinetRight-1)?n[a]=t.remainder:n[a]=e.elementLength:n[a]=.52;return!n[0]&&e.l>e.elementLength?n[0]=e.elementLength:[n[0]]||(n[0]=t.remainder),n}function ve(e,t){return t?Math.round(e*t)/t:Math.round(e)}function ye(e){return Math.round(1e6*e)/1e6}function _e(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function we(e,t,r,i){for(var n=r*i*4,o=new Uint8Array(e,t,n),a=new Uint8Array(n),s=0,c=0,l=0;l<i;l++)for(var u=0;u<r;u++){var p=o[c],f=o[++c],d=o[++c],h=o[++c];c++,a[s]=d,a[++s]=f,a[++s]=p,a[++s]=h,s++}return a}function xe(e){return new Un(function(t,r){var i=new XMLHttpRequest;i.onload=function(n){if(i.status>=200&&i.status<300){var o,a=i.response;try{o=function(e,t){var r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},i=new Int32Array(e,0,31);if(i[0]!==Dl)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),r;if(!i[20]&Ol)return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."),r;var n,o=i[21],a=!1;switch(o){case zl:n=8,r.format=THREE.RGB_S3TC_DXT1_Format;break;case Ll:n=16,r.format=THREE.RGBA_S3TC_DXT3_Format;break;case Vl:n=16,r.format=THREE.RGBA_S3TC_DXT5_Format;break;default:if(!(32==i[22]&&16711680&i[23]&&65280&i[24]&&255&i[25]&&4278190080&i[26]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}(o)),r;a=!0,n=64,r.format=THREE.RGBAFormat}r.mipmapCount=1,i[2]&Nl&&!1!==t&&(r.mipmapCount=Math.max(1,i[7])),r.isCubemap=!!(i[28]&Ml),r.width=i[4],r.height=i[3];for(var s=i[1]+4,c=r.width,l=r.height,u=r.isCubemap?6:1,p=0;p<u;p++){for(var f=0;f<r.mipmapCount;f++){var d,h;a?h=(d=we(e,s,c,l)).length:(h=Math.max(4,c)/4*Math.max(4,l)/4*n,d=new Uint8Array(e,s,h));var m={data:d,width:c,height:l};r.mipmaps.push(m),s+=h,c=Math.max(.5*c,1),l=Math.max(.5*l,1)}c=r.width,l=r.height}return r}(a,!0)}catch(t){var s="Error Loading DDS Texture\n"+e+"\n"+t.name+": "+t.message;return console.error(s),void r(s)}var c=function(e){return Math.log(e)/Math.LN2}(Math.max(o.width,o.height))+1;if(o.mipmapCount!=c)return console.error("Reading DDS texture failed: "+e+"\nmipmaps counted: "+o.mipmapCount+", should be: "+c+"\nPlease make sure you have mipmap generation enabled when creating DDS textures from images."),void r("Error parsing DDS. Wrong mipmaps count. "+e);var l=new THREE.CompressedTexture;l.format=o.format,l.mipmaps=o.mipmaps,l.image.width=o.width,l.image.height=o.height,l.image.src=e,l.sourceFile=e,l.url=e,l.bufferByteLength=a.byteLength,l.generateMipmaps=!1,t(l)}else r({message:"Http Request error",url:e,status:i.status,headers:i.getAllResponseHeaders(),event:n})},i.onerror=function(t){r({message:"Http Request error",url:e,status:i.status,headers:i.getAllResponseHeaders(),event:t})},i.open("GET",e,!0),i.crossOrigin="Anonymous",i.responseType="arraybuffer",i.send(null)})}function Ce(e){return 0==(e&e-1)&&0!==e}function Se(e){if(e>Bl)return Bl;var t=Math.log(e)/Math.LN2;return Math.pow(2,Math.round(t))}function je(e){return new Un(function(t,r){var i=document.createElement("img");i.crossOrigin="Anonymous",i.onload=function(){var r=new THREE.Texture;r.sourceFile=e,r.url=e;var n=Ce(i.width)&&Ce(i.height),o=i.width<=Bl&&i.height<=Bl;n&&o?r.image=i:(r.image=function(e,t){var r=Se(e.width),i=Se(e.height),n=document.createElement("canvas");return n.width=r,n.height=i,n.getContext("2d").drawImage(e,0,0,r,i),console.log("Image size not compatible. Image has been resized from "+e.width+"x"+e.height+"px to "+n.width+"x"+n.height+"px.\n"+t),n}(i,e),r.image.src=e),t(r)};var n=!1;i.onerror=function(){n?r("Error loading texture "+e):(n=!0,-1===e.indexOf("?")?e+="?cacheBust="+(new Date).getTime():e+="&cacheBust="+(new Date).getTime(),i.src=e)},i.src=e})}function ke(e){var t=ql[e],r=performance.now()/1e3;t.timeFirst?(t.timeFirst=r,t.timeLast=r):t.timeLast=r,t.requestCount++,Xl[e]+=1,Yl++,Gl=!0,Zl[e].shift().start()}function Pe(){for(var e=null,t=0;t<Kl;t++){for(var r=Hl[t];Zl[r].length>0&&Yl<Wl;)ke(r);if(null===e&&0!==Xl[r]&&(e=t),null!==e&&(Ul[r]||t-e>0))break}}function Ae(e,t){var r=e,i=eu.get(r);if(i)return i;var n=e.match(/\.[A-Za-z]+(?=\?|$)/i),o=n?n[0].toLowerCase():".jpg";tu[o]||(console.warn("Unknown texture type "+o+". Trying to load as JPG."),o=".jpg");var a=$l.enqueue(t,e).then(function(){return tu[o](e)}).then(function(r){return $l.dequeue(t,e),r}).catch(function(r){return $l.dequeue(t,e),Un.reject(r)});return eu.add(r,a),a}function Ee(e){console.error("Texture could not been loaded: ",e)}function Te(e){void 0!==e&&(nu[e]?nu[e]++:nu[e]=1)}function Ie(){var e=this.url;e&&nu[e]?(nu[e]--,0===nu[e]&&this.dispose()):this.dispose()}function Fe(e,t,r,i,n,o,a){var s,c,l,u,p,f=[],d=[],h=[],m=0,g=!1,b=o?o.geometry:null,v=b?b.attributes:null,y=v&&v.uv&&v.uv.count>0,_=v&&v.uv2&&v.uv2.count>0;for(P=0,A=t.UV1.length;P<A;P++){if(u=t.UV1[P],s=i[u],l=ru[u],c=n[l],s){if(!y){console.warn("Texture "+s+" could not be assigned because geometry has no UV vertices.");continue}g=!0}s?(p=!0,T=iu[i.wrap]||iu.repeat,c&&T!==c.wrapS&&(c.wrapS=T,c.wrapT=T,c.needsUpdate=!0),c&&c.url&&s===c.url&&(p=!1),p&&c&&a&&(n[l]&&n[l].disposeIfPossible&&n[l].disposeIfPossible(),n[l]=null),p&&(h[m]=Ae(s,e).catch(Ee),d[m]=u,f[m]=l,m++,n.needsUpdate=!0)):n[l]&&(n[l]&&n[l].disposeIfPossible&&n[l].disposeIfPossible(),n[l]=null,n.needsUpdate=!0)}if(v){if(g&&i.size){var w=i.size[0],x=i.size[1],C=v.uv._scaleU||1,S=v.uv._scaleV||1;if(w!==C||x!==S){v.uv._source||(v.uv._source=v.uv.array);for(var j=v.uv._source,k=new Float32Array(j.length),P=0,A=k.length;P<A;P+=2)k[P]=j[P]/w,k[P+1]=j[P+1]/x;v.uv.array=k,v.uv._scaleU=w,v.uv._scaleV=x,v.uv.needsUpdate=!0}}i[t.UV2]&&(_?(u=t.UV2,s=i[u],h[m]=Ae(s,e).catch(Ee),d[m]=u,f[m]=ru[u],m++):console.error("Lightmap "+i[t.UV2]+" could not be assigned because geometry has no lightmap UV (UV2) vertices."))}var E,T,I,F;return m?E=Un.all(h).then(function(e){for(T=iu[i.wrap]||iu.repeat,P=0;P<m;P++)I=e[P]instanceof THREE.CompressedTexture||e[P]instanceof THREE.Texture,F=e[P]&&e[P].url===n._texturesToBeLoaded[d[P]],I&&F&&(Te(e[P].url),e[P].disposeIfPossible=Ie,e[P].wrapS=T,e[P].wrapT=T,e[P].anisotropy=2,n[f[P]]&&n[f[P]].disposeIfPossible&&n[f[P]].disposeIfPossible(),n[f[P]]=e[P],n.uniforms[f[P]].value=e[P],n[f[P]].needsUpdate=!0);n.needsUpdate=!0,o&&o.geometry&&(o.geometry.buffersNeedUpdate=!0,o.geometry.uvsNeedUpdate=!0),r&&r.viewport.render()}):(E=Un.resolve(),r&&r.viewport.render()),E}function Re(e){var t=e.vm,r=e.material3d,i=e.mesh3d,n=e.attributes||{},o=void 0===e.reset||e.reset,a=e.loadingQueuePrefix,s=e.onFirstTextureSetLoaded,c=e.lightMapIntensity,l=e.lightMapExposure;r.userData=r.userData||{},r.userData.data3dMaterial=e.attributes,void 0!==n.opacity&&n.opacity<1?(r.transparent=!0,r.opacity=n.opacity):n.mapAlpha?(r.transparent=!0,r.opacity=1):(r.transparent=!1,r.opacity=1),r.uniforms.opacity={value:r.opacity},r.normalScale=void 0!==n.mapNormalFactor?new THREE.Vector2(n.mapNormalFactor,n.mapNormalFactor):new THREE.Vector2(.8,.8),r.uniforms.normalScale.value=r.normalScale,r.shininess=void 0!==n.specularCoef?n.specularCoef:.1,r.uniforms.shininess.value=r.shininess;var u={};n.colorDiffuse?(u.r=n.colorDiffuse[0],u.g=n.colorDiffuse[1],u.b=n.colorDiffuse[2]):o&&(n.mapDiffuse?(u.r=1,u.g=1,u.b=1):(u.r=.85,u.g=.85,u.b=.85)),r.color=u,r.uniforms.color.value=new THREE.Color(u.r,u.g,u.b);var p={};n.colorSpecular?(p.r=n.colorSpecular[0],p.g=n.colorSpecular[1],p.b=n.colorSpecular[2]):o&&(p.r=.25,p.g=.25,p.b=.25),r.specular=p,r.uniforms.specular.value=new THREE.Color(p.r,p.g,p.b);var f={};if(n.colorEmissive)f.r=n.colorEmissive[0],f.g=n.colorEmissive[1],f.b=n.colorEmissive[2];else if(n.lightEmissionCoef){var d=n.lightEmissionCoef/10;n.colorDiffuse?(f.r=n.colorDiffuse[0],f.g=n.colorDiffuse[1],f.b=n.colorDiffuse[2]):(f.r=1,f.g=1,f.b=1),f.r*=d,f.g*=d,f.b*=d}else o&&(f.r=0,f.g=0,f.b=0);if(r.emissive=f,r.uniforms.emissive.value=new THREE.Color(f.r,f.g,f.b),n.mapLight||n.mapLightPreview){var h=su,m=cu;void 0!==c&&null!=c&&-100!==c?h=c:void 0!==n.mapLightIntensity&&(h=n.mapLightIntensity),void 0!==l&&null!=l&&-100!==l?m=l:void 0!==n.mapLightCenter&&(m=n.mapLightCenter),r.lightMapIntensity=h>=0?h:0,r.lightMapExposure=m,r.lightMapFalloff=void 0!==n.mapLightFalloff?n.mapLightFalloff:lu,r.uniforms.lightMapIntensity.value=r.lightMapIntensity,r.uniforms.lightMapExposure.value=r.lightMapExposure,r.uniforms.lightMapFalloff.value=r.lightMapFalloff}i&&(i.castShadow=n.castRealTimeShadows,i.receiveShadow=n.receiveRealTimeShadows,i.material.needsUpdate=!0),r._texturesToBeLoaded={mapDiffuse:n.mapDiffuse,mapSpecular:n.mapSpecular,mapNormal:n.mapNormal,mapAlpha:n.mapAlpha,mapLight:n.mapLight,mapDiffusePreview:n.mapDiffusePreview,mapSpecularPreview:n.mapSpecularPreview,mapNormalPreview:n.mapNormalPreview,mapAlphaPreview:n.mapAlphaPreview,mapLightPreview:n.mapLightPreview};var g,b,v,y=n.mapDiffusePreview||n.mapSpecularPreview||n.mapNormalPreview||n.mapAlphaPreview||n.mapLightPreview,_=!Ni.isMobile&&Ni.webGl.supportsDds;return!_||y&&!r.firstTextureLoaded?(a&&(b=a+"TexturesLoRes"),g=Fe(b,au,t,n,r,i,!1),v=!0):(a&&(b=a+"TexturesHiRes"),g=Fe(b,ou,t,n,r,i,!1),v=!1),g.then(function(){s&&s(),y&&(r.firstTextureLoaded=!0)}),v&&_&&g.then(function(){a&&(b=a+"TexturesHiRes"),Fe(b,ou,t,n,r,i,!1)}),g}function De(e,t){return e-t}function Ne(e){var t=Me(e.preview);return{id:e.productResourceId,name:e.productDisplayName,description:e.description,manufacturer:e.manufacturer,designer:e.designer,thumb:"https://res.cloudinary.com/archilogic/image/fetch/c_limit,h_150,w_150/"+t,indexImage:t,images:e.images.map(Me),url:e.link,year:e.year,collectionIds:e.productCollectionResourceIds,tags:Oe(e.tags),styles:Oe(e.styles),categories:Oe(e.categories),colors:Oe(e.colours),boundingBox:e.boundingBox,boundingPoints:e.boundingPoints,data3dStorageId:e.fileKey,data3dUrl:Me(e.fileKey),sceneStructure:e.modelStructure,created:e.createdAt,updated:e.updatedAt}}function Me(e){if(e)return"/"!==e[0]&&(e="/"+e),"https://"+Bi.storageDomain+e}function Oe(e){return""===e[0]?e.slice(1):e}function ze(e){return C("Product.read",{resourceId:e}).then(function(e){return Ne(e)})}function Le(e,t){return"int"===t&&function(e){return!isNaN(e)&&parseInt(Number(e))==e&&!isNaN(parseInt(e,10))}(e)?"int":Array.isArray(e)?"array":void 0===e?"undefined":Yr(e)}function Ve(e){if(e&&e.type){var t=Z()[e.type].params;return Object.keys(t).forEach(function(r){var i=t[r].defaultValue;if(e[r]){var n=t[r].type;n!==Le(e[r],n)&&("int"===n&&parseInt(e[r])?e[r]=parseInt(e[r]):"number"===n&&parseFloat(e[r])?e[r]=parseFloat(e[r]):void 0!==i?e[r]=i:delete e[r])}void 0===e[r]&&("id"===r?e[r]=Gn.generate():void 0!==i&&(e[r]=i))}),e}}function Be(e){var t=Array.isArray(e),r=We(t?e:[e]);return Promise.resolve(t?r:r[0])}function We(e){return e.map(function(e){return(e=function(e){var t=Z();if(t[e.type]){var r=t[e.type].params,i=t[e.type].childrenTypes;return Object.keys(e).forEach(function(t){r[t]||delete e[t]}),e.children&&e.children.length&&(e.children=e.children.filter(function(e){return i.indexOf(e.type)>-1})),e}}(e))&&e.children&&e.children.length&&(e.children=We(e.children)),Ve(e)}).filter(function(e){return void 0!==e})}function He(e,t){var r={userQuery:void 0!==(t=t||{}).query?t.query:null,searchCount:0,margin:xu.default_margin};return ze(e).then(function(e){r.info=e;var t=r.info.categories.indexOf("tables")>-1;return r.maxSearchCount=t?4:8,Ge(Ze(r))}).then(function(t){return Ue(t,e,r)}).catch(function(e){return Promise.reject(e)})}function Ue(e,t,r){var i=r.info;if(r.searchCount>10)return Promise.reject("No furniture was found");var n=e.filter(function(e){return e.productResourceId!==t});if(n.length<8&&r.searchCount<r.maxSearchCount){r.searchCount>=1&&(r.margin+=.05);var o=Ze(r);return r.searchCount+=1,Ge(o).then(function(e){return Ue(e,t,r)}).catch(function(e){return Promise.reject("No alternatives were found")})}if(n.length){var a=n.map(Ne).map(function(e){return{furniture:e,offset:function(e,t){var r=xu.edgeAligned,i=e.tags;if(e=e.boundingPoints,t=t.boundingPoints,!e||!t)return{x:0,y:0,z:0};var n;return n=r.some(function(e){return i.includes(e)})?e.min[2]-t.min[2]:(e.max[2]+e.min[2])/2-(t.max[2]+t.min[2])/2,{x:(e.max[0]+e.min[0])/2-(t.max[0]+t.min[0])/2,y:0,z:n}}(i,e)}});return Promise.resolve(a)}return Promise.reject("No alternatives were found")}function Ze(e){var t=e.info,r=[xu.default_search],i=t.tags.concat(t.categories);i=i.filter(function(e){return xu.tag_black_list=xu.tag_black_list.map(function(e){return e.toLowerCase()}),xu.tag_black_list.indexOf(e.toLowerCase())<0&&!/^\d+P$/.test(e)}),e.searchCount>2&&(i=i.filter(function(e){return xu.tag_white_list=xu.tag_white_list.map(function(e){return e.toLowerCase()}),xu.tag_white_list.indexOf(e.toLowerCase())>-1})),r=r.concat(i),e.userQuery&&i.indexOf("tv")<0&&(r=r.concat(e.userQuery));var n={query:r.join(" ")},o=t.boundingBox;return o&&["length","height","width"].forEach(function(t){o[t]-e.margin>0&&(n[t+"Min"]=Math.round(100*(o[t]-e.margin))/100,n[t+"Max"]=Math.round(100*(o[t]+e.margin))/100)}),n}function Ge(e){return e.query=e.query.trim().replace(/\s+/g," "),C("Product.search",{searchQuery:e,limit:200})}function qe(e){if(function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":Yr(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":Yr(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName&&"a-entity"===e.nodeName.toLowerCase()}(e)){var t=e.getAttribute("position")||{x:0,y:0,z:0},r=e.getAttribute("rotation")||{x:0,y:0,z:0},i=e.getAttribute("io3d-uuid"),n=[];"string"==typeof t&&(t=ju(t)),"string"==typeof r&&(r=ju(r));var o=Su(e),a=e.children;if(a&&a.length)for(var s=0;s<a.length;s++){var c=qe(a[s]);c&&n.push(c)}return Ss({x:parseFloat(t.x),y:parseFloat(t.y),z:parseFloat(t.z),ry:parseFloat(r.y),children:n,id:i||Gn.generate()},o)}console.warn('element is not an "a-entity" DOM element')}function Ke(e,t){var r=(t=t||{}).timeout||6e5,i=t.minInterval||1e3,n=t.maxInterval||5e3,o=t.intervalIncreaseFactor||1.05;return new Un(function(t,a,s){var c={isCancelled:!1};s&&s(function(){c.isCancelled=!0}),Ye(e,t,a,i,n,o,0,r,c)})}function Ye(e,t,r,i,n,o,a,s,c){return c.isCancelled?r("Poll request has been cancelled"):(i<n&&(i*=o),a>s?r("Poll request timed out"):(a+=i,void e(t,r,function(){setTimeout(function(){Ye(e,t,r,i,n,o,a,s,c)},i)})))}function Xe(e,t){var r=void 0===(t=t||{}).cdn||t.cdn,i=void 0===t.encode||t.encode;if(Au[e+r+i])return Au[e+r+i];if(Pu.test(e))return Au[e+r+i]=e,e;var n=e,o=/^\/(.*)$/.exec(n);o&&(n=o[1]),i&&!/^[\.\-\_\/a-zA-Z0-9]+$/.test(n)&&(n=encodeURIComponent(n));var a="https://"+(r?Bi.storageDomain:Bi.storageDomainNoCdn)+"/"+n;return Au[e+r+i]=a,a}function Qe(e,t){(t=t||{}).type=t.type||"data3d";var r=t.queueName,i=t.loadingQueuePrefix;switch(t.type){case"json":return Hi(Xe(e,t)).then(function(e){return e.json()});default:return me(Xe(e),{queueName:r,loadingQueuePrefix:i})}}function Je(e,t){if(e){Ni.assertBrowser(),t=t||{};var r=Array.isArray(e),i=$e(e=r?e:[e]),n=Fu(e,r?i:i[0]);return n?(Array.isArray(i)?i:[i]).concat(n):r?i:i[0]}console.error("nothing to convert")}function $e(e,t){var r=t?null:[];return e.forEach(function(e){if(Eu.indexOf(e.type)>-1){var i=tt({attributes:Iu(e),parent:t});"level"===e.type&&function(e,t){if(t.bakedModelUrl||t.bakePreviewStatusFileKey){var r={"io3d-data3d":"key: "+t.bakedModelUrl,shadow:"cast: false; receive: true"};t.lightMapIntensity&&(r["io3d-data3d"]+="; lightMapIntensity: "+t.lightMapIntensity+"; lightMapExposure: "+t.lightMapCenter);var i=tt({attributes:r,parent:e});(t.bakeRegularStatusFileKey||t.bakePreviewStatusFileKey)&&function(e,t){(function(e){return Ke(function(t,r,i){Qe(e,{type:"json",cdn:!1}).then(function(e){if(e&&e.params)switch(e.params.status){case"SUCCESS":t(e.params.data);break;case"PROCESSING":case"ENQUEUED":i();break;default:r(e.params.data)}})})})(t.bakeRegularStatusFileKey||t.bakePreviewStatusFileKey).then(function(r){var i="key: "+r;t.lightMapIntensity&&(i+="; lightMapIntensity: "+t.lightMapIntensity+"; lightMapExposure: "+t.lightMapCenter),e.setAttribute("io3d-data3d",i)})}(i,t)}else console.warn("Level without bakedModelUrl: ",t)}(i,e),e.children&&e.children.length&&$e(e.children,i),r&&r.push(i)}}),r}function et(e){var t=-e.parent.ry*Math.PI/180,r=e.x*Math.cos(t)-e.z*Math.sin(t),i=e.z*Math.cos(t)+e.x*Math.sin(t),n={};n.x=e.parent.x+r,n.y=e.parent.y+e.y,n.z=e.parent.z+i;var o=e.rx*Math.PI/180,a=(e.parent.ry+e.ry)*Math.PI/180;n.x-=e.distance*Math.sin(a)*Math.cos(o),n.y-=e.distance*Math.sin(o),n.z-=e.distance*Math.cos(a)*Math.cos(o);var s={};return s.x=e.rx,s.y=180+e.parent.ry+e.ry,"bird"!==e.mode&&"floorplan"!==e.mode||(n.y=Math.max(e.distance-5,8)),{rotation:s.x+" "+s.y+" 0",position:n.x+" "+n.y+" "+n.z}}function tt(e){var t=e.tag||"a-entity",r=e.parent,i=e.attributes||{},n=document.createElement(t);return Object.keys(i).forEach(function(e){n.setAttribute(e,i[e])}),r?r.appendChild(n):n}function rt(e,t){var r=[];return e.parent=t,r.push(e),e.children&&e.children.forEach(function(t){r=r.concat(rt(t,e))}),r}function it(e){var t={};return(e=Array.isArray(e)?e:[e]).forEach(function(e){"interior"===e.type&&e.src&&"string"==typeof e.src&&(t[e.src.substring(1)]=!0),e.children&&e.children.length&&(t=Ss({},t,it(e.children)))}),t}function nt(e,t,r){var i=Array.isArray(e);return e=i?e:[e],e=e.map(function(e){if("interior"===e.type&&e.src.substring(1)===t&&r.furniture){e.src="!"+r.furniture.id;var i=function(e,t){var r=Math.sin(e.ry/180*Math.PI),i=Math.cos(e.ry/180*Math.PI);return{x:e.x+t.x*i+t.z*r,y:e.y+t.y,z:e.z-t.x*r+t.z*i}}(e,r.offset);e.x=i.x,e.y=i.y,e.z=i.z}return e.children&&e.children.length&&(e.children=nt(e.children,t,r)),e}),i?e:e[0]}function ot(e){e=e||6;for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function at(e){var t={email:e.email,password:e.password||Gn.generate(),accountSetup:"3dio",emailOptIn:e.emailOptIn||!1};return C("User.logOut").then(function(){return zi.debug('Sending API sign up request for email "'+t.email+'" ...'),C("User.create",t)}).then(function(e){return zi.debug('API: User sign up with email "'+t.email+'" was successful.'),Un.resolve()},function(e){return zi.debug('API: Could not sign up using email "'+t.email+'".',e),Un.reject(e)})}function st(e){var t=!!e.user,r={};return t&&(r.id=e.user.resourceId,r.username=e.user.resourceName,r.email=e.user.email),{isAuthenticated:t,user:r}}function ct(){return zi.debug("Sending API session request..."),C("User.getSession").then(st).then(function(e){return zi.debug("API: session data:\n",e),Nu.next(e),e},function(e){return zi.debug("API: error receiving session data.",e),Un.reject(e)})}function lt(e){var t={email:e.email};return zi.debug("Sending password reset request to API ..."),C("User.requestPasswordReset",t).then(function(e){return zi.debug("API: requesting password reset successful."),Un.resolve()},function(e){return zi.debug("API: requesting password reset failed.",e),Un.reject(e)})}function ut(e){var t={email:e.email};return zi.debug("Sending account activation request to API ..."),C("User.requestAccountActivation",t).then(function(e){return zi.debug("API: requesting account activation successful."),Un.resolve()},function(e){return zi.debug("API: requesting account activation failed.",e),Un.reject(e)})}function pt(e){var t={username:e.username||e.email,password:e.password||Gn.generate()};return zi.debug('Sending API login request for user "'+t.username+'" ...'),C("User.logOut").then(function(){return C("User.logIn",{loginData:{resourceName:t.username,password:t.password}})}).then(function(){return ct()}).then(function(e){return e.isAuthenticated?(zi.debug('API: User "'+e.user.email+'" logged in successfully.'),e):Ni.isNode?Un.reject("io3d.auth.logIn cannot be used in node.js. Please use secret key authentication instead. See https://3d.io/docs/api/1/get-started-node-server.html#using-secret-api-key for further info."):Un.reject("Log in error: Session could not been established.")}).catch(function(e){return zi.debug('API: Could not log in user "'+t.username+'".',e),Un.reject(e)})}function ft(){return zi.debug("Sending API log out request..."),C("User.logOut").then(function(e){return ct()}).then(function(e){return e.isAuthenticated?Un.reject("Log out error: Session has not been terminated."):(zi.debug("API: Log out successful."),e)}).catch(function(e){return zi.error("Log out error.",e),Un.reject(e)})}function dt(){return zi.debug("Sending API request to generate secret API key ..."),C("Organization.generateSecretApiKey").then(function(e){return zi.debug("API: Generating secret API key successful: ",e),e},function(e){return zi.error("API: Error generating secret key.",e),Un.reject(e)})}function ht(){return zi.debug("Sent API request reading secret key ..."),C("Organization.read").then(function(e){return e.secretApiKey?(zi.debug("Received secret API key from API"),e.secretApiKey):(zi.debug("User has no secret key. Sent request to generate one."),dt())},function(e){return zi.debug("Error receiving secret API key"),Promise.reject(e)})}function mt(e){var t=e.allowedDomains;return zi.debug("Sending API request to generate publishable API key ..."),C("Organization.generatePublishableApiKey",{allowedDomains:t}).then(function(e){return zi.debug("API: Generating publishable API key successful: ",e),e},function(e){return zi.error("API: Error generating publishable key.",e),Un.reject(e)})}function gt(){return zi.debug("Sending API request to list publishable API keys ..."),C("Organization.listPublishableApiKeys").then(function(e){return zi.debug("API: Listing publishable API keys successful: ",e),e},function(e){return zi.error("API: Error listing publishable keys.",e),Un.reject(e)})}function bt(e){var t=e.key,r=e.allowedDomains;return zi.debug("Sending API request to update publishable API key domains ..."),C("Organization.updatePublishableApiKeyDomains",{key:t,allowedDomains:r}).then(function(e){return zi.debug("API: Updating publishable API key domains successful: ",e),e},function(e){return zi.error("API: Error updating publishable key domains.",e),Un.reject(e)})}function vt(e){var t=e.key;return zi.debug("Sending API request to generate publishable API key ..."),C("Organization.revokePublishableApiKey",{key:t}).then(function(e){return zi.debug("API: Revoking publishable API key successful: ",e),e},function(e){return zi.error("API: Error revoking publishable key.",e),Un.reject(e)})}function yt(e){var t,r=Ou;return e.indexOf(".")>-1&&(t=e.split(".").pop().toLowerCase(),zu[t]&&(r=zu[t])),r}function _t(e,t){if(t=t||{},Array.isArray(e)){var r=0,i=[],n=t.onProgress;return Un.map(e,function(e,o){return r+=e.size,wt(e,{dir:t.dir,onProgress:function(e,t){i[o]=e,n&&n(i.reduce(function(e,t){return e+t},0),r)}})})}return wt(e,t)}function wt(e,t){var r=t.key,i=t.dir,n=t.filename||t.fileName||e.name||"unnamed.txt",o=t.onProgress;return function(e,t,r){var i=!!((e=e||(t?("/"===t[t.length-1]?t:t+"/")+r:null))&&e.indexOf(Lu)>-1);return e&&!i?Un.resolve(e):Mu.getSession().then(function(t){if(i)return t.isAuthenticated||Bi.secretApiKey?e.replace("{{userId}}",t.user.id||Bi.secretApiKey):(console.error("Using key parameter with template syntax requires authentication."),Un.reject("Please log in to upload file."));var n=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"_"+e.getHours()+"-"+e.getMinutes()}()+"_"+ot();return t.isAuthenticated?"/"+t.user.id+"/"+n+"/"+r:null})}(r,i,n).then(xt).then(function(t){return function(e,t,r){t&&"/"===t[0]&&(t=t.substring(1));var i={contentLength:e.size||e.length};if(t)i.contentType=yt(t),i.key=t;else{if(!r)return Un.reject("Key or fileName param must be provided.");i.contentType=yt(r),i.fileName=r}return C("S3.getCredentials",i)}(e,t,n)}).then(function(t){return function(e,t,r){var i=new Du;return i.append("key",t.key),i.append("AWSAccessKeyId",t.AWSAccessKeyId),i.append("acl",t.acl),i.append("Content-Type",t.contentType),i.append("policy",t.policy),i.append("signature",t.signature),i.append("success_action_status","201"),t.contentEncoding&&i.append("Content-Encoding",t.contentEncoding),i.append("file",e),Ni.isBrowser?new Un(function(e,n){var o=new XMLHttpRequest;o.crossOrigin="Anonymous",o.onload=function(t){if(o.status>=200&&o.status<300){var r=Ct(o.responseText);r?e(r):n("Error Uploading File: "+o.responseText)}else n("Error Uploading File: "+o.responseText)},o.onerror=function(e){n(e)},r&&o.upload.addEventListener("progress",function(e){r(e.loaded,e.total)},!1),o.open("POST",t.url,!0),o.send(i)}):Hi(t.url,{method:"POST",body:i}).then(function(e){return e.text()}).then(function(e){return Ct(e)||Un.reject("Error Uploading File: "+e)})}(e,t,o)})}function xt(e){return e?Vu.test(e)?Un.resolve(e):Un.reject("Key format validation failed.\n"+e+'\nKey must match the following pattern\n- must start with a slash\n- must not end with a slash\n- must have one or more directories\n- must not include double slashes like: "//"\n- allowed characters are: a-z A-Z 0-9 _ - . /'):Un.resolve(null)}function Ct(e){var t=/<Key>(.*)<\/Key>/gi.exec(e);return!!t&&"/"+t[1]}function St(e){return Xe(e,{cdn:!1})}function jt(e){if(Bu[e])return Bu[e];var t=new RegExp("^(http(s?))\\:\\/\\/("+Bi.storageDomain+"|"+Bi.storageDomainNoCdn+")");if(t.test(e)){var r=e.replace(t,"");return Bu[e]=r,r}return void console.error("Provided URL is not a valid URL:",e)}function kt(e,t){if(t(e),e.children)for(var r=0,i=e.children.length;r<i;r++)kt(e.children[r],t)}function Pt(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[At(parseInt(t[1],16)/255,.001),At(parseInt(t[2],16)/255,.001),At(parseInt(t[3],16)/255,.001)]:null}function At(e,t){t||(t=1);var r=1/t;return Math.round(e*r)/r}function Et(e){return e}function Tt(e){var t,r,i,n=[],o=e?Object.keys(e):[],a={};if(!o.length)return Promise.resolve(a);var s=o.length&&e[o[0]].attributes;for(r=0,i=o.length;r<i;r++)t=o[r],a[t]=s?e[t].attributes:e[t],"string"==typeof a[t]&&("#"===a[t][0]?a[t]={colorDiffuse:Pt(a[t])}:(console.warn("Global material IDs are not being supported yet: https://github.com/archilogic-com/3dio-js/issues/94"),a[t]={colorDiffuse:[.9,.9,.9]}));return 0===n.length?Promise.resolve(Et(a)):Promise.all([]).then(function(e){for(r=0,i=n.length;r<i;r++)a[n[r]]=e[r].attributes;return Et(a)})}function It(e,t){if(e){var r,i,n,o=Object.keys(e);for(r=0,i=o.length;r<i;r++)if(void 0!==(n=e[o[r]]).positions&&0!==n.positions.length){if(!(n.positions instanceof Float32Array)){if(!(n.positions instanceof Array)){Hu&&console.error("Node:"+t+" Position vertices must be of type Float32Array or Array. Mesh will be ignored",n.position),delete e[o[r]];continue}n.positions=new Float32Array(n.positions)}n.positions.length/9%1==0?(void 0===n.normals||0===n.normals.length?n.normals=Yc.flat(n.positions):"string"==typeof n.normals?Yc[n.normals]?n.normals=Yc[n.normals](n.positions):(Hu&&console.error("Node:"+t+' Unknown normal shading method "'+n.normals+'". Fallback to flat shading.'),n.normals=Yc.flat(n.positions)):n.normals instanceof Float32Array||(n.normals instanceof Array?n.normals=new Float32Array(n.normals):(Hu&&console.error("Node:"+t+" Normal vertices should be of type Float32Array or Array. Fallback to flat shading.",n.normals),n.normals=Yc.flat(n.positions))),n.normals.length!==n.positions.length&&(Hu&&console.error("Node:"+t+" Position vertices and normal vertices count has to be the same. Fallback to flat Shading. ",n.normals.length,n.normals.length),n.normals=Yc.flat(n.positions)),n.uvs&&("string"==typeof n.uvs?Xc[n.uvs]?n.uvs=Xc[n.uvs](n.positions):(Hu&&console.error("Node:"+t+' Unknown UV1 mapping method "'+n.uvs+'". Fallback to architectural UV mapping.'),n.uvs=Xc.architectural(n.positions)):n.uvs instanceof Float32Array||(n.uvs instanceof Array?n.uvs=new Float32Array(n.uvs):(Hu&&console.error("Node:"+t+" UV Vertices should be of type Float32Array or Array. Fallback to architectural UV mapping.",n.uvs),n.uvs=Xc.architectural(n.positions))),n.uvs.length&&1.5*n.uvs.length!==n.positions.length&&(Hu&&console.error("Node:"+t+" Position Vertices and UV vertices count not in ratio of 3:2. Fallback to architectural UV mapping. ",n.positions.length,n.uvs.length),n.uvs=Xc.architectural(n.positions))),n.uvsLightmap&&n.uvsLightmap.length&&1.5*n.uvs.length!==n.positions.length&&(Hu&&console.error("Node:"+t+" Position Vertices and Lightmap UV Vertices count not in ratio of 3:2.",n.positions.length,n.uvs.length),delete n.uvsLightmap)):(Hu&&console.error("Node:"+t+" Invalid position vertices count: "+n.positions.length+". Has to be multiple of 9. Mesh will be ignored."),delete e[o[r]])}else delete e[o[r]];return e}return e}function Ft(e,t){Ni.assertBrowser();var r=(t=t||{}).maxWidth||Gu,i=t.maxHeight||qu,n=!!t.powerOfTwo;return new Un(function(t,o){var a,s=e.width,c=e.height;n&&!(Rt(s)&&Rt(c))&&(s=Dt(s),c=Dt(c));var l=Math.min(s,r),u=Math.min(c,i);s<c?l=u*(s/c):u=l*(c/s),a=function(e,t,r){var i=document.createElement("canvas");i.width=t,i.height=r;var n=i.getContext("2d");return n.fillStyle="#FFFFFF",n.fillRect(0,0,t,r),n.drawImage(e,0,0,t,r),i}(e,s,c),t(l/s<1?function(e,t){if(!(t<1&&t>0))throw"scale must be a positive number <1 ";t=function(e){if(e>1)throw"s must be <1";for(var t=function(e){var t=[2,12,240,65280,4294901760],r=[1,2,4,8,16],i=0,n=0;for(i=4;i>=0;i--)e&t[i]&&(e>>=r[i],n|=r[i]);return n}(e=0|1/e),r=1<<t,i=4;i&&t;)r|=1<<--t,i--;return 1/(e&r)}(t);var r=new Float32Array(3*e.width*e.height),i=t*t,n=e.width,o=e.height,a=Math.floor(n*t),s=Math.floor(o*t),c=0,l=0,u=0,p=0,f=0,d=0,h=0,m=0,g=0,b=0,v=0,y=0,_=0,w=0,x=0,C=!1,S=!1,j=e.getContext("2d").getImageData(0,0,n,o).data,k=0,P=0,A=0;for(l=0;l<o;l++)for(d=3*(g=0|(f=l*t))*a,(S=g!==(0|f+t))&&(w=g+1-f,x=f+t-g-1),c=0;c<n;c++,u+=4)h=d+3*(m=0|(p=c*t)),(C=m!==(0|p+t))&&(y=m+1-p,_=p+t-m-1),k=j[u],P=j[u+1],A=j[u+2],C||S?C&&!S?(b=y*t,r[h]+=k*b,r[h+1]+=P*b,r[h+2]+=A*b,v=_*t,r[h+3]+=k*v,r[h+4]+=P*v,r[h+5]+=A*v):!C&&S?(b=w*t,r[h]+=k*b,r[h+1]+=P*b,r[h+2]+=A*b,v=x*t,r[h+3*a]+=k*v,r[h+3*a+1]+=P*v,r[h+3*a+2]+=A*v):(b=y*w,r[h]+=k*b,r[h+1]+=P*b,r[h+2]+=A*b,v=_*w,r[h+3]+=k*v,r[h+4]+=P*v,r[h+5]+=A*v,v=y*x,r[h+3*a]+=k*v,r[h+3*a+1]+=P*v,r[h+3*a+2]+=A*v,v=_*x,r[h+3*a+3]+=k*v,r[h+3*a+4]+=P*v,r[h+3*a+5]+=A*v):(r[h]+=k*i,r[h+1]+=P*i,r[h+2]+=A*i);var E=document.createElement("canvas");E.width=a,E.height=s;var T=E.getContext("2d"),I=T.getImageData(0,0,a,s),F=I.data,R=0;for(u=0,h=0;R<a*s;u+=3,h+=4,R++)F[h]=0|r[u],F[h+1]=0|r[u+1],F[h+2]=0|r[u+2],F[h+3]=255,r[u]=0,r[u+1]=0,r[u+2]=0;return T.putImageData(I,0,0),E}(a,l/s):a)})}function Rt(e){return 0==(e&e-1)&&0!==e}function Dt(e){var t=Math.log(e)/Math.LN2;return Math.pow(2,Math.round(t))}function Nt(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+"_"+e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds()+"_"+ot()}function Mt(e,t){Ni.assertBrowser();var r=(t=t||{}).mimeType||"image/jpeg",i=t.quality||98,n=t.fileName||Nt()+("image/jpeg"===r?".jpg":".png");return new Un(function(t,o){e.toBlob(function(e){e.name=n,t(e)},r,i)})}function Ot(e,t){return Ni.assertBrowser(),new Promise(function(r,i){var n=new window.FileReader;n.onload=function(e){r(n.content||n.result)},n.onerror=function(e){i(e)},n[Ku[t]](e)})}function zt(e,t){t=t||{};var r=e.name,i=r?r.split(".").pop().toLowerCase():"jpg";return"jpg"===i||"jpeg"===i||"jpe"===i||"png"===i?function(e){var t=e.name;return new Un(function(r,i){var n=new Image,o=window.URL||window.webkitURL,a=o.createObjectURL(e);n.onload=function(){o.revokeObjectURL(a),r(n)},n.onerror=function(e){o.revokeObjectURL(a),console.error("Error converting image: "+t,e),i("Error converting image: "+t)},n.src=a})}(e):"tga"===i?function(e){return W(Yu).then(function(t){return Ot(e,"arrayBuffer").then(function(r){return new Un(function(i,n){var o=new t,a=new Image;a.onload=function(){i(a)},a.onerror=function(t){console.error("Error converting image: "+e.name,t),n("Error converting image: "+e.name)},o.load(new Uint8Array(r)),a.src=o.getDataURL()})})})}(e):Un.reject("Image of type "+i+" not supported")}function Lt(e,t){var r=t.getWorldPosition(),i=t.getWorldRotation(),n=t.getWorldScale();e.position=[r.x,r.y,r.z],e.rotRad=[i.x,i.y,i.z],e.scale=[n.x,n.y,n.z]}function Vt(e,t,r,i,n,o){var a=n(),s=e.materials[a]={};t.material=a,function(e,t,r){[["opacity","opacity"],["shininess","specularCoef"]].forEach(function(e){var i=e[0],n=e[1];void 0!==t[i]&&(r[n]=t[i])})}(0,i,s),function(e,t){e.normalScale&&(t.mapNormalFactor=e.normalScale.x)}(i,s),function(e,t,r){[["color","colorDiffuse"],["specular","colorSpecular"],["emissive","colorEmissive"]].forEach(function(e){var i=e[0],n=e[1];t[i]&&(r[n]=[t[i].r,t[i].g,t[i].b])})}(0,i,s),function(e,t,r,i){[["map","mapDiffuse"],["specularMap","mapSpecular"],["normalMap","mapNormal"],["alphaMap","mapAlpha"]].forEach(function(e){var n=e[0],o=e[1],a=t[n]?t[n].image:null;if(a&&a.src){var s=t[n].isCompressedTexture,c=t.userData&&t.userData.data3dMaterial?t.userData.data3dMaterial:null;s?c&&c[o+"Source"]&&c[o].indexOf(a.src)>-1?(r[o+"Source"]=jt(c[o+"Source"]),r[o+"Preview"]=jt(c[o+"Preview"]),r[o]=jt(c[o])):console.warn('Texture "'+a.src+'" could not be converted into data3d texture set.'):i.push(function(e){var t={loRes:null,source:null,dds:null};return function(e){return Un.resolve().then(function(){return"string"==typeof e?function(e){return new Un(function(t,r){var i=document.createElement("img");i.crossOrigin="Anonymous",i.onload=function(){t(i)};var n=!1;i.onerror=function(){n?r("Error loading image "+e):(n=!0,i.src=(e.indexOf("?"),"&cacheBust="+(new Date).getTime()))},i.src=e})}(e):e instanceof Blob?zt(e):e}).then(function(e){return Ft(e,{powerOfTwo:!1,maxWidth:2048,maxHeight:2048})})}(e).then(function(e){return Un.all([function(e){return Ft(e,{powerOfTwo:!0,maxWidth:256,maxHeight:256})}(e).then(Mt).then(_t).then(function(e){t.loRes=e}),Mt(e).then(_t).then(function(e){return t.source=e,function(e){return e=e.substring(1),C("Processing.task.enqueue",{method:"convertImage.dds",params:{inputFileKey:e,outputDirectory:cl.parse(e).dir}})}(e).then(function(r){t.dds=e.replace(".jpg",".hi-res.gz.dds")})})])}).then(function(){return t})}(a).then(function(e){r[o+"Preview"]=e.loRes,r[o+"Source"]=e.source,r[o]=e.dds}))}})}(0,i,s,o)}function Bt(){return Ni.isBrowser?W(Ju.deflate.url):Promise.resolve(require(Ju.deflate.module))}function Wt(){return Ni.isBrowser?W(Ju.inflate.url):Promise.resolve(require(Ju.inflate.module))}function Ht(e,t){var r=e[0],i=e[1],n=e[2],o=e[3];i=Kt(i=Kt(i=Kt(i=Kt(i=qt(i=qt(i=qt(i=qt(i=Gt(i=Gt(i=Gt(i=Gt(i=Zt(i=Zt(i=Zt(i=Zt(i,n=Zt(n,o=Zt(o,r=Zt(r,i,n,o,t[0],7,-680876936),i,n,t[1],12,-389564586),r,i,t[2],17,606105819),o,r,t[3],22,-1044525330),n=Zt(n,o=Zt(o,r=Zt(r,i,n,o,t[4],7,-176418897),i,n,t[5],12,1200080426),r,i,t[6],17,-1473231341),o,r,t[7],22,-45705983),n=Zt(n,o=Zt(o,r=Zt(r,i,n,o,t[8],7,1770035416),i,n,t[9],12,-1958414417),r,i,t[10],17,-42063),o,r,t[11],22,-1990404162),n=Zt(n,o=Zt(o,r=Zt(r,i,n,o,t[12],7,1804603682),i,n,t[13],12,-40341101),r,i,t[14],17,-1502002290),o,r,t[15],22,1236535329),n=Gt(n,o=Gt(o,r=Gt(r,i,n,o,t[1],5,-165796510),i,n,t[6],9,-1069501632),r,i,t[11],14,643717713),o,r,t[0],20,-373897302),n=Gt(n,o=Gt(o,r=Gt(r,i,n,o,t[5],5,-701558691),i,n,t[10],9,38016083),r,i,t[15],14,-660478335),o,r,t[4],20,-405537848),n=Gt(n,o=Gt(o,r=Gt(r,i,n,o,t[9],5,568446438),i,n,t[14],9,-1019803690),r,i,t[3],14,-187363961),o,r,t[8],20,1163531501),n=Gt(n,o=Gt(o,r=Gt(r,i,n,o,t[13],5,-1444681467),i,n,t[2],9,-51403784),r,i,t[7],14,1735328473),o,r,t[12],20,-1926607734),n=qt(n,o=qt(o,r=qt(r,i,n,o,t[5],4,-378558),i,n,t[8],11,-2022574463),r,i,t[11],16,1839030562),o,r,t[14],23,-35309556),n=qt(n,o=qt(o,r=qt(r,i,n,o,t[1],4,-1530992060),i,n,t[4],11,1272893353),r,i,t[7],16,-155497632),o,r,t[10],23,-1094730640),n=qt(n,o=qt(o,r=qt(r,i,n,o,t[13],4,681279174),i,n,t[0],11,-358537222),r,i,t[3],16,-722521979),o,r,t[6],23,76029189),n=qt(n,o=qt(o,r=qt(r,i,n,o,t[9],4,-640364487),i,n,t[12],11,-421815835),r,i,t[15],16,530742520),o,r,t[2],23,-995338651),n=Kt(n,o=Kt(o,r=Kt(r,i,n,o,t[0],6,-198630844),i,n,t[7],10,1126891415),r,i,t[14],15,-1416354905),o,r,t[5],21,-57434055),n=Kt(n,o=Kt(o,r=Kt(r,i,n,o,t[12],6,1700485571),i,n,t[3],10,-1894986606),r,i,t[10],15,-1051523),o,r,t[1],21,-2054922799),n=Kt(n,o=Kt(o,r=Kt(r,i,n,o,t[8],6,1873313359),i,n,t[15],10,-30611744),r,i,t[6],15,-1560198380),o,r,t[13],21,1309151649),n=Kt(n,o=Kt(o,r=Kt(r,i,n,o,t[4],6,-145523070),i,n,t[11],10,-1120210379),r,i,t[2],15,718787259),o,r,t[9],21,-343485551),e[0]=Xt(r,e[0]),e[1]=Xt(i,e[1]),e[2]=Xt(n,e[2]),e[3]=Xt(o,e[3])}function Ut(e,t,r,i,n,o){return t=Xt(Xt(t,e),Xt(i,o)),Xt(t<<n|t>>>32-n,r)}function Zt(e,t,r,i,n,o,a){return Ut(t&r|~t&i,e,t,n,o,a)}function Gt(e,t,r,i,n,o,a){return Ut(t&i|r&~i,e,t,n,o,a)}function qt(e,t,r,i,n,o,a){return Ut(t^r^i,e,t,n,o,a)}function Kt(e,t,r,i,n,o,a){return Ut(r^(t|~i),e,t,n,o,a)}function Yt(e){for(var t="",r=0;r<4;r++)t+=$u[e>>8*r+4&15]+$u[e>>8*r&15];return t}function Xt(e,t){return e+t&4294967295}function Qt(e){return function(e){for(var t=0;t<e.length;t++)e[t]=Yt(e[t]);return e.join("")}(function(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ht(i,function(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(Ht(i,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,Ht(i,n),i}(e))}function Jt(e,t){var r,i=void 0===(t=t||{}).createFile||t.createFile,n=void 0===t.gzipFile||t.gzipFile,o=t.filename||Nt()+tp,a={buffer:null,file:null,warnings:[]},s={};o.substring(o.length-tp.length)!==tp&&(o+=tp);var c,l,u,p,f,d,h,m,g,b,v=[],y=0,_=Yn(e);kt(_,function(e){for(c=e.meshes,l=e.meshKeys||Object.keys(c),u=0,p=l.length;u<p;u++)d=c[l[u]],op.forEach(function(e){if(f=d[e]){if(f.length){var t=Qt(f.join("-"));s[t]||(s[t]={offset:y,length:f.length},v[v.length]=f,y+=f.length),d[e+"Offset"]=s[t].offset,d[e+"Length"]=s[t].length}delete d[e]}});for(m=e.materials,h=Object.keys(e.materials),u=0,p=h.length;u<p;u++)g=m[h[u]],ep.names.forEach(function(e){g[e]&&(b=jt(g[e]))&&(g[e]=b)})});var w=4*y,x={version:np,data3d:_},C=JSON.stringify(x,function(e,t){return t instanceof Float32Array?Array.apply([],t):t}),S=2*C.length;(function(e,t){return Math.ceil(e/4)===e/4})(S)||(C+=" ",S+=2);var j=new ArrayBuffer(rp+S+w),k=new Uint16Array(j,rp,S/2);for(u=0,p=C.length;u<p;u++)k[u]=C.charCodeAt(u);var P=rp+S,A=new Float32Array(j,P,w/4),E=0;for(u=0,p=v.length;u<p;u++)f=v[u],A.set(f,E),E+=f.length;var T=new Int32Array(j,0,rp/4);if(T[0]=ip,T[1]=np,T[2]=S,T[3]=w,a.buffer=j,i&&!n){var I=new Blob([new DataView(j)],{type:"application/octet-stream"});I.name=o,a.file=I}else i&&n&&(r=Qu.deflate(j).then(function(e){var t=new Blob([e],{type:"application/x-gzip"});return t.name=o.replace(".",".gz."),a.file=t,a}));return r||(r=Un.resolve(a)),r.then(function(){return i?a.file:a.buffer})}function $t(e){return e?Hi(function(e){var t="___cacheBust="+Date.now();return e=e.indexOf("?")>-1?e.replace("?","?"+t+"&"):e.indexOf("#")>-1?e.replace("#","?"+t+"#"):e+"?"+t}(e),{method:"HEAD",cache:"reload"}).then(function(e){return e.ok},function(){return!1}):Promise.reject("Please provide file URL string as param.")}function er(e,t){var r=(t=t||{}).filter,i={};return kt.materials(e,function(t){for(var n,o,a,s,c=0,l=ep.names.length;c<l;c++)(s=t[n=ep.names[c]])&&(r&&(o=ep.nameToType[n],a=ep.nameToFormat[n],s=r(s,o,a,t,e)),s&&(i[s]=!0))}),Object.keys(i)}function tr(e){var t=St(e);return Ke(function(e,r,i){$t(t).then(function(t){t?e():i()})})}function rr(e){return Xu(e).then(Jt).then(_t)}function ir(e){return function(t,r){return r=r||{},function(e){return me(Xe(e)).then(function(e){return er(e,{filter:function(e,t,r,i,n){return"source"===r&&e}})}).then(function(e){return e.map(jt)})}(t).then(function(i){var n={method:"convert".concat(".",e),params:{inputFileKey:t,inputAssetKeys:i}};return r.filename&&(n.params.settings=JSON.stringify({outputFileName:r.filename})),C("Processing.task.enqueue",n)})}}function nr(e){return Gn.validate(e)?C("Model.read",{arguments:{resourceId:e}}).then(function(e){var t=e.modelStructure;return t.id=e.modelResourceId,t.v=1,t.modelDisplayName=e.modelDisplayName,t.modelResourceName=e.modelResourceName,t}):Promise.reject("id not valid")}function or(e){return nr(e).then(Je)}function ar(e,t,r){var i=[];return t.forEach(function(t){if(r&&!(lp[r].childrenTypes.indexOf(t.type)>-1))return e.isValid=!1,o='"'+t.type+'" is invalid child for "'+r+'"',void e.errors.push({message:o,item:t,code:cp.CHILDREN_TYPE});if(t&&t.type)if(lp[t.type]){var n={};(function(e,t,r,i){var n=!0;return Object.keys(t.params).sort().forEach(function(o){var a=t.params[o],s=r[o];if(void 0!==s){var c=Le(s,a.type);if(a.type!==c)return n=!1,l='Parameter "'+o+'" is of type "'+c+'" but should be type "'+a.type+'"',void e.errors.push({message:l,item:r,code:cp.TYPE});if(void 0!==a.possibleValues&&-1===a.possibleValues.indexOf(s))return n=!1,l='Parameter "'+o+'" has value "'+s+'" but should be one of: '+JSON.stringify(a.possibleValues),void e.errors.push({message:l,item:r,code:cp.VALUE});if(void 0!==a.min&&"number"===a.type&&s<=a.min)return n=!1,l='Parameter "'+o+'" has value '+s+" which is below allowed minimum of "+a.min,void e.errors.push({message:l,item:r,code:cp.MIN_VALUE});if(void 0!==a.max&&"number"===a.type&&s>=a.max)return n=!1,l='Parameter "'+o+'" has value '+s+" which is above allowed maximum of "+a.max,void e.errors.push({message:l,item:r,code:cp.MAX_VALUE});i[o]=s}else if(!a.optional){n=!1;var l='Parameter "'+o+'" is mandatory but not set';return void e.errors.push({message:l,item:r,code:cp.MISSED})}}),Object.keys(r).forEach(function(i){if(!t.params[i]){var n='Parameter "'+i+'" is not supported and will be ignored';e.warnings.push({message:n,item:r,code:cp.NOT_SUPPOPRTED})}}),n||(e.isValid=!1),n})(e,lp[t.type],t,n)&&(i.push(n),n.children&&n.children.length&&(n.children=ar(e,n.children,n.type)))}else e.isValid=!1,o='Parameter "type" of value "'+t.type+'" is not supported',e.errors.push({message:o,item:t,code:cp.NOT_SUPPOPRTED});else{e.isValid=!1;var o='Missing "type" parameter';e.errors.push({message:o,item:t,code:cp.TYPE})}}),i}function sr(e){return function(t,r){var i={sunDirection:(r=r||{}).sunDirection||[.75,-.48,-.46]};r.lightMapCount&&(i.lightMapCount=r.lightMapCount),r.samples&&(i.samples=r.samples);var n=[],o={method:"bake".concat(".",e),params:{inputFileKey:t,inputAssetKeys:n,settings:JSON.stringify(i)}};return n.length>0&&(o.params.inputAssetKeys=n),C("Processing.task.enqueue",o)}}function cr(e){return function(t,r){var i={};(r=r||{}).ratio&&(i.ratio=r.ratio),r.subdivisions&&(i.subdivisions=r.subdivisions);var n={method:"modify".concat(".",e),params:{inputFileKey:t}};return Object.keys(i).length>0&&(n.params.settings=JSON.stringify(i)),C("Processing.task.enqueue",n)}}function lr(e){var t=[];return Object.keys(e.materials).forEach(function(r){var i=e.materials[r];i.mapDiffuse&&t.push(i.mapDiffuse),i.mapDiffusePreview&&t.push(i.mapDiffusePreview),i.mapNormal&&t.push(i.mapNormal),i.mapNormalPreview&&t.push(i.mapNormalPreview),i.mapSpecular&&t.push(i.mapSpecular),i.mapSpecularPreview&&t.push(i.mapSpecularPreview),i.mapAlpha&&t.push(i.mapAlpha),i.mapAlphaPreview&&t.push(i.mapAlphaPreview),i.mapLight&&t.push(i.mapLight),i.mapLightPreview&&t.push(i.mapLightPreview)}),t}function ur(e){e.remove=function(t){return t?e.removeChild(t):e.parentNode.removeChild(e),e},e.empty=function(){for(;e.lastChild;)e.removeChild(e.lastChild);return e},e.append=function(t){return t&&(pr(t)?e.appendChild(t):e.innerHTML=t),e},e.appendTo=function(t){return"body"===t?document.body.appendChild(e):t.appendChild(e),e},e.prependTo=function(t){return"body"===t?document.body.prepend(e):t.prepend(e),e},e.val=function(t){return t&&e.setAttribute("value",t),e.value},e.addClass=function(t){return e.classList.add(t),e},e.removeClass=function(t){return e.classList.remove(t),e},e.hide=function(){return e.___originalStyleDisplay=e.style.display,e.style.display="none",e},e.show=function(){return e.style.display=e.___originalStyleDisplay&&""!==e.___originalStyleDisplay?e.___originalStyleDisplay:"block",e},e.toggleSlide=function(){!function(e){var t=0;e.getAttribute("data-max-height")?"0"===e.style.maxHeight.replace("px","").replace("%","")?(e.style.maxHeight=e.getAttribute("data-max-height"),e.style.opacity=1):(e.style.maxHeight=0,e.style.opacity=0):(t=function(e){var t=window.getComputedStyle(e),r=t.display,i=t.position,n=t.visibility,o=t.maxHeight.replace("px","").replace("%",""),a=0;return"none"!==r&&"0"!==o?e.offsetHeight:(e.style.position="absolute",e.style.visibility="hidden",e.style.display="block",a=e.offsetHeight,e.style.display=r,e.style.position=i,e.style.visibility=n,a)}(e)+"px",e.style["-webkit-transition"]="opacity 0.5s ease-out, max-height 0.5s cubic-bezier(0.165, 0.84, 0.44, 1)",e.style.transition="opacity 0.5s ease-out, max-height 0.5s cubic-bezier(0.165, 0.84, 0.44, 1)",e.style.overflowY="hidden",e.style.maxHeight="0",e.setAttribute("data-max-height",t),e.style.display="block",setTimeout(function(){e.style.maxHeight=t,e.style.opacity=1},10))}(e)}}function pr(e){return"object"===("undefined"==typeof HTMLElement?"undefined":Yr(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":Yr(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function fr(e,t,r){if(Ni.assertBrowser(),!e||""===e)return Un.resolve();t=void 0!==t?t:4e3,r=r||"neutral";var i=!1,n=bp("<div>",{class:"message"}).prependTo(vp).hide();bp("<div>",{class:"spacer"}).appendTo(n);var o=bp("<div>",{class:"text "+r}).appendTo(n);bp.isElement(e)?o.append(e):o.innerHTML=e;var a,s=new Un(function(e,t){a=e});return s.close=function(){i||(i=!0,n.toggleSlide(),setTimeout(function(){n.remove()},500),a())},n.toggleSlide(),t&&setTimeout(s.close,t),s}function dr(e,t,r){for(var i,n,o,a,s=[],c=0,l=e.length;c<l;c++)if(i=e[c],"string"==typeof(n=i.name)){if("."===n[0]||"__MACOSX/"===n.substring(0,9))continue;(o=n.split(".").length>1?"."+n.split(".").pop().toLowerCase():null)?(a=yp.indexOf(o)>-1,t&&!a?(console.error("File "+n+" is not supported and will be ignored."),r("File "+n+" is not supported and will be ignored.")):s[s.length]=i):(console.error("File "+n+" has no extension and will be ignored."),r("File "+n+" has no extension and will be ignored."))}return s}function hr(e,t){return Promise.all(e.map(function(e){if(e.isFile)return new Promise(function(r,i){e.file(function(i){var n=new Blob([i],{type:i.type});n.name=e.fullPath.substring(1),t[t.length]=n,r()})});if(e instanceof File){var r=new Blob([e],{type:e.type});r.name=e.name,t[t.length]=r}else if(e.isDirectory)return new Promise(function(r,i){e.createReader().readEntries(function(e){r(hr(e,t))})})}))}function mr(e){var t,r,i;if(!(e.length&&e[0].name&&e[0].name.indexOf("/")>-1))return e;for(t=e[0].name.split("/")[0],r=1,i=e.length;r<i;r++)if(!(e[r].name&&e[r].name.indexOf("/")>-1&&e[r].name.split("/")[0]===t))return e;for(r=0,i=e.length;r<i;r++)e[r].name=e[r].name.substring(t.length+1);return mr(e)}function gr(e){e.stopPropagation(),e.preventDefault()}function br(){function e(e){if(o.isVisible)return o.isVisible=!1,t.style["-webkit-animation"]="600ms overlay-fade-out ease-out",t.style.animation="600ms overlay-fade-out ease-out",t.style["-webkit-animation-fill-mode"]="forwards",t.style["animation-fill-mode"]="forwards",r.style["-webkit-animation"]="600ms content-slide-out ease-in",r.style.animation="600ms content-slide-out ease-in",r.style["-webkit-animation-fill-mode"]="forwards",r.style["animation-fill-mode"]="forwards",setTimeout(function(){t.remove()},600),e&&"function"==typeof e&&setTimeout(function(){e()},300),o}Ni.assertBrowser();var t=bp("<div>",{class:"io3d-overlay"}).appendTo(document.body),r=bp("<div>",{class:"centered-content"}).appendTo(t),i=bp("<div>",{class:"bottom-container"}).appendTo(t),n=bp("<div>",{class:"bottom-content"}).appendTo(i),o={isDestroyed:!1,isVisible:!1,mainEl:t,centerEl:r,bottomEl:n,show:function(e){if(!o.isVisible)return o.isVisible=!0,t.style.opacity=0,t.style.display="block",t.style["-webkit-animation"]="600ms overlay-fade-in ease-out",t.style.animation="600ms overlay-fade-in ease-out",t.style["-webkit-animation-fill-mode"]="forwards",t.style["animation-fill-mode"]="forwards",r.style["-webkit-animation"]="600ms content-slide-in cubic-bezier(0.2, 0.80, 0.5, 1)",r.style.animation="600ms content-slide-in cubic-bezier(0.2, 0.80, 0.5, 1)",r.style["-webkit-animation-fill-mode"]="forwards",r.style["animation-fill-mode"]="forwards",e&&"function"==typeof e&&setTimeout(function(){e()},500),o},hide:e,destroy:function(t){if(!o.isDestroyed)return e(function(){o.isDestroyed=!0,t&&"function"==typeof t&&t()}),o}};return o}function vr(e,t){return Ni.assertBrowser(),new Un(function(t,r){function i(e){13===e.which&&a()}function n(e){27===e.keyCode&&s(function(){r("User canceled action.")})}function o(){""!==f.val()?d.addClass("button-highlighted"):d.removeClass("button-highlighted")}function a(){p.hide(),h.show(),lt({email:f.val()}).then(function(){h.hide(),m.show()}).then()}function s(e){document.body.removeEventListener("keydown",n),f.removeEventListener("keydown",i),f.removeEventListener("input",o),l.destroy(e)}var c=(e=e||{}).email,l=br().show();bp("<div>",{text:"x",class:"button close-button",click:function(){s(function(){r("User canceled action.")})}}).appendTo(l.mainEl);var u=bp("<div>",{style:_p}).appendTo(l.centerEl),p=bp("<div>").appendTo(u);bp("<h1>",{text:"Reset Password"}).appendTo(p),bp("<p>",{text:"email:",class:"hint"}).appendTo(p);var f=bp("<input>",{type:"text"}).appendTo(p);c&&f.val(c),f.focus(),f.addEventListener("keydown",i),f.addEventListener("input",o);var d=bp("<div>",{text:"go",class:"button",click:a}).appendTo(p),h=bp("<div>",{text:"..."}).appendTo(u).hide(),m=bp("<div>").hide().appendTo(u);bp("<p>",{html:"Check your email for<br>support@archilogic.com<br>and follow instructions."}).appendTo(m),bp("<div>",{text:"ok",class:"button",click:function(){s(function(){t()})}}).appendTo(m),bp("<div>",{text:"Resend activation email.",style:_p,class:"clickable",click:function(){s(function(){_r({email:f.val()},{resendActivation:!0}).then(t,r)})}}).appendTo(l.bottomEl),bp("<div>",{text:"Already have an account? Log in.",style:_p,class:"clickable",click:function(){s(function(){yr({email:f.val()}).then(t,r)})}}).appendTo(l.bottomEl),document.body.addEventListener("keydown",n),o()})}function yr(e){return Ni.assertBrowser(),new Un(function(t,r){function i(e){13===e.which&&d.focus()}function n(e){13===e.which&&s()}function o(e){27===e.keyCode&&c(function(){r("User canceled action.")})}function a(){""!==f.val()&&""!==d.val()?h.addClass("button-highlighted"):h.removeClass("button-highlighted")}function s(){pt({email:f.val(),password:d.val()}).then(function(){c(t)},function(e){fr.error(e),e.indexOf("check your email and activate your account first")>-1&&c(function(){_r({email:f.val()},{resendActivation:!0}).then(t,r)})})}function c(e){document.body.removeEventListener("keydown",o),f.removeEventListener("keydown",i),f.removeEventListener("input",a),d.removeEventListener("keydown",n),d.removeEventListener("input",a),u.destroy(e)}var l={email:(e=e||{}).email,password:e.password},u=br().show();bp("<div>",{text:"x",class:"button close-button",click:function(){c(function(){r("User canceled action.")})}}).appendTo(u.mainEl),bp("<div>",{text:"New? Sign up now.",style:wp,class:"clickable",click:function(){c(function(){_r({email:f.val()}).then(t,r)})}}).appendTo(u.bottomEl),bp("<div>",{text:"Lost Password? Get a new one.",style:wp,class:"clickable",click:function(){c(function(){vr({email:f.val()}).then(t,r)})}}).appendTo(u.bottomEl);var p=bp("<div>",{style:wp}).appendTo(u.centerEl);bp("<h1>",{text:"Log In"}).appendTo(p),bp("<p>",{text:"email:",class:"hint"}).appendTo(p);var f=bp("<input>",{type:"text"}).appendTo(p);l.email&&f.val(l.email),f.addEventListener("keydown",i),f.addEventListener("input",a),bp("<p>",{text:"password:",class:"hint"}).appendTo(p);var d=bp("<input>",{type:"password"}).appendTo(p);l.password&&d.val(l.password),d.addEventListener("keydown",n),d.addEventListener("input",a),l.email?l.password||d.focus():f.focus();var h=bp("<div>",{text:"go",class:"button",click:s}).appendTo(p);document.body.addEventListener("keydown",o),a()})}function _r(e,t){return Ni.assertBrowser(),new Un(function(r,i){function n(e){13===e.which&&s()}function o(e){27===e.keyCode&&c(function(){i("User canceled action.")})}function a(){""!==m.val()?v.addClass("button-highlighted"):v.removeClass("button-highlighted")}function s(){!function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(m.val())?fr.error("Please provide a valid email."):(h.hide(),y.show(),ft().then(function(){return u?ut({email:m.val()}):at({email:m.val(),emailOptIn:b.checked})}).then(function(){if(p)return h.hide(),y.hide(),_.show(),Ke(function(e,t,r){ct().then(function(t){t.isAuthenticated?e(t):r()})})},function(e){if(fr.error(e),!(e.indexOf("User with this email already exists")>-1))return y.hide(),h.show(),Un.reject(e);c(function(){yr({email:m.val()}).then(r,i)})}).then(function(){c(r)}))}function c(e){document.body.removeEventListener("keydown",o),m.removeEventListener("keydown",n),m.removeEventListener("input",a),f.destroy(e)}e=e||{},t=t||{};var l=e.email,u=!!t.resendActivation,p=void 0===t.waitForActivation||t.waitForActivation,f=br().show();bp("<div>",{text:"x",class:"button close-button",click:function(){c(function(){i("User canceled action.")})}}).appendTo(f.mainEl),bp("<div>",{text:"Already have an account? Log in.",style:xp,class:"clickable",click:function(){c(function(){yr({email:m.val()}).then(r,i)})}}).appendTo(f.bottomEl),bp("<div>",{text:"Lost Password? Get a new one.",style:xp,class:"clickable",click:function(){c(function(){vr({email:m.val()}).then(r,i)})}}).appendTo(f.bottomEl);var d=bp("<div>",{style:xp}).appendTo(f.centerEl),h=bp("<div>").appendTo(d);bp("<h1>",{text:u?"Resend Activation Email":"Sign Up"}).appendTo(h),bp("<p>",{text:"email:",class:"hint"}).appendTo(h);var m=bp("<input>",{type:"text"}).appendTo(h),g=bp("<div>",{style:"margin-top: 20px;"}).appendTo(h);bp("<label>",{text:"Keep me up to date about 3d.io"}).appendTo(g);var b=bp("<input>",{type:"checkbox",style:"margin-left: 20px;",id:"email-opt-in"}).appendTo(g);l&&m.val(l),m.focus(),m.addEventListener("keydown",n),m.addEventListener("input",a);var v=bp("<div>",{text:"go",class:"button",click:s}).appendTo(h);document.body.addEventListener("keydown",o);var y=bp("<div>",{text:"..."}).appendTo(d).hide(),_=bp("<div>").hide().appendTo(d);bp("<p>",{html:"Check your email for<br>support@3d.io<br>and set your password.<br><br>Then simply return here ;)"}).appendTo(_),a()})}function wr(e,t){return Ni.assertBrowser(),new Promise(function(r,i){function n(e){27===e.keyCode&&o()}function o(){a(function(){r(!1)})}function a(e){document.body.removeEventListener("keydown",n),b.destroy(e)}var s;if(bp.isElement(e)||"string"==typeof e)(s=t||{}).message=e;else{if("object"!==(void 0===e?"undefined":Yr(e)))throw"Argument mismatch https://3d.io/docs/api/1/ui.html";s=e}var c=s.title,l=s.message,u=s.bottom,p=s.width&&"number"==typeof s.width?s.width+"px":s.width,f=s.maxWidth&&"number"==typeof s.maxWidth?s.maxWidth+"px":s.maxWidth||"450px",d=xr(s.closeButton,!0),h=xr(s.confirmButton,!0),m=xr(s.cancelButton,!0),g=p?"width:"+p+";":"max-width:"+f+";",b=br().show();d&&bp("<div>",{text:"x",class:"button close-button",click:o}).appendTo(b.mainEl);var v=bp("<div>",{style:g}).appendTo(b.centerEl);c&&bp("<h1>").append(c).appendTo(v),l&&bp("<div>").append(l).appendTo(v),m&&bp("<div>",{text:"x",class:"button",click:o}).appendTo(v),h&&bp("<div>",{text:"ok",class:"button",click:function(){a(function(){r(!0)})}}).appendTo(v),u&&bp("<div>",{style:g}).append(u).appendTo(b.bottomEl),document.body.addEventListener("keydown",n)})}function xr(e,t){return void 0!==e?e:t}function Cr(e,t){if(Ni.assertBrowser(),bp.isElement(e)||"string"==typeof e)(t=t||{}).closeButton=!1,t.cancelButton=!1,t.confirmButton=!0;else{if("object"!==(void 0===e?"undefined":Yr(e)))throw"Argument mismatch https://3d.io/docs/api/1/ui.html";e.closeButton=!1,e.cancelButton=!1,e.confirmButton=!0}return wr(e,t)}function Sr(){return ft().then(function(){return Cr("Log out successful")},function(e){return Cr("Log out error:<br><br>"+e)})}function jr(e,t){Ni.assertBrowser();var r;if(bp.isElement(e)||"string"==typeof e)(r=t||{}).message=e;else{if("object"!==(void 0===e?"undefined":Yr(e)))throw"Argument mismatch https://3d.io/docs/api/1/ui.html";r=e}var i=r.value||"",n=r.message,o=r.multiLine,a=r.multiLineHeight&&"number"==typeof r.multiLineHeight?r.multiLineHeight+"px":r.multiLineHeight;if(r.width=r.width?r.width:"500px",r.message=bp("<div>"),n&&r.message.append(n),o)s=n&&!bp.isElement(n)?"margin: 1em 0 0 0;":"margin: 0 0 0 0;",(c=bp("<textarea>",{style:s+="min-height: "+(a||"150px")+";",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1}).appendTo(r.message)).innerHTML=i;else var s=n&&!bp.isElement(n)?"margin: 1em 0 0.5em 0;":"margin: 0 0 0.5em 0;",c=bp("<input>",{value:i,style:s,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:!1}).appendTo(r.message);return setTimeout(function(){c.focus()},100),wr(r).then(function(e){return e?c.val():null})}function kr(e,t){return Ni.assertBrowser(),ct().then(function(e){return e.isAuthenticated?new Promise(function(e,t){function r(e){i.destroy(e)}var i=br().show();bp("<div>",{text:"x",class:"button close-button",click:function(){r(function(){e(!1)})}}).appendTo(i.mainEl);var n=bp("<div>",{class:"publishable-api-keys",style:Cp}).appendTo(i.centerEl);bp("<h1>",{html:"Publishable API Keys"}).appendTo(n);var o=bp("<div>",{class:"list"}).appendTo(n);gt().then(function(i){i.forEach(function(i){var n=bp("<div>",{class:"key-item"}).appendTo(o),a=bp("<input>",{class:"key",type:"text",value:i.key}).appendTo(n);a.addEventListener("click",a.select),bp("<div>",{class:"hint domains",html:"Domains: "+i.allowedDomains.join(" ")}).appendTo(n),bp("<div>",{class:"button delete-key-button",html:"x",click:function(){r(function(){wr({width:500,title:"Delete Publishable API Key ?",message:"This action can not be undone.<br><br>Key:<br><b>"+i.key+"</b><br><br>Allowed domains:<br><b>"+i.allowedDomains.join(" ")+"</b>"}).then(function(e){if(e)return vt({key:i.key}).then(function(){fr.success("Deleted publishable API key<br>"+i.key)})}).then(function(){kr().then(e,t)}).catch(function(r){fr.error("Error deleting publishable API key<br>"+r),kr().then(e,t)})})}}).appendTo(n),bp("<div>",{class:"button edit-domains-button",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" enable-background="new 0 0 40 40"><style type="text/css">.st0{fill:none;stroke:#fff;stroke-miterlimit:10;}</style><line class="st0" x1="14" y1="25.8" x2="28.6" y2="11.2"/><polygon class="st0" points="8.4,31.6 10.1,24.1 25.8,8.4 31.5,14.1 15.8,29.8"/></svg>',click:function(){r(function(){jr({title:"Allowed Domains",message:"Publishable API key:<br><b>"+i.key+'</b><br><br>Please specify allowed domains separated by empty space.<br>Example: "localhost *.3d.io mypage.com"',bottom:bp("<a>",{html:"Read more about allowed domains",href:"https://3d.io/docs/api/1/authentication.html",target:"_blank"}),value:i.allowedDomains.join(" ")}).then(function(e){if(e||""===e)return bt({key:i.key,allowedDomains:e.split(" ")}).then(function(){fr.success("Updated allowed domains to:<br>"+e)})}).then(function(){kr().then(e,t)}).catch(function(r){fr.error("Error updating publishable API key:<br>"+r),kr().then(e,t)})})}}).appendTo(n)})}),bp("<div>",{class:"generate-new-key-button",html:"Generate new key",click:function(){r(function(){jr({width:550,title:"Generate Publishable Api Key",message:"Please specify allowed domains separated by empty space.<br>Example: localhost *.3d.io mypage.com",bottom:bp("<a>",{html:"Read more about allowed domains",href:"https://3d.io/docs/api/1/authentication.html",target:"_blank"})}).then(function(e){if(e||""===e)return mt({allowedDomains:e.split(" ")}).then(function(e){fr.success("Generated new publishable API key<br>"+e)})}).then(function(){kr().then(e,t)}).catch(function(r){fr.error("Error generating publishable API key:<br>"+r),kr().then(e,t)})})}}).appendTo(n),bp("<a>",{class:"clickable",style:"display:block;"+Cp,html:"Read documentaion about publishable API keys.",href:"https://3d.io/docs/api/1/authentication.html",target:"_blank"}).appendTo(i.bottomEl)}):(fr("Please sign up or log in to<br>access your publishable API keys."),_r().then(function(){return kr()}))})}function Pr(){return Ni.assertBrowser(),ct().then(function(e){return e.isAuthenticated?new Un(function(e,t){function r(t){27===t.keyCode&&i(e)}function i(e){document.body.removeEventListener("keydown",r),n.destroy(e)}var n=br().show();bp("<div>",{text:"x",class:"button close-button",click:function(){i(function(){e()})}}).appendTo(n.mainEl),bp("<a>",{class:"clickable",style:"display:block;"+Sp,html:"Read documentation about secret API key.",href:"https://3d.io/docs/api/1/authentication.html",target:"_blank"}).appendTo(n.bottomEl);var o=bp("<div>",{style:Sp}).appendTo(n.centerEl);bp("<h1>",{text:"Secret API Key"}).appendTo(o);var a=bp("<div>").appendTo(o),s=(bp("<p>",{html:"Please use this key only in secure environments and expose it only to trusted 3rd parties."}).appendTo(a),bp("<p>",{style:"position:relative;"}).appendTo(a)),c=bp("<input>",{type:"text"}).appendTo(s),l=bp("<div>",{text:"reveal",class:"reveal-api-key-button",click:function(){l.hide(),ht().then(function(e){c.val(e)})}}).appendTo(s);c.addEventListener("click",c.select),bp("<p>",{class:"regegenerate-secret-key-button",html:"Regenerate key",click:function(){i(function(){wr({title:"Regenrate Key",message:"Are you sure you want to regenrate your secret key ?<br><br>This action can not be undone."}).then(function(e){if(e)return dt().then(function(e){fr.success("Regenerated secret API key")})}).then(function(){Pr().then(e,t)}).catch(function(r){fr.error("Error regenerating secret API key:<br>"+r),Pr().then(e,t)})})}}).appendTo(a),document.body.addEventListener("keydown",r)}):(fr("Please sign up or log in to<br>access your secret API key."),_r().then(function(){return Pr()}))})}function Ar(){return Ni.assertBrowser(),ct().then(function(e){return e.isAuthenticated?new Un(function(t,r){function i(e){27===e.keyCode&&n(t)}function n(e){document.body.removeEventListener("keydown",i),o.destroy(e)}var o=br().show();bp("<div>",{text:"x",class:"button close-button",click:function(){n(function(){t()})}}).appendTo(o.mainEl);var a=bp("<div>",{style:"white-space: nowrap;"}).appendTo(o.bottomEl);bp("<a>",{text:"Get started using 3d.io",style:"display: inline-block;",class:"clickable",href:"https://3d.io/docs/api/1/get-started.html",target:"_blank"}).appendTo(a),bp("<span>",{html:" | "}).appendTo(a),bp("<a>",{text:"Read more about keys",style:"display: inline-block;",class:"clickable",href:"https://3d.io/docs/api/1/authentication.html",target:"_blank"}).appendTo(a),bp("<span>",{html:" | "}).appendTo(a),bp("<div>",{text:"Change password",style:"display: inline-block;",class:"clickable",click:function(){n(function(){vr({email:l.val()}).then(function(){return Ar()},function(){return Ar()}).then(t,r)})}}).appendTo(a);var s=bp("<div>",{style:jp,class:"dev-dashobard"}).appendTo(o.centerEl);bp("<h1>",{text:"Dev Dashboard"}).appendTo(s);var c=bp("<div>").appendTo(s);bp("<p>",{text:"Email:",class:"hint"}).appendTo(c);var l=bp("<input>",{type:"text"}).appendTo(c);l.val(e.user.email);var u=bp("<div>",{class:"key-menu"}).appendTo(c);bp("<div>",{class:"key-image",html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 127"><defs><style>.a{opacity:0.7;stroke-dasharray: 1, 4;}.b{fill:#fff;}.c{fill:none;stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:1px;}.d{opacity:1;}</style></defs><g class="a"><circle class="c" cx="64" cy="64" r="62"/><line class="c" x1="150" y1="30" x2="130" y2="30"/><line class="c" x1="119" y1="36" x2="130" y2="30"/></g><g class="d"><circle class="c" cx="64" cy="64" r="36"/><line class="c" x1="150" y1="98" x2="130" y2="98"/><line class="c" x1="130" y1="98" x2="96.192" y2="82.337"/></g><polygon class="b" points="69.375 60.227 59.813 60.227 59.813 83.867 64.594 86.523 69.375 83.867 67.478 81.581 69.375 79.684 67.478 77.319 69.375 75.422 67.478 73.057 69.375 71.159 67.478 68.794 69.375 66.897 67.478 64.532 69.375 62.635 69.375 60.227"/><path class="b" d="M64.7,39.361A10.894,10.894,0,1,0,75.589,50.255,10.894,10.894,0,0,0,64.7,39.361Zm0,9.056a2.812,2.812,0,1,1,2.812-2.812A2.812,2.812,0,0,1,64.7,48.417Z"/></svg>'}).appendTo(u),bp("<div>",{class:"key-button go-to-publishable-api-key-ui",html:"Get Publishable API Keys",click:function(){n(function(){kr().then(function(){return Ar()}).then(t,r)})}}).appendTo(u),bp("<div>",{class:"key-button go-to-secret-api-key-ui",html:"Get Secret API Key",click:function(){n(function(){Pr().then(function(){return Ar()}).then(t,r)})}}).appendTo(u),document.body.addEventListener("keydown",i)}):(fr("Please sign up or log in to<br>access your dev dashboard."),_r().then(function(){return Ar()}))})}var Er,Tr,Ir,Fr,Rr="224cf51552410470bc5acb305b93b6ebc4bc2231",Dr={name:"3dio",version:"1.2.1",description:"toolkit for interior apps",keywords:["3d","aframe","cardboard","components","oculus","vive","rift","vr","WebVR","WegGL","three","three.js","3D model","api","visualization","furniture","real estate","interior","building","architecture","3d.io"],homepage:"https://3d.io",repository:"archilogic-com/3dio-js",license:"MIT",author:{name:"archilogic",email:"dev.rocks@archilogic.com",url:"https://archilogic.com"},main:"index.js",scripts:{start:"gulp dev-browser","dev-browser":"gulp dev-browser","dev-node":"gulp dev-node",jshint:"gulp jshint",test:"jest --coverage","dev-build":"gulp dev-build","release-build":"gulp release-build","release-check":"jest && gulp jshint && gulp release-build",release:"gulp release"},dependencies:{bluebird:"^3.5.1","form-data":"^2.3.1","js-logger":"^1.4.1",lodash:"^4.17.4","node-fetch":"2.0.0-alpha.8",pako:"^1.0.5","performance-now":"^2.1.0",rxjs:"^5.4.3",three:"^0.85.2","whatwg-fetch":"^2.0.3"},devDependencies:{"babel-core":"^6.26.0","babel-jest":"^22.2.0","babel-plugin-external-helpers":"^6.22.0","babel-preset-env":"^1.6.1","babel-preset-es2015":"^6.24.1","babel-runtime":"^6.26.0",chalk:"^2.1.0","confirm-cli":"^0.4.0",del:"^3.0.0",gulp:"github:gulpjs/gulp#4.0","gulp-git":"^2.4.2","gulp-gzip":"^1.4.0","gulp-jshint":"^2.0.4","gulp-less":"^3.3.2","gulp-s3":"0.11.0","gulp-watch":"^4.3.11",jest:"^22.4.3",jshint:"^2.9.5","jshint-stylish":"^2.2.1","lite-server":"^2.3.0",moment:"^2.19.3","regenerator-runtime":"^0.11.1",rollup:"^0.41.6","rollup-plugin-babel":"^3.0.2","rollup-plugin-commonjs":"^8.2.1","rollup-plugin-json":"^2.3.0","rollup-plugin-less":"^0.1.3","rollup-plugin-node-resolve":"^3.0.0",through2:"^2.0.3","uglify-js":"^3.1.3"},jest:{collectCoverageFrom:["src/**/*.{js,jsx}","!**/node_modules/**","!**/vendor/**"],testMatch:["**/test/**/*.js","**/__tests__/**/*.js?(x)","**/?(*.)(spec|test).js?(x)"]}},Nr="undefined"!=typeof window&&window.document,Mr=!Nr,Or=Nr?document:null,zr=[],Lr=new Promise(function(e){Fr=e});if(Nr){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(window.attachEvent){window.attachEvent("onload",e),Tr=document.createElement("div");try{Er=null===window.frameElement}catch(e){}Tr.doScroll&&Er&&window.external&&(Ir=setInterval(function(){try{Tr.doScroll(),e()}catch(e){}},30))}"complete"===document.readyState&&e()}var Vr="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Br="undefined"!=typeof window&&window,Wr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Hr=Br||void 0!==Vr&&Vr||Wr,Ur=Hr;!function(){if(!Hr)throw new Error("RxJS could not find any global context (window, self, global)")}();var Zr,Gr={root:Ur},qr={isFunction:function(e){return"function"==typeof e}},Kr={isArray:Array.isArray||function(e){return e&&"number"==typeof e.length}},Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr={isObject:function(e){return null!=e&&"object"===(void 0===e?"undefined":Yr(e))}},Qr={errorObject:{e:{}}},Jr={tryCatch:function(e){return Zr=e,function(){try{return Zr.apply(this,arguments)}catch(e){return Qr.errorObject.e=e,Qr.errorObject}}}},$r=Vr&&Vr.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ei={UnsubscriptionError:function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return $r(t,e),t}(Error)},ti={Subscription:function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,n=this._parents,o=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=n?n.length:0;r;)r.remove(this),r=++s<c&&n[s]||null;if(qr.isFunction(o)&&(u=Jr.tryCatch(o).call(this))===Qr.errorObject&&(t=!0,e=e||(Qr.errorObject.e instanceof ei.UnsubscriptionError?i(Qr.errorObject.e.errors):[Qr.errorObject.e])),Kr.isArray(a))for(s=-1,c=a.length;++s<c;){var l=a[s];if(Xr.isObject(l)){var u=Jr.tryCatch(l.unsubscribe).call(l);if(u===Qr.errorObject){t=!0,e=e||[];var p=Qr.errorObject.e;p instanceof ei.UnsubscriptionError?e=e.concat(i(p.errors)):e.push(p)}}}if(t)throw new ei.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(void 0===t?"undefined":Yr(t)){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var i=r;(r=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}()},ri={empty:{closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},ii=r(function(e,t){var r=Gr.root.Symbol;t.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber}),ni=Vr&&Vr.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},oi=function(e){function t(r,i,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ri.empty;break;case 1:if(!r){this.destination=ri.empty;break}if("object"===(void 0===r?"undefined":Yr(r))){r instanceof t?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new si(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new si(this,r,i,n)}}return ni(t,e),t.prototype[ii.rxSubscriber]=function(){return this},t.create=function(e,r,i){var n=new t(e,r,i);return n.syncErrorThrowable=!1,n},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(ti.Subscription),ai=oi,si=function(e){function t(t,r,i,n){e.call(this),this._parentSubscriber=t;var o,a=this;qr.isFunction(r)?o=r:r&&(o=r.next,i=r.error,n=r.complete,r!==ri.empty&&(a=Object.create(r),qr.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=i,this._complete=n}return ni(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(oi),ci={Subscriber:ai},li={toSubscriber:function(e,t,r){if(e){if(e instanceof ci.Subscriber)return e;if(e[ii.rxSubscriber])return e[ii.rxSubscriber]()}return e||t||r?new ci.Subscriber(e,t,r):new ci.Subscriber(ri.empty)}},ui=r(function(e,t){function r(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}t.getSymbolObservable=r,t.observable=r(Gr.root),t.$$observable=t.observable}),pi={noop:function(){}},fi={pipe:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n(e)},pipeFromArray:n},di={Observable:function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var i=this.operator,n=li.toSubscriber(e,t,r);if(i?i.call(n,this.source):n.add(this.source?this._subscribe(n):this._trySubscribe(n)),n.syncErrorThrowable&&(n.syncErrorThrowable=!1,n.syncErrorThrown))throw n.syncErrorValue;return n},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(Gr.root.Rx&&Gr.root.Rx.config&&Gr.root.Rx.config.Promise?t=Gr.root.Rx.config.Promise:Gr.root.Promise&&(t=Gr.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,i){var n;n=r.subscribe(function(t){if(n)try{e(t)}catch(e){i(e),n.unsubscribe()}else e(t)},i,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[ui.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:fi.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(Gr.root.Rx&&Gr.root.Rx.config&&Gr.root.Rx.config.Promise?e=Gr.root.Rx.config.Promise:Gr.root.Promise&&(e=Gr.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i;t.subscribe(function(e){return i=e},function(e){return r(e)},function(){return e(i)})})},e.create=function(t){return new e(t)},e}()},hi=Vr&&Vr.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},mi={ObjectUnsubscribedError:function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return hi(t,e),t}(Error)},gi=Vr&&Vr.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},bi={SubjectSubscription:function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return gi(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(ti.Subscription)},vi=Vr&&Vr.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},yi=function(e){function t(t){e.call(this,t),this.destination=t}return vi(t,e),t}(ci.Subscriber),_i=yi,wi=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return vi(t,e),t.prototype[ii.rxSubscriber]=function(){return new yi(this)},t.prototype.lift=function(e){var t=new Ci(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new mi.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,i=t.slice(),n=0;n<r;n++)i[n].next(e)},t.prototype.error=function(e){if(this.closed)throw new mi.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,i=t.slice(),n=0;n<r;n++)i[n].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new mi.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),i=0;i<t;i++)r[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new mi.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new mi.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),ti.Subscription.EMPTY):this.isStopped?(e.complete(),ti.Subscription.EMPTY):(this.observers.push(e),new bi.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new di.Observable;return e.source=this,e},t.create=function(e,t){return new Ci(e,t)},t}(di.Observable),xi=wi,Ci=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return vi(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):ti.Subscription.EMPTY},t}(wi),Si={SubjectSubscriber:_i,Subject:xi,AnonymousSubject:Ci},ji=Vr&&Vr.__extends||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},ki={BehaviorSubject:function(e){function t(t){e.call(this),this._value=t}return ji(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new mi.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Si.Subject)},Pi=!("undefined"==typeof module||!module.exports||"undefined"==typeof process||"[object process]"!==Object.prototype.toString.call(process)),Ai=!("undefined"==typeof navigator||"ReactNative"!==navigator.product),Ei=!Pi&&"undefined"!=typeof window&&"[object Window]"===Object.prototype.toString.call(window),Ti=function(){var e;if("undefined"!=typeof document)try{e=document.createElement("canvas")}catch(e){return null}if(!e)return null;var t=e.getContext("webgl")||e.getContext("experimental-webgl")||e.getContext("webgl",{antialias:!1})||e.getContext("experimental-webgl",{antialias:!1});if(!t)return null;var r=t.getExtension("WEBGL_debug_renderer_info"),i=t.getExtension("WEBGL_compressed_texture_s3tc");return{shadingLanguageVersion:t.getParameter(t.SHADING_LANGUAGE_VERSION),renderer:t.getParameter(t.RENDERER),vendor:t.getParameter(t.VENDOR),unmaskedRenderer:r&&t.getParameter(r.UNMASKED_RENDERER_WEBGL),unmaskedVendor:r&&t.getParameter(r.UNMASKED_VENDOR_WEBGL),maxTextureSize:t.getParameter(t.MAX_TEXTURE_SIZE),maxRenderbufferSize:t.getParameter(t.MAX_RENDERBUFFER_SIZE),supportsDds:!!i}}(),Ii=!(!Ei||!window.AFRAME),Fi=!(!Ei||!window.THREE),Ri=new ki.BehaviorSubject,Di=new ki.BehaviorSubject,Ni={isDebugMode:!1,isNode:Pi,isReactNative:Ai,isBrowser:Ei,assertBrowser:function(e){if(!Ei)throw e||"Sorry this feature requires a browser environment."},isMobile:function(){var e;if("undefined"!=typeof navigator&&(navigator.userAgent||navigator.vendor))e=navigator.userAgent||navigator.vendor;else{if("undefined"==typeof window||!window.opera)return!1;e=window.opera}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(),domReady:t,isVisible$:Ri,isFocused$:Di,has:{webGl:!!Ti,aframe:Ii,three:Fi},webGl:Ti,libInfo:{npmName:Dr.name,version:Dr.version,homepage:Dr.homepage,githubRepository:Dr.repository,gitBranchName:"master",gitCommitHash:Rr.substr(0,7),buildDate:"2018/06/04 20:49",license:Dr.license}};if(Ei&&t(function(e){Ri.next(o());var t;void 0!==document.hidden?t="visibilitychange":void 0!==document.mozHidden?t="mozvisibilitychange":void 0!==document.msHidden?t="msvisibilitychange":void 0!==document.webkitHidden&&(t="webkitvisibilitychange"),e.addEventListener(t,function(){Ri.next(o())},!1)}),Ei&&t(function(){Di.next(document.hasFocus()),window.onfocus=function(){Di.next(!0)},window.onblur=function(){Di.next(!1)}}),r(function(e,t){e.exports=function e(t,r,i){function n(a,s){if(!r[a]){if(!t[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){return n(t[a][1][e]||e)},u,u.exports,e,t,r,i)}return r[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(e,t,r){t.exports=function(e){function t(e){var t=new r(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var r=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,r){function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function n(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function o(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(e){s=e}var c=e("./schedule"),l=e("./queue"),u=e("./util");i.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(i.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?n.call(this,e,t,r):this._schedule(function(){setTimeout(function(){e.call(t,r)},100)})},i.prototype.invoke=function(e,t,r){this._trampolineEnabled?o.call(this,e,t,r):this._schedule(function(){e.call(t,r)})},i.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(i.prototype.invokeLater=n,i.prototype.invoke=o,i.prototype.settlePromises=a),i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var r=e.shift(),i=e.shift();t.call(r,i)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},t.exports=i,t.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,r){t.exports=function(e,t,r,i){var n=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){n||(n=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var l=r(o),u=new e(t);u._propagateFrom(this,1);var p=this._target();if(u._setBoundTo(l),l instanceof e){var f={promiseRejectionQueued:!1,promise:u,target:p,bindingPromise:l};p._then(t,a,void 0,u,f),l._then(s,c,void 0,u,f),u._setOnCancel(l)}else u._resolveCallback(p);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,r){return e.resolve(r).bind(t)}}},{}],4:[function(e,t,r){var i;"undefined"!=typeof Promise&&(i=Promise);var n=e("./promise")();n.noConflict=function(){try{Promise===n&&(Promise=i)}catch(e){}return n},t.exports=n},{"./promise":22}],5:[function(e,t,r){var i=Object.create;if(i){var n=i(null),o=i(null);n[" size"]=o[" size"]=0}t.exports=function(t){function r(e){return function(e,r){var i;if(null!=e&&(i=e[r]),"function"!=typeof i){var n="Object "+o.classString(e)+" has no method '"+o.toString(r)+"'";throw new t.TypeError(n)}return i}(e,this.pop()).apply(e,this)}function i(e){return e[this]}function n(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var o=e("./util"),a=o.canEvaluate;o.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=n;else if(a){var r=(void 0)(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,r){t.exports=function(t,r,i,n){var o=e("./util"),a=o.tryCatch,s=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var r=e._cancellationParent;if(null==r||!r._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=r}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var r=0;r<e.length;++r)this._doInvokeOnCancel(e[r],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),c.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,r){t.exports=function(t){var r=e("./util"),i=e("./es5").keys,n=r.tryCatch,o=r.errorObj;return function(e,a,s){return function(c){var l=s._boundValue();e:for(var u=0;u<e.length;++u){var p=e[u];if(p===Error||null!=p&&p.prototype instanceof Error){if(c instanceof p)return n(a).call(l,c)}else if("function"==typeof p){var f=n(p).call(l,c);if(f===o)return f;if(f)return n(a).call(l,c)}else if(r.isObject(c)){for(var d=i(p),h=0;h<d.length;++h){var m=d[h];if(p[m]!=c[m])continue e}return n(a).call(l,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,r){t.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function r(){var e=n.length-1;if(e>=0)return n[e]}var i=!1,n=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=function(){if(i)return new t},t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=c,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,t,r){t.exports=function(t,r){function i(e,t){return{promise:t}}function n(){return!1}function o(e,t,r){var i=this;try{e(t,r,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+E.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function a(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?E.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function c(e){this._onCancelField=e}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function u(e,t){if(0!=(1&t)){this._cancellationParent=e;var r=e._branchesRemainingToCancel;void 0===r&&(r=0),e._branchesRemainingToCancel=r+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function f(){this._trace=new x(this._peekContext())}function d(e,t){if(T(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=g(e);E.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),E.notEnumerableProp(e,"__stackCleaned__",!0)}}}function h(e,r,i){if(X.warnings){var n,o=new A(e);if(r)i._attachExtraTrace(o);else if(X.longStackTraces&&(n=t._peekContext()))n.attachExtraTrace(o);else{var a=g(o);o.stack=a.message+"\n"+a.stack.join("\n")}Z("warning",o)||b(o,"",!0)}}function m(e){for(var t=[],r=0;r<e.length;++r){var i=e[r],n="    (No stack trace)"===i||D.test(i),o=n&&q(i);n&&!o&&(M&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function g(e){var t=e.stack,r=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),r=0;r<t.length;++r){var i=t[r];if("    (No stack trace)"===i||D.test(i))break}return r>0&&"SyntaxError"!=e.name&&(t=t.slice(r)),t}(e):["    (No stack trace)"],{message:r,stack:"SyntaxError"==e.name?t:m(t)}}function b(e,t,r){if("undefined"!=typeof console){var i;if(E.isObject(e)){var n=e.stack;i=t+N(n,e)}else i=t+String(e);"function"==typeof j?j(i,r):"function"!=typeof console.log&&"object"!==Yr(console.log)||console.log(i)}}function v(e,t,r,i){var n=!1;try{"function"==typeof t&&(n=!0,"rejectionHandled"===e?t(i):t(r,i))}catch(e){P.throwLater(e)}"unhandledRejection"===e?Z(e,r,i)||n||b(r,"Unhandled rejection "):Z(e,i)}function y(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():E.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function _(){return"function"==typeof Y}function w(e){var t=e.match(K);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function x(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);Y(this,x),t>32&&this.uncycle()}var C,S,j,k=t._getDomain,P=t._async,A=e("./errors").Warning,E=e("./util"),T=E.canAttachTrace,I=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,F=/\((?:timers\.js):\d+:\d+\)/,R=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,D=null,N=null,M=!1,O=!(0==E.env("BLUEBIRD_DEBUG")),z=!(0==E.env("BLUEBIRD_WARNINGS")||!O&&!E.env("BLUEBIRD_WARNINGS")),L=!(0==E.env("BLUEBIRD_LONG_STACK_TRACES")||!O&&!E.env("BLUEBIRD_LONG_STACK_TRACES")),V=0!=E.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(z||!!E.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){v("rejectionHandled",C,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),v("unhandledRejection",S,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,r){return h(e,t,r||this)},t.onPossiblyUnhandledRejection=function(e){var t=k();S="function"==typeof e?null===t?e:E.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=k();C="function"==typeof e?null===t?e:E.domainBind(t,e):void 0};var B=function(){};t.longStackTraces=function(){if(P.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!X.longStackTraces&&_()){var e=t.prototype._captureStackTrace,i=t.prototype._attachExtraTrace;X.longStackTraces=!0,B=function(){if(P.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=i,r.deactivateLongStackTraces(),P.enableTrampoline(),X.longStackTraces=!1},t.prototype._captureStackTrace=f,t.prototype._attachExtraTrace=d,r.activateLongStackTraces(),P.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return X.longStackTraces&&_()};var W=function(){try{if("function"==typeof CustomEvent)return e=new CustomEvent("CustomEvent"),E.global.dispatchEvent(e),function(e,t){var r=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!E.global.dispatchEvent(r)};if("function"==typeof Event)return e=new Event("CustomEvent"),E.global.dispatchEvent(e),function(e,t){var r=new Event(e.toLowerCase(),{cancelable:!0});return r.detail=t,!E.global.dispatchEvent(r)};var e;return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),E.global.dispatchEvent(e),function(e,t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e.toLowerCase(),!1,!0,t),!E.global.dispatchEvent(r)}}catch(e){}return function(){return!1}}(),H=E.isNode?function(){return process.emit.apply(process,arguments)}:E.global?function(e){var t="on"+e.toLowerCase(),r=E.global[t];return!!r&&(r.apply(E.global,[].slice.call(arguments,1)),!0)}:function(){return!1},U={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,r){return{promise:t,child:r}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,r){return{reason:t,promise:r}},rejectionHandled:i},Z=function(e){var t=!1;try{t=H.apply(null,arguments)}catch(e){P.throwLater(e),t=!0}var r=!1;try{r=W(e,U[e].apply(null,arguments))}catch(e){P.throwLater(e),r=!0}return r||t};t.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&B()),"warnings"in e){var r=e.warnings;X.warnings=!!r,V=X.warnings,E.isObject(r)&&"wForgottenReturn"in r&&(V=!!r.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!X.cancellation){if(P.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=l,t.prototype._propagateFrom=u,t.prototype._onCancel=s,t.prototype._setOnCancel=c,t.prototype._attachCancellationCallback=a,t.prototype._execute=o,G=u,X.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!X.monitoring?(X.monitoring=!0,t.prototype._fireEvent=Z):!e.monitoring&&X.monitoring&&(X.monitoring=!1,t.prototype._fireEvent=n)),t},t.prototype._fireEvent=n,t.prototype._execute=function(e,t,r){try{e(t,r)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var G=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},q=function(){return!1},K=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;E.inherits(x,Error),r.CapturedTrace=x,x.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],r={},i=0,n=this;void 0!==n;++i)t.push(n),n=n._parent;for(i=(e=this._length=i)-1;i>=0;--i){var o=t[i].stack;void 0===r[o]&&(r[o]=i)}for(i=0;i<e;++i){var a=r[t[i].stack];if(void 0!==a&&a!==i){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var s=i>0?t[i-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,l=i-2;l>=0;--l)t[l]._length=c,c++;return}}}},x.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=g(e),r=t.message,i=[t.stack],n=this;void 0!==n;)i.push(m(n.stack.split("\n"))),n=n._parent;!function(e){for(var t=e[0],r=1;r<e.length;++r){for(var i=e[r],n=t.length-1,o=t[n],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(s=a;s>=0;--s){var c=i[s];if(t[n]!==c)break;t.pop(),n--}t=i}}(i),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(i),E.notEnumerableProp(e,"stack",function(e,t){for(var r=0;r<t.length-1;++r)t[r].push("From previous event:"),t[r]=t[r].join("\n");return r<t.length&&(t[r]=t[r].join("\n")),e+"\n"+t.join("\n")}(r,i)),E.notEnumerableProp(e,"__stackCleaned__",!0)}};var Y=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():y(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,D=e,N=t;var r=Error.captureStackTrace;return q=function(e){return I.test(e)},function(e,t){Error.stackTraceLimit+=6,r(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return D=/@/,N=t,M=!0,function(e){e.stack=(new Error).stack};var n;try{throw new Error}catch(e){n="stack"in e}return"stack"in i||!n||"number"!=typeof Error.stackTraceLimit?(N=function(e,t){return"string"==typeof e?e:"object"!==(void 0===t?"undefined":Yr(t))&&"function"!=typeof t||void 0===t.name||void 0===t.message?y(t):t.toString()},null):(D=e,N=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(j=function(e){console.warn(e)},E.isNode&&process.stderr.isTTY?j=function(e,t){var r=t?"[33m":"[31m";console.warn(r+e+"[0m\n")}:E.isNode||"string"!=typeof(new Error).stack||(j=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var X={warnings:z,longStackTraces:!1,cancellation:!1,monitoring:!1};return L&&t.longStackTraces(),{longStackTraces:function(){return X.longStackTraces},warnings:function(){return X.warnings},cancellation:function(){return X.cancellation},monitoring:function(){return X.monitoring},propagateFromFunction:function(){return G},boundValueFunction:function(){return p},checkForgottenReturns:function(e,t,r,i,n){if(void 0===e&&null!==t&&V){if(void 0!==n&&n._returnedNonUndefined())return;if(0==(65535&i._bitField))return;r&&(r+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=m(s),l=c.length-1;l>=0;--l){var u=c[l];if(!F.test(u)){var p=u.match(R);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0)for(var f=c[0],l=0;l<s.length;++l)if(s[l]===f){l>0&&(a="\n"+s[l-1]);break}}var d="a promise was created in a "+r+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(d,!0,t)}},setBounds:function(e,t){if(_()){for(var r,i,n=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,c=0;c<n.length;++c)if(l=w(n[c])){r=l.fileName,a=l.line;break}for(c=0;c<o.length;++c){var l=w(o[c]);if(l){i=l.fileName,s=l.line;break}}a<0||s<0||!r||!i||r!==i||a>=s||(q=function(e){if(I.test(e))return!0;var t=w(e);return!!(t&&t.fileName===r&&a<=t.line&&t.line<=s)})}},warn:h,deprecated:function(e,t){var r=e+" is deprecated and will be removed in a future version.";return t&&(r+=" Use "+t+" instead."),h(r)},CapturedTrace:x,fireDomEvent:W,fireGlobalEvent:H}}},{"./errors":12,"./util":36}],10:[function(e,t,r){t.exports=function(e){function t(){return this.value}function r(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var i=arguments[1];return i instanceof e&&i.suppressUnhandledRejections(),this.caught(r,function(){return i})}}},{}],11:[function(e,t,r){t.exports=function(e,t){function r(){return n(this)}var i=e.reduce,n=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,n){return i(e,n,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,r){return i(e,r,t,t)}}},{}],12:[function(e,t,r){function i(e,t){function r(i){if(!(this instanceof r))return new r(i);p(this,"message","string"==typeof i?i:t),p(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(r,Error),r}function n(e){if(!(this instanceof n))return new n(e);p(this,"name","OperationalError"),p(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(p(this,"message",e.message),p(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,a,s=e("./es5"),c=s.freeze,l=e("./util"),u=l.inherits,p=l.notEnumerableProp,f=i("Warning","warning"),d=i("CancellationError","cancellation error"),h=i("TimeoutError","timeout error"),m=i("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(e){o=i("TypeError","type error"),a=i("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),b=0;b<g.length;++b)"function"==typeof Array.prototype[g[b]]&&(m.prototype[g[b]]=Array.prototype[g[b]]);s.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var v=0;m.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var r=0;r<this.length;++r){for(var i=this[r]===this?"[Circular AggregateError]":this[r]+"",n=i.split("\n"),o=0;o<n.length;++o)n[o]=e+n[o];t+=(i=n.join("\n"))+"\n"}return v--,t},u(n,Error);var y=Error.__BluebirdErrorTypes__;y||(y=c({CancellationError:d,TimeoutError:h,OperationalError:n,RejectionError:n,AggregateError:m}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,r){var i=function(){return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(r&&!r.writable&&!r.set)}};else{var n={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,r){return e[t]=r.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,r){t.exports=function(e,t){var r=e.map;e.prototype.filter=function(e,i){return r(this,e,i,t)},e.filter=function(e,i,n){return r(e,i,n,t)}}},{}],15:[function(e,t,r){t.exports=function(t,r,i){function n(e,t,r){this.promise=e,this.type=t,this.handler=r,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function a(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function s(){return l.call(this,this.promise._target()._settledValue())}function c(e){if(!a(this,e))return f.e=e,f}function l(e){var n=this.promise,l=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?l.call(n._boundValue()):l.call(n._boundValue(),e);if(u===i)return u;if(void 0!==u){n._setReturnedNonUndefined();var d=r(u,n);if(d instanceof t){if(null!=this.cancelPromise){if(d._isCancelled()){var h=new p("late cancellation observer");return n._attachExtraTrace(h),f.e=h,f}d.isPending()&&d._attachCancellationCallback(new o(this))}return d._then(s,c,void 0,this,void 0)}}}return n.isRejected()?(a(this),f.e=e,f):(a(this),e)}var u=e("./util"),p=t.CancellationError,f=u.errorObj,d=e("./catch_filter")(i);return n.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(e,t,r,i){return"function"!=typeof e?this.then():this._then(r,i,void 0,new n(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,l,l)},t.prototype.tap=function(e){return this._passThrough(e,1,l)},t.prototype.tapCatch=function(e){var r=arguments.length;if(1===r)return this._passThrough(e,1,void 0,l);var i,n=new Array(r-1),o=0;for(i=0;i<r-1;++i){var a=arguments[i];if(!u.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+u.classString(a)));n[o++]=a}n.length=o;var s=arguments[i];return this._passThrough(d(n,s,this),1,void 0,l)},n}},{"./catch_filter":7,"./util":36}],16:[function(e,t,r){t.exports=function(t,r,i,n,o,a){function s(e,r,n,o){if(a.cancellation()){var s=new t(i),c=this._finallyPromise=new t(i);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(i))._captureStackTrace();this._stack=o,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors").TypeError,l=e("./util"),u=l.errorObj,p=l.tryCatch,f=[];l.inherits(s,o),s.prototype._isResolved=function(){return null===this._promise},s.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},s.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},s.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},s.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=p(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},s.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},s.prototype._continue=function(e){var r=this._promise;if(e===u)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(e.e,!1);var i=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(i);var o=n(i,this._promise);if(o instanceof t||null!==(o=function(e,r,i){for(var o=0;o<r.length;++o){i._pushContext();var a=p(r[o])(e);if(i._popContext(),a===u){i._pushContext();var s=t.reject(u.e);return i._popContext(),s}var c=n(a,i);if(c instanceof t)return c}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,i=s,n=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,r,n),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new c("expecting a function but got "+l.classString(e));f.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new s(e,this),n=i.promise();return i._run(t.spawn),n}}},{"./errors":12,"./util":36}],17:[function(e,t,r){t.exports=function(t,r,i,n,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var i=[].slice.call(arguments);e&&i.pop();var n=new r(i).promise();return void 0!==e?n.spread(e):n}}},{"./util":36}],18:[function(e,t,r){t.exports=function(t,r,i,n,o,a){function s(e,t,r,i){this.constructor$(e),this._promise._captureStackTrace();var n=l();this._callback=null===n?t:u.domainBind(n,t),this._preservedValues=i===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function c(e,r,n,o){if("function"!=typeof r)return i("expecting a function but got "+u.classString(r));var a=0;if(void 0!==n){if("object"!==(void 0===n?"undefined":Yr(n))||null===n)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(n)));if("number"!=typeof n.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(n.concurrency)));a=n.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,r,a,o).promise()}var l=t._getDomain,u=e("./util"),p=u.tryCatch,f=u.errorObj,d=t._async;u.inherits(s,r),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,r){var i=this._values,o=this.length(),s=this._preservedValues,c=this._limit;if(r<0){if(r=-1*r-1,i[r]=e,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return i[r]=e,this._queue.push(r),!1;null!==s&&(s[r]=e);var l=this._promise,u=this._callback,d=l._boundValue();l._pushContext();var h=p(u).call(d,e,r,o),m=l._popContext();if(a.checkForgottenReturns(h,m,null!==s?"Promise.filter":"Promise.map",l),h===f)return this._reject(h.e),!0;var g=n(h,this._promise);if(g instanceof t){var b=(g=g._target())._bitField;if(0==(50397184&b))return c>=1&&this._inFlight++,i[r]=g,g._proxy(this,-1*(r+1)),!1;if(0==(33554432&b))return 0!=(16777216&b)?(this._reject(g._reason()),!0):(this._cancel(),!0);h=g._value()}i[r]=h}return++this._totalResolved>=o&&(null!==s?this._filter(i,s):this._resolve(i),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(r[i],i)}},s.prototype._filter=function(e,t){for(var r=t.length,i=new Array(r),n=0,o=0;o<r;++o)e[o]&&(i[n++]=t[o]);i.length=n,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return c(this,e,t,null)},t.map=function(e,t,r,i){return c(e,t,r,i)}}},{"./util":36}],19:[function(e,t,r){t.exports=function(t,r,i,n,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var i=new t(r);i._captureStackTrace(),i._pushContext();var n=s(e).apply(this,arguments),a=i._popContext();return o.checkForgottenReturns(n,a,"Promise.method",i),i._resolveFromSyncValue(n),i}},t.attempt=t.try=function(e){if("function"!=typeof e)return n("expecting a function but got "+a.classString(e));var i=new t(r);i._captureStackTrace(),i._pushContext();var c;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];c=a.isArray(l)?s(e).apply(u,l):s(e).call(u,l)}else c=s(e)();var p=i._popContext();return o.checkForgottenReturns(c,p,"Promise.try",i),i._resolveFromSyncValue(c),i},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,r){var i=e("./util"),n=i.maybeWrapAsError,o=e("./errors").OperationalError,a=e("./es5"),s=/^(?:name|message|stack|cause)$/;t.exports=function(e,t){return function(r,c){if(null!==e){if(r){var l=function(e){var t;if(function(e){return e instanceof Error&&a.getPrototypeOf(e)===Error.prototype}(e)){(t=new o(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var r=a.keys(e),n=0;n<r.length;++n){var c=r[n];s.test(c)||(t[c]=e[c])}return t}return i.markAsOriginatingFromRejection(e),e}(n(r));e._attachExtraTrace(l),e._reject(l)}else if(t){var u=[].slice.call(arguments,1);e._fulfill(u)}else e._fulfill(c);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,r){t.exports=function(t){function r(e,t){if(!o.isArray(e))return i.call(this,e,t);var r=s(t).apply(this._boundValue(),[null].concat(e));r===c&&a.throwLater(r.e)}function i(e,t){var r=this._boundValue(),i=void 0===e?s(t).call(r,null):s(t).call(r,null,e);i===c&&a.throwLater(i.e)}function n(e,t){if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=s(t).call(this._boundValue(),e);i===c&&a.throwLater(i.e)}var o=e("./util"),a=t._async,s=o.tryCatch,c=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=r),this._then(o,n,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,r){t.exports=function(){function r(){}function i(e){e!==b&&function(e,t){if(null==e||e.constructor!==i)throw new m("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new m("expecting a function but got "+u.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function n(e){var t=new i(b);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var o,a=function(){return new m("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},s=function(){return new i.PromiseInspection(this._target())},c=function(e){return i.reject(new m(e))},l={},u=e("./util");o=u.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},u.notEnumerableProp(i,"_getDomain",o);var p=e("./es5"),f=e("./async"),d=new f;p.defineProperty(i,"_async",{value:d});var h=e("./errors"),m=i.TypeError=h.TypeError;i.RangeError=h.RangeError;var g=i.CancellationError=h.CancellationError;i.TimeoutError=h.TimeoutError,i.OperationalError=h.OperationalError,i.RejectionError=h.OperationalError,i.AggregateError=h.AggregateError;var b=function(){},v={},y={},_=e("./thenables")(i,b),w=e("./promise_array")(i,b,_,c,r),x=e("./context")(i),C=x.create,S=e("./debuggability")(i,x),j=(S.CapturedTrace,e("./finally")(i,_,y)),k=e("./catch_filter")(y),P=e("./nodeback"),A=u.errorObj,E=u.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype.catch=function(e){var t=arguments.length;if(t>1){var r,i=new Array(t-1),n=0;for(r=0;r<t-1;++r){var o=arguments[r];if(!u.isObject(o))return c("Catch statement predicate: expecting an object but got "+u.classString(o));i[n++]=o}return i.length=n,e=arguments[r],this.then(void 0,k(i,e,this))}return this.then(void 0,e)},i.prototype.reflect=function(){return this._then(s,s,void 0,this,void 0)},i.prototype.then=function(e,t){if(S.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+u.classString(e);arguments.length>1&&(r+=", "+u.classString(t)),this._warn(r)}return this._then(e,t,void 0,void 0,void 0)},i.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},i.prototype.spread=function(e){return"function"!=typeof e?c("expecting a function but got "+u.classString(e)):this.all()._then(e,void 0,void 0,v,void 0)},i.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new w(this).promise()},i.prototype.error=function(e){return this.caught(u.originatesFromRejection,e)},i.getNewLibraryCopy=t.exports,i.is=function(e){return e instanceof i},i.fromNode=i.fromCallback=function(e){var t=new i(b);t._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=E(e)(P(t,r));return n===A&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},i.all=function(e){return new w(e).promise()},i.cast=function(e){var t=_(e);return t instanceof i||((t=new i(b))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(e){var t=new i(b);return t._captureStackTrace(),t._rejectCallback(e,!0),t},i.setScheduler=function(e){if("function"!=typeof e)throw new m("expecting a function but got "+u.classString(e));return d.setScheduler(e)},i.prototype._then=function(e,t,r,n,a){var s=void 0!==a,c=s?a:new i(b),l=this._target(),p=l._bitField;s||(c._propagateFrom(this,3),c._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&p)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,c));var f=o();if(0!=(50397184&p)){var h,m,v=l._settlePromiseCtx;0!=(33554432&p)?(m=l._rejectionHandler0,h=e):0!=(16777216&p)?(m=l._fulfillmentHandler0,h=t,l._unsetRejectionIsUnhandled()):(v=l._settlePromiseLateCancellationObserver,m=new g("late cancellation observer"),l._attachExtraTrace(m),h=t),d.invoke(v,l,{handler:null===f?h:"function"==typeof h&&u.domainBind(f,h),promise:c,receiver:n,value:m})}else l._addCallbacks(e,t,c,n,f);return c},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},i.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==l)return void 0===t&&this._isBound()?this._boundValue():t},i.prototype._promiseAt=function(e){return this[4*e-4+2]},i.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},i.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,r=e._rejectionHandler0,i=e._promise0,n=e._receiverAt(0);void 0===n&&(n=l),this._addCallbacks(t,r,i,n,null)},i.prototype._migrateCallbackAt=function(e,t){var r=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),n=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=l),this._addCallbacks(r,i,n,o,null)},i.prototype._addCallbacks=function(e,t,r,i,n){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=r,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===n?e:u.domainBind(n,e)),"function"==typeof t&&(this._rejectionHandler0=null===n?t:u.domainBind(n,t));else{var a=4*o-4;this[a+2]=r,this[a+3]=i,"function"==typeof e&&(this[a+0]=null===n?e:u.domainBind(n,e)),"function"==typeof t&&(this[a+1]=null===n?t:u.domainBind(n,t))}return this._setLength(o+1),o},i.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},i.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(a(),!1);var r=_(e,this);if(!(r instanceof i))return this._fulfill(e);t&&this._propagateFrom(r,2);var n=r._target();if(n!==this){var o=n._bitField;if(0==(50397184&o)){var s=this._length();s>0&&n._migrateCallback0(this);for(var c=1;c<s;++c)n._migrateCallbackAt(this,c);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&o))this._fulfill(n._value());else if(0!=(16777216&o))this._reject(n._reason());else{var l=new g("late cancellation observer");n._attachExtraTrace(l),this._reject(l)}}else this._reject(a())}},i.prototype._rejectCallback=function(e,t,r){var i=u.ensureErrorObject(e),n=i===e;if(!n&&!r&&S.warnings()){var o="a promise was rejected with a non-error: "+u.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&n),this._reject(e)},i.prototype._resolveFromExecutor=function(e){if(e!==b){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,r)});r=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)}},i.prototype._settlePromiseFromHandler=function(e,t,r,i){var n=i._bitField;if(0==(65536&n)){i._pushContext();var o;t===v?r&&"number"==typeof r.length?o=E(e).apply(this._boundValue(),r):(o=A).e=new m("cannot .spread() a non-array: "+u.classString(r)):o=E(e).call(t,r);var a=i._popContext();0==(65536&(n=i._bitField))&&(o===y?i._reject(r):o===A?i._rejectCallback(o.e,!1):(S.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},i.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(e){this._rejectionHandler0=e},i.prototype._settlePromise=function(e,t,n,o){var a=e instanceof i,c=this._bitField,l=0!=(134217728&c);0!=(65536&c)?(a&&e._invokeInternalOnCancel(),n instanceof j&&n.isFinallyHandler()?(n.cancelPromise=e,E(t).call(n,o)===A&&e._reject(A.e)):t===s?e._fulfill(s.call(n)):n instanceof r?n._promiseCancelled(e):a||e instanceof w?e._cancel():n.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,o,e)):t.call(n,o,e):n instanceof r?n._isResolved()||(0!=(33554432&c)?n._promiseFulfilled(o,e):n._promiseRejected(o,e)):a&&(l&&e._setAsyncGuaranteed(),0!=(33554432&c)?e._fulfill(o):e._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,r=e.promise,n=e.receiver,o=e.value;"function"==typeof t?r instanceof i?this._settlePromiseFromHandler(t,n,o,r):t.call(n,o,r):r instanceof i&&r._reject(o)},i.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},i.prototype._settlePromise0=function(e,t,r){var i=this._promise0,n=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,n,t)},i.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},i.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var r=a();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():d.settlePromises(this))}},i.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return d.fatalError(e,u.isNode);(65535&t)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},i.prototype._fulfillPromises=function(e,t){for(var r=1;r<e;r++){var i=this._fulfillmentHandlerAt(r),n=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(n,i,o,t)}},i.prototype._rejectPromises=function(e,t){for(var r=1;r<e;r++){var i=this._rejectionHandlerAt(r),n=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(n,i,o,t)}},i.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,e),this._rejectPromises(t,r)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new i(b),resolve:function(e){this.promise._resolveCallback(e)},reject:function(e){this.promise._rejectCallback(e,!1)}}},u.notEnumerableProp(i,"_makeSelfResolutionError",a),e("./method")(i,b,_,c,S),e("./bind")(i,b,_,S),e("./cancel")(i,w,c,S),e("./direct_resolve")(i),e("./synchronous_inspection")(i),e("./join")(i,w,_,b,d,o),i.Promise=i,i.version="3.5.1",e("./map.js")(i,w,c,_,b,S),e("./call_get.js")(i),e("./using.js")(i,c,_,C,b,S),e("./timers.js")(i,b,S),e("./generators.js")(i,c,b,_,r,S),e("./nodeify.js")(i),e("./promisify.js")(i,b),e("./props.js")(i,w,_,c),e("./race.js")(i,b,_,c),e("./reduce.js")(i,w,c,_,b,S),e("./settle.js")(i,w,S),e("./some.js")(i,w,c),e("./filter.js")(i,b),e("./each.js")(i,b),e("./any.js")(i),u.toFastProperties(i),u.toFastProperties(i.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new i(b)),S.setBounds(f.firstLineError,u.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,r){t.exports=function(t,r,i,n,o){function a(e){var i=this._promise=new t(r);e instanceof t&&i._propagateFrom(e,3),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=e("./util");return s.isArray,s.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function e(r,o){var a=i(this._values,this._promise);if(a instanceof t){var c=(a=a._target())._bitField;if(this._values=a,0==(50397184&c))return this._promise._setAsyncGuaranteed(),a._then(e,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))0!==a.length?this._iterate(a):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(o){case-2:return[];case-3:return{};case-6:return new Map}}());else{var l=n("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(l,!1)}},a.prototype._iterate=function(e){var r=this.getActualLength(e.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var n=this._promise,o=!1,a=null,s=0;s<r;++s){var c=i(e[s],n);c instanceof t?(c=c._target(),a=c._bitField):a=null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||n._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},a.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var r=0;r<e.length;++r)e[r]instanceof t&&e[r].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(e){return e},a}},{"./util":36}],24:[function(e,t,r){t.exports=function(t,r){function i(e){return!m.test(e)}function n(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function o(e,t,r){var i=c.getDataPropertyOrDefault(e,t+r,h);return!!i&&n(i)}function a(e,t,r,i,a){for(var l=new RegExp(b(t)+"$"),u=function(e,t,r,i){for(var a=c.inheritedDataKeys(e),s=[],l=0;l<a.length;++l){var u=a[l],p=e[u],f=i===g||g(u,p,e);"function"!=typeof p||n(p)||o(e,u,t)||!i(u,p,e,f)||s.push(u,p)}return function(e,t,r){for(var i=0;i<e.length;i+=2){var n=e[i];if(r.test(n))for(var o=n.replace(r,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new d("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(s,t,r),s}(e,t,l,r),p=0,f=u.length;p<f;p+=2){var h=u[p],m=u[p+1],y=h+t;if(i===v)e[y]=v(h,s,h,m,t,a);else{var _=i(m,function(){return v(h,s,h,m,t,a)});c.notEnumerableProp(_,"__isPromisified__",!0),e[y]=_}}return c.toFastProperties(e),e}var s={},c=e("./util"),l=e("./nodeback"),u=c.withAppended,p=c.maybeWrapAsError,f=c.canEvaluate,d=e("./errors").TypeError,h={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),g=function(e){return c.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},b=function(e){return e.replace(/([$])/,"\\$")},v=f?void 0:function(e,i,n,o,a,f){function d(){var n=i;i===s&&(n=this);var o=new t(r);o._captureStackTrace();var a="string"==typeof m&&this!==h?this[m]:e,c=l(o,f);try{a.apply(n,u(arguments,c))}catch(e){o._rejectCallback(p(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var h=function(){return this}(),m=e;return"string"==typeof m&&(e=o),c.notEnumerableProp(d,"__isPromisified__",!0),d};t.promisify=function(e,t){if("function"!=typeof e)throw new d("expecting a function but got "+c.classString(e));if(n(e))return e;var r=function(e,t,r){return v(e,t,void 0,e,null,r)}(e,void 0===(t=Object(t)).context?s:t.context,!!t.multiArgs);return c.copyDescriptors(e,r,i),r},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!==(void 0===e?"undefined":Yr(e)))throw new d("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(t=Object(t)).multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var n=t.filter;"function"!=typeof n&&(n=g);var o=t.promisifier;if("function"!=typeof o&&(o=v),!c.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=c.inheritedDataKeys(e),l=0;l<s.length;++l){var u=e[s[l]];"constructor"!==s[l]&&c.isClass(u)&&(a(u.prototype,i,n,o,r),a(u,i,n,o,r))}return a(e,i,n,o,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,r){t.exports=function(t,r,i,n){function o(e){var t,r=!1;if(void 0!==s&&e instanceof s)t=p(e),r=!0;else{var i=u.keys(e),n=i.length;t=new Array(2*n);for(var o=0;o<n;++o){var a=i[o];t[o]=e[a],t[o+n]=a}}this.constructor$(t),this._isMap=r,this._init$(void 0,r?-6:-3)}function a(e){var r,a=i(e);return l(a)?(r=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&r._propagateFrom(a,2),r):n("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,c=e("./util"),l=c.isObject,u=e("./es5");"function"==typeof Map&&(s=Map);var p=function(){function e(e,i){this[t]=e,this[t+r]=i,t++}var t=0,r=0;return function(i){r=i.size,t=0;var n=new Array(2*i.size);return i.forEach(e,n),n}}();c.inherits(o,r),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var r;if(this._isMap)r=function(e){for(var t=new s,r=e.length/2|0,i=0;i<r;++i){var n=e[r+i],o=e[i];t.set(n,o)}return t}(this._values);else{r={};for(var i=this.length(),n=0,o=this.length();n<o;++n)r[this._values[n+i]]=this._values[n]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,r){function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,r){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(r);var n=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[n+0&o]=e,this[n+1&o]=t,this[n+2&o]=r,this._length=i},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,r,i,n){for(var o=0;o<n;++o)r[o+i]=e[o+0],e[o+0]=void 0}(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,r){t.exports=function(t,r,i,n){function o(e,o){var c=i(e);if(c instanceof t)return s(c);if(null===(e=a.asArray(e)))return n("expecting an array or an iterable object but got "+a.classString(e));var l=new t(r);void 0!==o&&l._propagateFrom(o,3);for(var u=l._fulfill,p=l._reject,f=0,d=e.length;f<d;++f){var h=e[f];(void 0!==h||f in e)&&t.cast(h)._then(u,p,void 0,l,null)}return l}var a=e("./util"),s=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(e,t,r){t.exports=function(t,r,i,n,o,a){function s(e,r,i,n){this.constructor$(e);var a=f();this._fn=null===a?r:d.domainBind(a,r),void 0!==i&&(i=t.resolve(i))._attachCancellationCallback(this),this._initialValue=i,this._currentCancellable=null,this._eachValues=n===o?Array(this._length):0===n?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function l(e,t,r,n){return"function"!=typeof t?i("expecting a function but got "+d.classString(t)):new s(e,t,r,n).promise()}function u(e){this.accum=e,this.array._gotAccum(e);var r=n(this.value,this.array._promise);return r instanceof t?(this.array._currentCancellable=r,r._then(p,void 0,void 0,this,void 0)):p.call(this,r)}function p(e){var r=this.array,i=r._promise,n=h(r._fn);i._pushContext();var o;(o=void 0!==r._eachValues?n.call(i._boundValue(),e,this.index,this.length):n.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=o);var s=i._popContext();return a.checkForgottenReturns(o,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),o}var f=t._getDomain,d=e("./util"),h=d.tryCatch;d.inherits(s,r),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var r,i,n=e.length;if(void 0!==this._initialValue?(r=this._initialValue,i=0):(r=t.resolve(e[0]),i=1),this._currentCancellable=r,!r.isRejected())for(;i<n;++i){var o={accum:null,value:e[i],index:i,length:n,array:this};r=r._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(c,c,void 0,r,this)},t.prototype.reduce=function(e,t){return l(this,e,t,null)},t.reduce=function(e,t,r,i){return l(e,t,r,i)}}},{"./util":36}],29:[function(e,t,r){var i,n=e("./util"),o=n.getNativePromise();if(n.isNode&&"undefined"==typeof MutationObserver){var a=Vr.setImmediate,s=process.nextTick;i=n.isRecentNode?function(e){a.call(Vr,e)}:function(e){s.call(process,e)}}else if("function"==typeof o&&"function"==typeof o.resolve){var c=o.resolve();i=function(e){c.then(e)}}else i="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},r=!1,i=document.createElement("div");return new MutationObserver(function(){e.classList.toggle("foo"),r=!1}).observe(i,t),function(n){var o=new MutationObserver(function(){o.disconnect(),n()});o.observe(e,t),r||(r=!0,i.classList.toggle("foo"))}}();t.exports=i},{"./util":36}],30:[function(e,t,r){t.exports=function(t,r,i){function n(e){this.constructor$(e)}var o=t.PromiseInspection;e("./util").inherits(n,r),n.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},n.prototype._promiseFulfilled=function(e,t){var r=new o;return r._bitField=33554432,r._settledValueField=e,this._promiseResolved(t,r)},n.prototype._promiseRejected=function(e,t){var r=new o;return r._bitField=16777216,r._settledValueField=e,this._promiseResolved(t,r)},t.settle=function(e){return i.deprecated(".settle()",".reflect()"),new n(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,r){t.exports=function(t,r,i){function n(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new n(e),o=r.promise();return r.setHowMany(t),r.init(),o}var a=e("./util"),s=e("./errors").RangeError,c=e("./errors").AggregateError,l=a.isArray,u={};a.inherits(n,r),n.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=l(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},n.prototype.init=function(){this._initialized=!0,this._init()},n.prototype.setUnwrap=function(){this._unwrap=!0},n.prototype.howMany=function(){return this._howMany},n.prototype.setHowMany=function(e){this._howMany=e},n.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},n.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},n.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},n.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new c,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},n.prototype._fulfilled=function(){return this._totalResolved},n.prototype._rejected=function(){return this._values.length-this.length()},n.prototype._addRejected=function(e){this._values.push(e)},n.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},n.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},n.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},n.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=n}},{"./errors":12,"./util":36}],32:[function(e,t,r){t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var r=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return n.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return r.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,r){t.exports=function(t,r){var i=e("./util"),n=i.errorObj,o=i.isObject,a={}.hasOwnProperty;return function(e,s){if(o(e)){if(e instanceof t)return e;var c=function(e){try{return function(e){return e.then}(e)}catch(e){return n.e=e,n}}(e);if(c===n)return s&&s._pushContext(),l=t.reject(c.e),s&&s._popContext(),l;if("function"==typeof c){if(function(e){try{return a.call(e,"_promise0")}catch(e){return!1}}(e)){var l=new t(r);return e._then(l._fulfill,l._reject,void 0,l,null),l}return function(e,o,a){var s=new t(r),c=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var l=!0,u=i.tryCatch(o).call(e,function(e){s&&(s._resolveCallback(e),s=null)},function(e){s&&(s._rejectCallback(e,l,!0),s=null)});return l=!1,s&&u===n&&(s._rejectCallback(u.e,!0,!0),s=null),c}(e,c,s)}}return e}}},{"./util":36}],34:[function(e,t,r){t.exports=function(t,r,i){function n(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),c=t.TimeoutError;n.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(l,null,null,e,void 0),i.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(r),s=setTimeout(function(){a._fulfill()},+e),i.cancellation()&&a._setOnCancel(new n(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return u(e,this)},t.prototype.timeout=function(e,t){e=+e;var r,l,u=new n(setTimeout(function(){r.isPending()&&function(e,t,r){var i;i="string"!=typeof t?t instanceof Error?t:new c("operation timed out"):new c(t),s.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=r&&r.cancel()}(r,t,l)},e));return i.cancellation()?(l=this.then(),(r=l._then(o,a,void 0,u,void 0))._setOnCancel(u)):r=this._then(o,a,void 0,u,void 0),r}}},{"./util":36}],35:[function(e,t,r){t.exports=function(t,r,i,n,o,a){function s(e){setTimeout(function(){throw e},0)}function c(e,t,r){this._data=e,this._promise=t,this._context=r}function l(e,t,r){this.constructor$(e,t,r)}function u(e){return c.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function p(e){this.length=e,this.promise=null,this[e-1]=null}var f=e("./util"),d=e("./errors").TypeError,h=e("./util").inherits,m=f.errorObj,g=f.tryCatch,b={};c.prototype.data=function(){return this._data},c.prototype.promise=function(){return this._promise},c.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},c.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var i=t!==b?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,i},c.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},h(l,c),l.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},p.prototype._resultCancelled=function(){for(var e=this.length,r=0;r<e;++r){var i=this[r];i instanceof t&&i.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return r("you must pass at least 2 arguments to Promise.using");var n=arguments[e-1];if("function"!=typeof n)return r("expecting a function but got "+f.classString(n));var l,d=!0;2===e&&Array.isArray(arguments[0])?(l=arguments[0],e=l.length,d=!1):(l=arguments,e--);for(var h=new p(e),b=0;b<e;++b){var v=l[b];if(c.isDisposer(v)){var y=v;(v=v.promise())._setDisposable(y)}else{var _=i(v);_ instanceof t&&(v=_._then(u,null,null,{resources:h,index:b},void 0))}h[b]=v}for(var w=new Array(h.length),b=0;b<w.length;++b)w[b]=t.resolve(h[b]).reflect();var x=t.all(w).then(function(e){for(var t=0;t<e.length;++t){var r=e[t];if(r.isRejected())return m.e=r.error(),m;if(!r.isFulfilled())return void x.cancel();e[t]=r.value()}C._pushContext(),n=g(n);var i=d?n.apply(void 0,e):n(e),o=C._popContext();return a.checkForgottenReturns(i,o,"Promise.using",C),i}),C=x.lastly(function(){var e=new t.PromiseInspection(x);return function(e,r){function n(){if(a>=c)return l._fulfill();var o=function(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(r),e.promise)}catch(e){return s(e)}if(o instanceof t)return o._then(n,s,null,null,null)}n()}var a=0,c=e.length,l=new t(o);return n(),l}(h,e)});return h.promise=C,C._setOnCancel(h),C},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new l(e,this,n());throw new d}}},{"./errors":12,"./util":36}],36:[function(e,t,r){function i(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function n(e,t,r){if(i(e))return e;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return u.defineProperty(e,t,n),e}function o(e){try{return e+""}catch(e){return"[no string representation]"}}function a(e){return e instanceof Error||null!==e&&"object"===(void 0===e?"undefined":Yr(e))&&"string"==typeof e.message&&"string"==typeof e.name}function s(e){return a(e)&&u.propertyIsWritable(e,"stack")}function c(e){return{}.toString.call(e)}var l,u=e("./es5"),p="undefined"==typeof navigator,f={e:{}},d="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==Vr?Vr:void 0!==this?this:null,h=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1};if(u.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var i=[],n=Object.create(null);null!=e&&!t(e);){var o;try{o=r(e)}catch(e){return i}for(var a=0;a<o.length;++a){var s=o[a];if(!n[s]){n[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&i.push(s)}}e=u.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(r){if(t(r))return[];var n=[];e:for(var o in r)if(i.call(r,o))n.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;n.push(o)}return n}}(),m=/this\s*\.\s*\S+\s*=/,g=/^[a-z$_][a-z$_0-9]*$/i,b="stack"in new Error?function(e){return s(e)?e:new Error(o(e))}:function(e){if(s(e))return e;try{throw new Error(o(e))}catch(e){return e}},v=function(e){return u.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var y="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,r=[],i=e[Symbol.iterator]();!(t=i.next()).done;)r.push(t.value);return r};v=function(e){return u.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?y(e):null}}var _="undefined"!=typeof process&&"[object process]"===c(process).toLowerCase(),w="undefined"!=typeof process&&void 0!==process.env,x={isClass:function(e){try{if("function"==typeof e){var t=u.names(e.prototype),r=u.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),n=m.test(e+"")&&u.names(e).length>0;if(r||i||n)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return g.test(e)},inheritedDataKeys:h,getDataPropertyOrDefault:function(e,t,r){if(!u.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:r:void 0},thrower:function(e){throw e},isArray:u.isArray,asArray:v,notEnumerableProp:n,isPrimitive:i,isObject:function(e){return"function"==typeof e||"object"===(void 0===e?"undefined":Yr(e))&&null!==e},isError:a,canEvaluate:p,errorObj:f,tryCatch:function(e){return l=e,function(){try{var e=l;return l=null,e.apply(this,arguments)}catch(e){return f.e=e,f}}},inherits:function(e,t){function r(){this.constructor=e,this.constructor$=t;for(var r in t.prototype)i.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}var i={}.hasOwnProperty;return r.prototype=t.prototype,e.prototype=new r,e.prototype},withAppended:function(e,t){var r,i=e.length,n=new Array(i+1);for(r=0;r<i;++r)n[r]=e[r];return n[r]=t,n},maybeWrapAsError:function(e){return i(e)?new Error(o(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var r=8;r--;)new t;return e},filledRange:function(e,t,r){for(var i=new Array(e),n=0;n<e;++n)i[n]=t+n+r;return i},toString:o,canAttachTrace:s,ensureErrorObject:b,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{n(e,"isOperational",!0)}catch(e){}},classString:c,copyDescriptors:function(e,t,r){for(var i=u.names(e),n=0;n<i.length;++n){var o=i[n];if(r(o))try{u.defineProperty(t,o,u.getDescriptor(e,o))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:_,hasEnvVariables:w,env:function(e){return w?process.env[e]:void 0},global:d,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}},domainBind:function(e,t){return e.bind(t)}};x.isRecentNode=x.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),x.isNode&&x.toFastProperties(process);try{throw new Error}catch(e){x.lastLineError=e}t.exports=x},{"./es5":13}]},{},[4])(4),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}),function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return d.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=a(t);return t.readAsArrayBuffer(e),r}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(d.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(d.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(d.arrayBuffer&&d.blob&&m(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!g(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=a(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e,t){var r=(t=t||{}).body;if(e instanceof u){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function f(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var d={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(d.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(e){return e&&DataView.prototype.isPrototypeOf(e)},g=ArrayBuffer.isView||function(e){return e&&h.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,i){e=t(e),i=r(i);var n=this.map[e];this.map[e]=n?n+","+i:i},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,i){this.map[t(e)]=r(i)},n.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),i(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),i(e)},d.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this,{body:this._bodyInit})},l.call(u.prototype),l.call(f.prototype),f.prototype.clone=function(){return new f(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},f.error=function(){var e=new f(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];f.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new f(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=u,e.Response=f,e.fetch=function(e,t){return new Promise(function(r,i){var o=new u(e,t),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new n;return e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new f(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&d.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:global),!console.time||!console.timeEnd){var Mi={};console.time=function(e){Mi[e]=(new Date).getTime()},console.timeEnd=function(e){Mi[e]&&(console.log(e+": "+((new Date).getTime()-Mi[e])+"ms"),delete Mi[e])}}if(void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),Ni.isBrowser){if(window.performance||(window.performance={}),!window.performance.now){var Oi=(performance.timing?performance.timing.navigationStart:null)||Date.now();window.performance.now=function(){return Date.now()-Oi}}}else if(Ni.isReactNative){if(!global.performance&&(global.performance={now:global.nativePerformanceNow},!global.performance.now))throw new Error("Missing global performance-now polyfill")}else global.performance={now:require("performance-now")};var zi=r(function(e){!function(t){var r={};r.VERSION="1.4.1";var i,n={},o=function(e,t){return function(){return t.apply(e,arguments)}},a=function(){var e,t,r=arguments,i=r[0];for(t=1;t<r.length;t++)for(e in r[t])e in i||!r[t].hasOwnProperty(e)||(i[e]=r[t][e]);return i},s=function(e,t){return{value:e,name:t}};r.DEBUG=s(1,"DEBUG"),r.INFO=s(2,"INFO"),r.TIME=s(3,"TIME"),r.WARN=s(4,"WARN"),r.ERROR=s(8,"ERROR"),r.OFF=s(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(r.DEBUG,arguments)},info:function(){this.invoke(r.INFO,arguments)},warn:function(){this.invoke(r.WARN,arguments)},error:function(){this.invoke(r.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"end"])},invoke:function(e,t){i&&this.enabledFor(e)&&i(t,a({level:e},this.context))}};var l=new c({filterLevel:r.OFF});!function(){var e=r;e.enabledFor=o(l,l.enabledFor),e.debug=o(l,l.debug),e.time=o(l,l.time),e.timeEnd=o(l,l.timeEnd),e.info=o(l,l.info),e.warn=o(l,l.warn),e.error=o(l,l.error),e.log=e.info}(),r.setHandler=function(e){i=e},r.setLevel=function(e){l.setLevel(e);for(var t in n)n.hasOwnProperty(t)&&n[t].setLevel(e)},r.getLevel=function(){return l.getLevel()},r.get=function(e){return n[e]||(n[e]=new c(a({name:e},l.context)))},r.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},i=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(n,o){n=Array.prototype.slice.call(n);var a,s=console.log;o.level===r.TIME?(a=(o.name?"["+o.name+"] ":"")+n[0],"start"===n[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):i(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(o.level===r.WARN&&console.warn?s=console.warn:o.level===r.ERROR&&console.error?s=console.error:o.level===r.INFO&&console.info?s=console.info:o.level===r.DEBUG&&console.debug&&(s=console.debug),e.formatter(n,o),i(s,n))}},r.useDefaults=function(e){r.setLevel(e&&e.defaultLevel||r.DEBUG),r.setHandler(r.createDefaultHandler(e))},e.exports?e.exports=r:(r._prevLogger=t.Logger,r.noConflict=function(){return t.Logger=r._prevLogger,r},t.Logger=r)}(Vr)});zi.useDefaults(),Ni.isBrowser&&console.log("https://3d.io 1.2.1 (@master #"+Rr.substr(0,7)+" 2018/06/04 20:49)"),Ni.isNode&&(global.THREE=require("three"));var Li=Object.freeze({logLevel:"warn",publishableApiKey:function(){if(!Ni.isBrowser)return null;var e;if(document.currentScript)e=document.currentScript.getAttribute("src");else for(var t,r=document.getElementsByTagName("script"),i=new RegExp("(/3dio.js|/3dio.min.js)"),n=r.length-1;n>-1;n--)if(t=r[n].getAttribute("src"),i.exec(t)){e=t;break}var o=/pk=([^&]+)/i.exec(e);return o?o[1]:null}(),secretApiKey:null,servicesUrl:"https://spaces.archilogic.com/api/v2",storageDomain:"storage.3d.io",storageDomainNoCdn:"storage-nocdn.3d.io"}),Vi={error:zi.ERROR,warn:zi.WARN,info:zi.INFO,debug:zi.DEBUG},Bi=function e(t){if(!t)return JSON.parse(JSON.stringify(this));t.logLevel&&(a(t.logLevel),delete t.logLevel),Ni.isBrowser&&t.secretApiKey&&zi.error("The secret API key is not supposed to be used in browser environments!\nPlease see https://3d.io/docs/api/1/get-started-browser.html#secret-api-key for more information.");for(var r,i=Object.keys(t),n=0,o=i.length;n<o;n++)r=i[n],void 0!==Li[r]?e[r]=t[r]:zi.warn('Unknown config param "'+r+'". Available params are: '+Object.keys(Li).join(", "));return this};Bi(JSON.parse(JSON.stringify(Li)));var Wi,Hi=Ni.isNode?(global.fetch=require("node-fetch"),global.fetch):"undefined"!=typeof fetch?fetch:(console.warn("Missing global fetch API."),function(){throw new Error("Missing global fetch API.")}),Ui=r(function(e){var t=function(){return void 0===this}();if(t)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(r&&!r.writable&&!r.set)}};else{var r={}.hasOwnProperty,i={}.toString,n={}.constructor.prototype,o=function(e){var t=[];for(var i in e)r.call(e,i)&&t.push(i);return t};e.exports={isArray:function(e){try{return"[object Array]"===i.call(e)}catch(e){return!1}},keys:o,names:o,defineProperty:function(e,t,r){return e[t]=r.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return n}},isES5:t,propertyIsWritable:function(){return!0}}}}),Zi="undefined"==typeof navigator,Gi={e:{}},qi="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==Vr?Vr:void 0!==Vr?Vr:null,Ki=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1};if(Ui.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var i=[],n=Object.create(null);null!=e&&!t(e);){var o;try{o=r(e)}catch(e){return i}for(var a=0;a<o.length;++a){var s=o[a];if(!n[s]){n[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&i.push(s)}}e=Ui.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(r){if(t(r))return[];var n=[];e:for(var o in r)if(i.call(r,o))n.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;n.push(o)}return n}}(),Yi=/this\s*\.\s*\S+\s*=/,Xi=/^[a-z$_][a-z$_0-9]*$/i,Qi="stack"in new Error?function(e){return d(e)?e:new Error(p(e))}:function(e){if(d(e))return e;try{throw new Error(p(e))}catch(e){return e}},Ji=function(e){return Ui.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var $i="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,r=[],i=e[Symbol.iterator]();!(t=i.next()).done;)r.push(t.value);return r};Ji=function(e){return Ui.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?$i(e):null}}var en="undefined"!=typeof process&&"[object process]"===h(process).toLowerCase(),tn="undefined"!=typeof process&&void 0!==process.env,rn={isClass:function(e){try{if("function"==typeof e){var t=Ui.names(e.prototype),r=Ui.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),n=Yi.test(e+"")&&Ui.names(e).length>0;if(r||i||n)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return Xi.test(e)},inheritedDataKeys:Ki,getDataPropertyOrDefault:function(e,t,r){if(!Ui.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:r:void 0},thrower:function(e){throw e},isArray:Ui.isArray,asArray:Ji,notEnumerableProp:u,isPrimitive:l,isObject:function(e){return"function"==typeof e||"object"===(void 0===e?"undefined":Yr(e))&&null!==e},isError:f,canEvaluate:Zi,errorObj:Gi,tryCatch:function(e){return Wi=e,function(){try{var e=Wi;return Wi=null,e.apply(this,arguments)}catch(e){return Gi.e=e,Gi}}},inherits:function(e,t){function r(){this.constructor=e,this.constructor$=t;for(var r in t.prototype)i.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}var i={}.hasOwnProperty;return r.prototype=t.prototype,e.prototype=new r,e.prototype},withAppended:function(e,t){var r,i=e.length,n=new Array(i+1);for(r=0;r<i;++r)n[r]=e[r];return n[r]=t,n},maybeWrapAsError:function(e){return l(e)?new Error(p(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var r=8;r--;)new t;return e},filledRange:function(e,t,r){for(var i=new Array(e),n=0;n<e;++n)i[n]=t+n+r;return i},toString:p,canAttachTrace:d,ensureErrorObject:Qi,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{u(e,"isOperational",!0)}catch(e){}},classString:h,copyDescriptors:function(e,t,r){for(var i=Ui.names(e),n=0;n<i.length;++n){var o=i[n];if(r(o))try{Ui.defineProperty(t,o,Ui.getDescriptor(e,o))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:en,hasEnvVariables:tn,env:function(e){return tn?process.env[e]:void 0},global:qi,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}},domainBind:function(e,t){return e.bind(t)}};rn.isRecentNode=rn.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),rn.isNode&&rn.toFastProperties(process);try{throw new Error}catch(e){rn.lastLineError=e}var nn,on=rn,an=on.getNativePromise();if(on.isNode&&"undefined"==typeof MutationObserver){var sn=Vr.setImmediate,cn=process.nextTick;nn=on.isRecentNode?function(e){sn.call(Vr,e)}:function(e){cn.call(process,e)}}else if("function"==typeof an&&"function"==typeof an.resolve){var ln=an.resolve();nn=function(e){ln.then(e)}}else nn="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},r=!1,i=document.createElement("div");return new MutationObserver(function(){e.classList.toggle("foo"),r=!1}).observe(i,t),function(n){var o=new MutationObserver(function(){o.disconnect(),n()});o.observe(e,t),r||(r=!0,i.classList.toggle("foo"))}}();var un=nn;m.prototype._willBeOverCapacity=function(e){return this._capacity<e},m.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},m.prototype.push=function(e,t,r){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(r);var n=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[n+0&o]=e,this[n+1&o]=t,this[n+2&o]=r,this._length=i},m.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},m.prototype.length=function(){return this._length},m.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},m.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,r,i,n){for(var o=0;o<n;++o)r[o+i]=e[o+0],e[o+0]=void 0}(this,0,this,t,this._front+this._length&t-1)};var pn,fn=m;try{throw new Error}catch(e){pn=e}g.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},g.prototype.hasCustomScheduler=function(){return this._customScheduler},g.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},g.prototype.disableTrampolineIfNecessary=function(){on.hasDevTools&&(this._trampolineEnabled=!1)},g.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},g.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},g.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},on.hasDevTools?(g.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?b.call(this,e,t,r):this._schedule(function(){setTimeout(function(){e.call(t,r)},100)})},g.prototype.invoke=function(e,t,r){this._trampolineEnabled?v.call(this,e,t,r):this._schedule(function(){e.call(t,r)})},g.prototype.settlePromises=function(e){this._trampolineEnabled?y.call(this,e):this._schedule(function(){e._settlePromises()})}):(g.prototype.invokeLater=b,g.prototype.invoke=v,g.prototype.settlePromises=y),g.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var r=e.shift(),i=e.shift();t.call(r,i)}else t._settlePromises()}},g.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},g.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},g.prototype._reset=function(){this._isTickUsed=!1};var dn=g,hn=pn;dn.firstLineError=hn;var mn,gn,bn=Ui.freeze,vn=on.inherits,yn=on.notEnumerableProp,_n=_("Warning","warning"),wn=_("CancellationError","cancellation error"),xn=_("TimeoutError","timeout error"),Cn=_("AggregateError","aggregate error");try{mn=TypeError,gn=RangeError}catch(e){mn=_("TypeError","type error"),gn=_("RangeError","range error")}for(var Sn="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),jn=0;jn<Sn.length;++jn)"function"==typeof Array.prototype[Sn[jn]]&&(Cn.prototype[Sn[jn]]=Array.prototype[Sn[jn]]);Ui.defineProperty(Cn.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),Cn.prototype.isOperational=!0;var kn=0;Cn.prototype.toString=function(){var e=Array(4*kn+1).join(" "),t="\n"+e+"AggregateError of:\n";kn++,e=Array(4*kn+1).join(" ");for(var r=0;r<this.length;++r){for(var i=this[r]===this?"[Circular AggregateError]":this[r]+"",n=i.split("\n"),o=0;o<n.length;++o)n[o]=e+n[o];t+=(i=n.join("\n"))+"\n"}return kn--,t},vn(w,Error);var Pn=Error.__BluebirdErrorTypes__;Pn||(Pn=bn({CancellationError:wn,TimeoutError:xn,OperationalError:w,RejectionError:w,AggregateError:Cn}),Ui.defineProperty(Error,"__BluebirdErrorTypes__",{value:Pn,writable:!1,enumerable:!1,configurable:!1}));var An={Error:Error,TypeError:mn,RangeError:gn,CancellationError:Pn.CancellationError,OperationalError:Pn.OperationalError,TimeoutError:Pn.TimeoutError,AggregateError:Pn.AggregateError,Warning:_n},En=function(e,t){function r(e,t){return{promise:t}}function i(){return!1}function n(e,t,r){var i=this;try{e(t,r,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+A.toString(e));i._attachCancellationCallback(e)})}catch(e){return e}}function o(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?A.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function a(){return this._onCancelField}function s(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function l(e,t){if(0!=(1&t)){this._cancellationParent=e;var r=e._branchesRemainingToCancel;void 0===r&&(r=0),e._branchesRemainingToCancel=r+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function u(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function p(){this._trace=new w(this._peekContext())}function f(e,t){if(E(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=m(e);A.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),A.notEnumerableProp(e,"__stackCleaned__",!0)}}}function d(t,r,i){if(Y.warnings){var n,o=new P(t);if(r)i._attachExtraTrace(o);else if(Y.longStackTraces&&(n=e._peekContext()))n.attachExtraTrace(o);else{var a=m(o);o.stack=a.message+"\n"+a.stack.join("\n")}U("warning",o)||g(o,"",!0)}}function h(e){for(var t=[],r=0;r<e.length;++r){var i=e[r],n="    (No stack trace)"===i||R.test(i),o=n&&G(i);n&&!o&&(N&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function m(e){var t=e.stack,r=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),r=0;r<t.length;++r){var i=t[r];if("    (No stack trace)"===i||R.test(i))break}return r>0&&"SyntaxError"!=e.name&&(t=t.slice(r)),t}(e):["    (No stack trace)"],{message:r,stack:"SyntaxError"==e.name?t:h(t)}}function g(e,t,r){if("undefined"!=typeof console){var i;if(A.isObject(e)){var n=e.stack;i=t+D(n,e)}else i=t+String(e);"function"==typeof S?S(i,r):"function"!=typeof console.log&&"object"!==Yr(console.log)||console.log(i)}}function b(e,t,r,i){var n=!1;try{"function"==typeof t&&(n=!0,"rejectionHandled"===e?t(i):t(r,i))}catch(e){k.throwLater(e)}"unhandledRejection"===e?U(e,r,i)||n||g(r,"Unhandled rejection "):U(e,i)}function v(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():A.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function y(){return"function"==typeof K}function _(e){var t=e.match(q);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function w(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);K(this,w),t>32&&this.uncycle()}var x,C,S,j=e._getDomain,k=e._async,P=An.Warning,A=on,E=A.canAttachTrace,T=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,I=/\((?:timers\.js):\d+:\d+\)/,F=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,R=null,D=null,N=!1,M=!(0==A.env("BLUEBIRD_DEBUG")||!A.env("BLUEBIRD_DEBUG")&&"development"!==A.env("NODE_ENV")),O=!(0==A.env("BLUEBIRD_WARNINGS")||!M&&!A.env("BLUEBIRD_WARNINGS")),z=!(0==A.env("BLUEBIRD_LONG_STACK_TRACES")||!M&&!A.env("BLUEBIRD_LONG_STACK_TRACES")),L=0!=A.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(O||!!A.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},e.prototype._notifyUnhandledRejectionIsHandled=function(){b("rejectionHandled",x,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),b("unhandledRejection",C,e,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(e,t,r){return d(e,t,r||this)},e.onPossiblyUnhandledRejection=function(e){var t=j();C="function"==typeof e?null===t?e:A.domainBind(t,e):void 0},e.onUnhandledRejectionHandled=function(e){var t=j();x="function"==typeof e?null===t?e:A.domainBind(t,e):void 0};var V=function(){};e.longStackTraces=function(){if(k.haveItemsQueued()&&!Y.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Y.longStackTraces&&y()){var r=e.prototype._captureStackTrace,i=e.prototype._attachExtraTrace;Y.longStackTraces=!0,V=function(){if(k.haveItemsQueued()&&!Y.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=r,e.prototype._attachExtraTrace=i,t.deactivateLongStackTraces(),k.enableTrampoline(),Y.longStackTraces=!1},e.prototype._captureStackTrace=p,e.prototype._attachExtraTrace=f,t.activateLongStackTraces(),k.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return Y.longStackTraces&&y()};var B=function(){try{if("function"==typeof CustomEvent)return e=new CustomEvent("CustomEvent"),A.global.dispatchEvent(e),function(e,t){var r=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!A.global.dispatchEvent(r)};if("function"==typeof Event)return e=new Event("CustomEvent"),A.global.dispatchEvent(e),function(e,t){var r=new Event(e.toLowerCase(),{cancelable:!0});return r.detail=t,!A.global.dispatchEvent(r)};var e;return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),A.global.dispatchEvent(e),function(e,t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e.toLowerCase(),!1,!0,t),!A.global.dispatchEvent(r)}}catch(e){}return function(){return!1}}(),W=A.isNode?function(){return process.emit.apply(process,arguments)}:A.global?function(e){var t="on"+e.toLowerCase(),r=A.global[t];return!!r&&(r.apply(A.global,[].slice.call(arguments,1)),!0)}:function(){return!1},H={promiseCreated:r,promiseFulfilled:r,promiseRejected:r,promiseResolved:r,promiseCancelled:r,promiseChained:function(e,t,r){return{promise:t,child:r}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,r){return{reason:t,promise:r}},rejectionHandled:r},U=function(e){var t=!1;try{t=W.apply(null,arguments)}catch(e){k.throwLater(e),t=!0}var r=!1;try{r=B(e,H[e].apply(null,arguments))}catch(e){k.throwLater(e),r=!0}return r||t};e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&V()),"warnings"in t){var r=t.warnings;Y.warnings=!!r,L=Y.warnings,A.isObject(r)&&"wForgottenReturn"in r&&(L=!!r.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!Y.cancellation){if(k.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=c,e.prototype._propagateFrom=l,e.prototype._onCancel=a,e.prototype._setOnCancel=s,e.prototype._attachCancellationCallback=o,e.prototype._execute=n,Z=l,Y.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!Y.monitoring?(Y.monitoring=!0,e.prototype._fireEvent=U):!t.monitoring&&Y.monitoring&&(Y.monitoring=!1,e.prototype._fireEvent=i)),e},e.prototype._fireEvent=i,e.prototype._execute=function(e,t,r){try{e(t,r)}catch(e){return e}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(e){},e.prototype._attachCancellationCallback=function(e){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(e,t){};var Z=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)},G=function(){return!1},q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;A.inherits(w,Error),t.CapturedTrace=w,w.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],r={},i=0,n=this;void 0!==n;++i)t.push(n),n=n._parent;for(i=(e=this._length=i)-1;i>=0;--i){var o=t[i].stack;void 0===r[o]&&(r[o]=i)}for(i=0;i<e;++i){var a=r[t[i].stack];if(void 0!==a&&a!==i){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var s=i>0?t[i-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,l=i-2;l>=0;--l)t[l]._length=c,c++;return}}}},w.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=m(e),r=t.message,i=[t.stack],n=this;void 0!==n;)i.push(h(n.stack.split("\n"))),n=n._parent;!function(e){for(var t=e[0],r=1;r<e.length;++r){for(var i=e[r],n=t.length-1,o=t[n],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(s=a;s>=0;--s){var c=i[s];if(t[n]!==c)break;t.pop(),n--}t=i}}(i),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(i),A.notEnumerableProp(e,"stack",function(e,t){for(var r=0;r<t.length-1;++r)t[r].push("From previous event:"),t[r]=t[r].join("\n");return r<t.length&&(t[r]=t[r].join("\n")),e+"\n"+t.join("\n")}(r,i)),A.notEnumerableProp(e,"__stackCleaned__",!0)}};var K=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():v(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,R=e,D=t;var r=Error.captureStackTrace;return G=function(e){return T.test(e)},function(e,t){Error.stackTraceLimit+=6,r(e,t),Error.stackTraceLimit-=6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return R=/@/,D=t,N=!0,function(e){e.stack=(new Error).stack};var n;try{throw new Error}catch(e){n="stack"in e}return"stack"in i||!n||"number"!=typeof Error.stackTraceLimit?(D=function(e,t){return"string"==typeof e?e:"object"!==(void 0===t?"undefined":Yr(t))&&"function"!=typeof t||void 0===t.name||void 0===t.message?v(t):t.toString()},null):(R=e,D=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(S=function(e){console.warn(e)},A.isNode&&process.stderr.isTTY?S=function(e,t){var r=t?"[33m":"[31m";console.warn(r+e+"[0m\n")}:A.isNode||"string"!=typeof(new Error).stack||(S=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var Y={warnings:O,longStackTraces:!1,cancellation:!1,monitoring:!1};return z&&e.longStackTraces(),{longStackTraces:function(){return Y.longStackTraces},warnings:function(){return Y.warnings},cancellation:function(){return Y.cancellation},monitoring:function(){return Y.monitoring},propagateFromFunction:function(){return Z},boundValueFunction:function(){return u},checkForgottenReturns:function(e,t,r,i,n){if(void 0===e&&null!==t&&L){if(void 0!==n&&n._returnedNonUndefined())return;if(0==(65535&i._bitField))return;r&&(r+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=h(s),l=c.length-1;l>=0;--l){var u=c[l];if(!I.test(u)){var p=u.match(F);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0)for(var f=c[0],l=0;l<s.length;++l)if(s[l]===f){l>0&&(a="\n"+s[l-1]);break}}var d="a promise was created in a "+r+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(d,!0,t)}},setBounds:function(e,t){if(y()){for(var r,i,n=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,c=0;c<n.length;++c)if(l=_(n[c])){r=l.fileName,a=l.line;break}for(c=0;c<o.length;++c){var l=_(o[c]);if(l){i=l.fileName,s=l.line;break}}a<0||s<0||!r||!i||r!==i||a>=s||(G=function(e){if(T.test(e))return!0;var t=_(e);return!!(t&&t.fileName===r&&a<=t.line&&t.line<=s)})}},warn:d,deprecated:function(e,t){var r=e+" is deprecated and will be removed in a future version.";return t&&(r+=" Use "+t+" instead."),d(r)},CapturedTrace:w,fireDomEvent:B,fireGlobalEvent:W}},Tn=function(e){var t=on,r=Ui.keys,i=t.tryCatch,n=t.errorObj;return function(o,a,s){return function(c){var l=s._boundValue();e:for(var u=0;u<o.length;++u){var p=o[u];if(p===Error||null!=p&&p.prototype instanceof Error){if(c instanceof p)return i(a).call(l,c)}else if("function"==typeof p){var f=i(p).call(l,c);if(f===n)return f;if(f)return i(a).call(l,c)}else if(t.isObject(c)){for(var d=r(p),h=0;h<d.length;++h){var m=d[h];if(p[m]!=c[m])continue e}return i(a).call(l,c)}}return e}}},In=function(e,t,r){function i(e,t,r){this.promise=e,this.type=t,this.handler=r,this.called=!1,this.cancelPromise=null}function n(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return c.call(this,this.promise._target()._settledValue())}function s(e){if(!o(this,e))return p.e=e,p}function c(i){var c=this.promise,l=this.handler;if(!this.called){this.called=!0;var f=this.isFinallyHandler()?l.call(c._boundValue()):l.call(c._boundValue(),i);if(f===r)return f;if(void 0!==f){c._setReturnedNonUndefined();var d=t(f,c);if(d instanceof e){if(null!=this.cancelPromise){if(d._isCancelled()){var h=new u("late cancellation observer");return c._attachExtraTrace(h),p.e=h,p}d.isPending()&&d._attachCancellationCallback(new n(this))}return d._then(a,s,void 0,this,void 0)}}}return c.isRejected()?(o(this),p.e=i,p):(o(this),i)}var l=on,u=e.CancellationError,p=l.errorObj,f=Tn(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},n.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(e,t,r,n){return"function"!=typeof e?this.then():this._then(r,n,void 0,new i(this,t,e),void 0)},e.prototype.lastly=e.prototype.finally=function(e){return this._passThrough(e,0,c,c)},e.prototype.tap=function(e){return this._passThrough(e,1,c)},e.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this._passThrough(t,1,void 0,c);var i,n=new Array(r-1),o=0;for(i=0;i<r-1;++i){var a=arguments[i];if(!l.isObject(a))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(a)));n[o++]=a}n.length=o;var s=arguments[i];return this._passThrough(f(n,s,this),1,void 0,c)},i},Fn=on.maybeWrapAsError,Rn=An.OperationalError,Dn=/^(?:name|message|stack|cause)$/,Nn=function(e,t){return function(r,i){if(null!==e){if(r){var n=function(e){var t;if(function(e){return e instanceof Error&&Ui.getPrototypeOf(e)===Error.prototype}(e)){(t=new Rn(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var r=Ui.keys(e),i=0;i<r.length;++i){var n=r[i];Dn.test(n)||(t[n]=e[n])}return t}return on.markAsOriginatingFromRejection(e),e}(Fn(r));e._attachExtraTrace(n),e._reject(n)}else if(t){for(var o=arguments.length,a=new Array(Math.max(o-1,0)),s=1;s<o;++s)a[s-1]=arguments[s];e._fulfill(a)}else e._fulfill(i);e=null}}},Mn=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var r=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return n.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return r.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t},On=function(e,t,r,i,n,o){function a(e,t,r,i){this.constructor$(e),this._promise._captureStackTrace();var o=c();this._callback=null===o?t:l.domainBind(o,t),this._preservedValues=i===n?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}function s(t,i,n,o){if("function"!=typeof i)return r("expecting a function but got "+l.classString(i));var s=0;if(void 0!==n){if("object"!==(void 0===n?"undefined":Yr(n))||null===n)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(n)));if("number"!=typeof n.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(n.concurrency)));s=n.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,i,s,o).promise()}var c=e._getDomain,l=on,u=l.tryCatch,p=l.errorObj,f=e._async;l.inherits(a,t),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,r){var n=this._values,a=this.length(),s=this._preservedValues,c=this._limit;if(r<0){if(r=-1*r-1,n[r]=t,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return n[r]=t,this._queue.push(r),!1;null!==s&&(s[r]=t);var l=this._promise,f=this._callback,d=l._boundValue();l._pushContext();var h=u(f).call(d,t,r,a),m=l._popContext();if(o.checkForgottenReturns(h,m,null!==s?"Promise.filter":"Promise.map",l),h===p)return this._reject(h.e),!0;var g=i(h,this._promise);if(g instanceof e){var b=(g=g._target())._bitField;if(0==(50397184&b))return c>=1&&this._inFlight++,n[r]=g,g._proxy(this,-1*(r+1)),!1;if(0==(33554432&b))return 0!=(16777216&b)?(this._reject(g._reason()),!0):(this._cancel(),!0);h=g._value()}n[r]=h}return++this._totalResolved>=a&&(null!==s?this._filter(n,s):this._resolve(n),!0)},a.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(r[i],i)}},a.prototype._filter=function(e,t){for(var r=t.length,i=new Array(r),n=0,o=0;o<r;++o)e[o]&&(i[n++]=t[o]);i.length=n,this._resolve(i)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(e,t){return s(this,e,t,null)},e.map=function(e,t,r,i){return s(e,t,r,i)}},zn=Object.create;if(zn){var Ln=zn(null),Vn=zn(null);Ln[" size"]=Vn[" size"]=0}var Bn,Wn=r(function(e){e.exports=function(){function t(){}function r(e){e!==g&&function(e,t){if(null==e||e.constructor!==r)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new h("expecting a function but got "+l.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function i(e){var t=new r(g);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var n,o=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},a=function(){return new r.PromiseInspection(this._target())},s=function(e){return r.reject(new h(e))},c={},l=on;n=l.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},l.notEnumerableProp(r,"_getDomain",n);var u=Ui,p=dn,f=new p;u.defineProperty(r,"_async",{value:f});var d=An,h=r.TypeError=d.TypeError;r.RangeError=d.RangeError;var m=r.CancellationError=d.CancellationError;r.TimeoutError=d.TimeoutError,r.OperationalError=d.OperationalError,r.RejectionError=d.OperationalError,r.AggregateError=d.AggregateError;var g=function(){},b={},v={},y=function(e,t){var r=on,i=r.errorObj,n=r.isObject,o={}.hasOwnProperty;return function(a,s){if(n(a)){if(a instanceof e)return a;var c=function(e){try{return function(e){return e.then}(e)}catch(e){return i.e=e,i}}(a);if(c===i)return s&&s._pushContext(),l=e.reject(c.e),s&&s._popContext(),l;if("function"==typeof c){if(function(e){try{return o.call(e,"_promise0")}catch(e){return!1}}(a)){var l=new e(t);return a._then(l._fulfill,l._reject,void 0,l,null),l}return function(n,o,a){var s=new e(t),c=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var l=!0,u=r.tryCatch(o).call(n,function(e){s&&(s._resolveCallback(e),s=null)},function(e){s&&(s._rejectCallback(e,l,!0),s=null)});return l=!1,s&&u===i&&(s._rejectCallback(u.e,!0,!0),s=null),c}(a,c,s)}}return a}}(r,g),_=function(e,t,r,i,n){function o(r){var i=this._promise=new e(t);r instanceof e&&i._propagateFrom(r,3),i._setOnCancel(this),this._values=r,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=on;return a.isArray,a.inherits(o,n),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function t(n,o){var s=r(this._values,this._promise);if(s instanceof e){var c=(s=s._target())._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(o){case-2:return[];case-3:return{};case-6:return new Map}}());else{var l=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(l,!1)}},o.prototype._iterate=function(t){var i=this.getActualLength(t.length);this._length=i,this._values=this.shouldCopyValues()?new Array(i):this._values;for(var n=this._promise,o=!1,a=null,s=0;s<i;++s){var c=r(t[s],n);a=c instanceof e?(c=c._target())._bitField:null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||n._setAsyncGuaranteed()},o.prototype._isResolved=function(){return null===this._values},o.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},o.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},o.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},o.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof e&&t[r].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(e){return e},o}(r,g,y,s,t),w=function(e){function t(){this._trace=new t.CapturedTrace(r())}function r(){var e=n.length-1;if(e>=0)return n[e]}var i=!1,n=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=function(){if(i)return new t},t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=c,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}(r),x=w.create,C=En(r,w),S=(C.CapturedTrace,In(r,y,v)),j=Tn(v),k=Nn,P=l.errorObj,A=l.tryCatch;return r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype.catch=function(e){var t=arguments.length;if(t>1){var r,i=new Array(t-1),n=0;for(r=0;r<t-1;++r){var o=arguments[r];if(!l.isObject(o))return s("Catch statement predicate: expecting an object but got "+l.classString(o));i[n++]=o}return i.length=n,e=arguments[r],this.then(void 0,j(i,e,this))}return this.then(void 0,e)},r.prototype.reflect=function(){return this._then(a,a,void 0,this,void 0)},r.prototype.then=function(e,t){if(C.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+l.classString(e);arguments.length>1&&(r+=", "+l.classString(t)),this._warn(r)}return this._then(e,t,void 0,void 0,void 0)},r.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},r.prototype.spread=function(e){return"function"!=typeof e?s("expecting a function but got "+l.classString(e)):this.all()._then(e,void 0,void 0,b,void 0)},r.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},r.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},r.prototype.error=function(e){return this.caught(l.originatesFromRejection,e)},r.getNewLibraryCopy=e.exports,r.is=function(e){return e instanceof r},r.fromNode=r.fromCallback=function(e){var t=new r(g);t._captureStackTrace();var i=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=A(e)(k(t,i));return n===P&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},r.all=function(e){return new _(e).promise()},r.cast=function(e){var t=y(e);return t instanceof r||((t=new r(g))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},r.resolve=r.fulfilled=r.cast,r.reject=r.rejected=function(e){var t=new r(g);return t._captureStackTrace(),t._rejectCallback(e,!0),t},r.setScheduler=function(e){if("function"!=typeof e)throw new h("expecting a function but got "+l.classString(e));return f.setScheduler(e)},r.prototype._then=function(e,t,i,o,a){var s=void 0!==a,c=s?a:new r(g),u=this._target(),p=u._bitField;s||(c._propagateFrom(this,3),c._captureStackTrace(),void 0===o&&0!=(2097152&this._bitField)&&(o=0!=(50397184&p)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,c));var d=n();if(0!=(50397184&p)){var h,b,v=u._settlePromiseCtx;0!=(33554432&p)?(b=u._rejectionHandler0,h=e):0!=(16777216&p)?(b=u._fulfillmentHandler0,h=t,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,b=new m("late cancellation observer"),u._attachExtraTrace(b),h=t),f.invoke(v,u,{handler:null===d?h:"function"==typeof h&&l.domainBind(d,h),promise:c,receiver:o,value:b})}else u._addCallbacks(e,t,c,o,d);return c},r.prototype._length=function(){return 65535&this._bitField},r.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},r.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},r.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},r.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},r.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},r.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},r.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},r.prototype._isFinal=function(){return(4194304&this._bitField)>0},r.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},r.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},r.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},r.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},r.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==c)return void 0===t&&this._isBound()?this._boundValue():t},r.prototype._promiseAt=function(e){return this[4*e-4+2]},r.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},r.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},r.prototype._boundValue=function(){},r.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,r=e._rejectionHandler0,i=e._promise0,n=e._receiverAt(0);void 0===n&&(n=c),this._addCallbacks(t,r,i,n,null)},r.prototype._migrateCallbackAt=function(e,t){var r=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),n=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=c),this._addCallbacks(r,i,n,o,null)},r.prototype._addCallbacks=function(e,t,r,i,n){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=r,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===n?e:l.domainBind(n,e)),"function"==typeof t&&(this._rejectionHandler0=null===n?t:l.domainBind(n,t));else{var a=4*o-4;this[a+2]=r,this[a+3]=i,"function"==typeof e&&(this[a+0]=null===n?e:l.domainBind(n,e)),"function"==typeof t&&(this[a+1]=null===n?t:l.domainBind(n,t))}return this._setLength(o+1),o},r.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},r.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(o(),!1);var i=y(e,this);if(!(i instanceof r))return this._fulfill(e);t&&this._propagateFrom(i,2);var n=i._target();if(n!==this){var a=n._bitField;if(0==(50397184&a)){var s=this._length();s>0&&n._migrateCallback0(this);for(var c=1;c<s;++c)n._migrateCallbackAt(this,c);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&a))this._fulfill(n._value());else if(0!=(16777216&a))this._reject(n._reason());else{var l=new m("late cancellation observer");n._attachExtraTrace(l),this._reject(l)}}else this._reject(o())}},r.prototype._rejectCallback=function(e,t,r){var i=l.ensureErrorObject(e),n=i===e;if(!n&&!r&&C.warnings()){var o="a promise was rejected with a non-error: "+l.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&n),this._reject(e)},r.prototype._resolveFromExecutor=function(e){if(e!==g){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,r)});r=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)}},r.prototype._settlePromiseFromHandler=function(e,t,r,i){var n=i._bitField;if(0==(65536&n)){i._pushContext();var o;t===b?r&&"number"==typeof r.length?o=A(e).apply(this._boundValue(),r):(o=P).e=new h("cannot .spread() a non-array: "+l.classString(r)):o=A(e).call(t,r);var a=i._popContext();0==(65536&(n=i._bitField))&&(o===v?i._reject(r):o===P?i._rejectCallback(o.e,!1):(C.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},r.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},r.prototype._followee=function(){return this._rejectionHandler0},r.prototype._setFollowee=function(e){this._rejectionHandler0=e},r.prototype._settlePromise=function(e,i,n,o){var s=e instanceof r,c=this._bitField,l=0!=(134217728&c);0!=(65536&c)?(s&&e._invokeInternalOnCancel(),n instanceof S&&n.isFinallyHandler()?(n.cancelPromise=e,A(i).call(n,o)===P&&e._reject(P.e)):i===a?e._fulfill(a.call(n)):n instanceof t?n._promiseCancelled(e):s||e instanceof _?e._cancel():n.cancel()):"function"==typeof i?s?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(i,n,o,e)):i.call(n,o,e):n instanceof t?n._isResolved()||(0!=(33554432&c)?n._promiseFulfilled(o,e):n._promiseRejected(o,e)):s&&(l&&e._setAsyncGuaranteed(),0!=(33554432&c)?e._fulfill(o):e._reject(o))},r.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,i=e.promise,n=e.receiver,o=e.value;"function"==typeof t?i instanceof r?this._settlePromiseFromHandler(t,n,o,i):t.call(n,o,i):i instanceof r&&i._reject(o)},r.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},r.prototype._settlePromise0=function(e,t,r){var i=this._promise0,n=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,n,t)},r.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},r.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var r=o();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():f.settlePromises(this))}},r.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return f.fatalError(e,l.isNode);(65535&t)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},r.prototype._fulfillPromises=function(e,t){for(var r=1;r<e;r++){var i=this._fulfillmentHandlerAt(r),n=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(n,i,o,t)}},r.prototype._rejectPromises=function(e,t){for(var r=1;r<e;r++){var i=this._rejectionHandlerAt(r),n=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(n,i,o,t)}},r.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,e),this._rejectPromises(t,r)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},r.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},r.defer=r.pending=function(){return C.deprecated("Promise.defer","new Promise"),{promise:new r(g),resolve:function(e){this.promise._resolveCallback(e)},reject:function(e){this.promise._rejectCallback(e,!1)}}},l.notEnumerableProp(r,"_makeSelfResolutionError",o),function(e,t,r,i,n){var o=on,a=o.tryCatch;e.method=function(r){if("function"!=typeof r)throw new e.TypeError("expecting a function but got "+o.classString(r));return function(){var i=new e(t);i._captureStackTrace(),i._pushContext();var o=a(r).apply(this,arguments),s=i._popContext();return n.checkForgottenReturns(o,s,"Promise.method",i),i._resolveFromSyncValue(o),i}},e.attempt=e.try=function(r){if("function"!=typeof r)return i("expecting a function but got "+o.classString(r));var s=new e(t);s._captureStackTrace(),s._pushContext();var c;if(arguments.length>1){n.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],u=arguments[2];c=o.isArray(l)?a(r).apply(u,l):a(r).call(u,l)}else c=a(r)();var p=s._popContext();return n.checkForgottenReturns(c,p,"Promise.try",s),s._resolveFromSyncValue(c),s},e.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}(r,g,0,s,C),function(e,t,r,i){var n=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){n||(n=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var l=r(o),u=new e(t);u._propagateFrom(this,1);var p=this._target();if(u._setBoundTo(l),l instanceof e){var f={promiseRejectionQueued:!1,promise:u,target:p,bindingPromise:l};p._then(t,a,void 0,u,f),l._then(s,c,void 0,u,f),u._setOnCancel(l)}else u._resolveCallback(p);return u},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,r){return e.resolve(r).bind(t)}}(r,g,y,C),function(e,t,r,i){var n=on,o=n.tryCatch,a=n.errorObj,s=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var r=e._cancellationParent;if(null==r||!r._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=r}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(n.isArray(e))for(var r=0;r<e.length;++r)this._doInvokeOnCancel(e[r],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=o(e).call(this._boundValue());i===a&&(this._attachExtraTrace(i.e),s.throwLater(i.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}(r,0,0,C),function(e){function t(){return this.value}function r(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var i=arguments[1];return i instanceof e&&i.suppressUnhandledRejections(),this.caught(r,function(){return i})}}(r),Mn(r),function(e,t,r,i,n,o){var a,s=on,c=s.canEvaluate,l=s.tryCatch,u=s.errorObj;if(c){for(var p=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))},f=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))},d=function(t){for(var r=new Array(t),i=0;i<r.length;++i)r[i]="this.p"+(i+1);var o=r.join(" = ")+" = null;",a="var promise;\n"+r.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),s=r.join(", "),c="Holder$"+t,p="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return p=p.replace(/\[TheName\]/g,c).replace(/\[TheTotal\]/g,t).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,o).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",p)(l,u,e,n)},h=[],m=[],g=[],b=0;b<8;++b)h.push(d(b+1)),m.push(p(b+1)),g.push(f(b+1));a=function(e){this._reject(e)}}e.join=function(){var n,l=arguments.length-1;if(l>0&&"function"==typeof arguments[l]&&(n=arguments[l],l<=8&&c)){(x=new e(i))._captureStackTrace();for(var u=new(0,h[l-1])(n),p=m,f=0;f<l;++f){var d=r(arguments[f],x);if(d instanceof e){var b=(d=d._target())._bitField;0==(50397184&b)?(d._then(p[f],a,void 0,x,u),g[f](d,u),u.asyncNeeded=!1):0!=(33554432&b)?p[f].call(x,d._value(),u):0!=(16777216&b)?x._reject(d._reason()):x._cancel()}else p[f].call(x,d,u)}if(!x._isFateSealed()){if(u.asyncNeeded){var v=o();null!==v&&(u.fn=s.domainBind(v,u.fn))}x._setAsyncGuaranteed(),x._setOnCancel(u)}return x}for(var y=arguments.length,_=new Array(y),w=0;w<y;++w)_[w]=arguments[w];n&&_.pop();var x=new t(_).promise();return void 0!==n?x.spread(n):x}}(r,_,y,g,f,n),r.Promise=r,r.version="3.5.1",On(r,_,s,y,g,C),function(e){function t(t,r){var i;if(null!=t&&(i=t[r]),"function"!=typeof i){var n="Object "+s.classString(t)+" has no method '"+s.toString(r)+"'";throw new e.TypeError(n)}return i}function r(e){return t(e,this.pop()).apply(e,this)}function i(e){return e[this]}function n(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var o,a,s=on,c=s.canEvaluate,l=s.isIdentifier,u=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(t)},p=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))},f=function(e,t,r){var i=r[e];if("function"!=typeof i){if(!l(e))return null;if(i=t(e),r[e]=i,r[" size"]++,r[" size"]>512){for(var n=Object.keys(r),o=0;o<256;++o)delete r[n[o]];r[" size"]=n.length-256}}return i};o=function(e){return f(e,u,Ln)},a=function(e){return f(e,p,Vn)},e.prototype.call=function(e){for(var t=arguments.length,i=new Array(Math.max(t-1,0)),n=1;n<t;++n)i[n-1]=arguments[n];if(c){var a=o(e);if(null!==a)return this._then(a,void 0,void 0,i,void 0)}return i.push(e),this._then(r,void 0,void 0,i,void 0)},e.prototype.get=function(e){var t;if("number"==typeof e)t=n;else if(c){var r=a(e);t=null!==r?r:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}(r),function(e,t,r,i,n,o){function a(e){setTimeout(function(){throw e},0)}function s(e,t,r){this._data=e,this._promise=t,this._context=r}function c(e,t,r){this.constructor$(e,t,r)}function l(e){return s.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function u(e){this.length=e,this.promise=null,this[e-1]=null}var p=on,f=An.TypeError,d=on.inherits,h=p.errorObj,m=p.tryCatch,g={};s.prototype.data=function(){return this._data},s.prototype.promise=function(){return this._promise},s.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},s.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var i=t!==g?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,i},s.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},d(c,s),c.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},u.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var i=this[r];i instanceof e&&i.cancel()}},e.using=function(){var i=arguments.length;if(i<2)return t("you must pass at least 2 arguments to Promise.using");var c=arguments[i-1];if("function"!=typeof c)return t("expecting a function but got "+p.classString(c));var f,d=!0;2===i&&Array.isArray(arguments[0])?(i=(f=arguments[0]).length,d=!1):(f=arguments,i--);for(var g=new u(i),b=0;b<i;++b){var v=f[b];if(s.isDisposer(v)){var y=v;(v=v.promise())._setDisposable(y)}else{var _=r(v);_ instanceof e&&(v=_._then(l,null,null,{resources:g,index:b},void 0))}g[b]=v}for(var w=new Array(g.length),b=0;b<w.length;++b)w[b]=e.resolve(g[b]).reflect();var x=e.all(w).then(function(e){for(var t=0;t<e.length;++t){var r=e[t];if(r.isRejected())return h.e=r.error(),h;if(!r.isFulfilled())return void x.cancel();e[t]=r.value()}C._pushContext(),c=m(c);var i=d?c.apply(void 0,e):c(e),n=C._popContext();return o.checkForgottenReturns(i,n,"Promise.using",C),i}),C=x.lastly(function(){var t=new e.PromiseInspection(x);return function(t,i){function o(){if(s>=c)return l._fulfill();var n=function(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(t[s++]);if(n instanceof e&&n._isDisposable()){try{n=r(n._getDisposer().tryDispose(i),t.promise)}catch(e){return a(e)}if(n instanceof e)return n._then(o,a,null,null,null)}o()}var s=0,c=t.length,l=new e(n);return o(),l}(g,t)});return g.promise=C,C._setOnCancel(g),C},e.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(e){if("function"==typeof e)return new c(e,this,i());throw new f}}(r,s,y,x,g,C),function(e,t,r){function i(e){this.handle=e}function n(e){return clearTimeout(this.handle),e}function o(e){throw clearTimeout(this.handle),e}var a=on,s=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return l(+this).thenReturn(e)},l=e.delay=function(n,o){var a,s;return void 0!==o?(a=e.resolve(o)._then(c,null,null,n,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(t),s=setTimeout(function(){a._fulfill()},+n),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};e.prototype.delay=function(e){return l(e,this)},e.prototype.timeout=function(e,t){e=+e;var c,l,u=new i(setTimeout(function(){c.isPending()&&function(e,t,r){var i;i="string"!=typeof t?t instanceof Error?t:new s("operation timed out"):new s(t),a.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=r&&r.cancel()}(c,t,l)},e));return r.cancellation()?(l=this.then(),(c=l._then(n,o,void 0,u,void 0))._setOnCancel(u)):c=this._then(n,o,void 0,u,void 0),c}}(r,g,C),function(e,t,r,i,n,o){function a(t,i,n,a){if(o.cancellation()){var s=new e(r),c=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=a,this._generatorFunction=t,this._receiver=i,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}var s=An.TypeError,c=on,l=c.errorObj,u=c.tryCatch,p=[];c.inherits(a,n),a.prototype._isResolved=function(){return null===this._promise},a.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},a.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=u(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},a.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=u(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},a.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=u(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},a.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},a.prototype.promise=function(){return this._promise},a.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},a.prototype._continue=function(t){var r=this._promise;if(t===l)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(t.e,!1);var n=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(n);var o=i(n,this._promise);if(o instanceof e||null!==(o=function(t,r,n){for(var o=0;o<r.length;++o){n._pushContext();var a=u(r[o])(t);if(n._popContext(),a===l){n._pushContext();var s=e.reject(l.e);return n._popContext(),s}var c=i(a,n);if(c instanceof e)return c}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,i=a,n=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,r,n),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("expecting a function but got "+c.classString(e));p.push(e)},e.spawn=function(r){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof r)return t("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new a(r,this),n=i.promise();return i._run(e.spawn),n}}(r,s,g,y,t,C),function(e){function t(e,t){if(!n.isArray(e))return r.call(this,e,t);var i=a(t).apply(this._boundValue(),[null].concat(e));i===s&&o.throwLater(i.e)}function r(e,t){var r=this._boundValue(),i=void 0===e?a(t).call(r,null):a(t).call(r,null,e);i===s&&o.throwLater(i.e)}function i(e,t){if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=a(t).call(this._boundValue(),e);i===s&&o.throwLater(i.e)}var n=on,o=e._async,a=n.tryCatch,s=n.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(e,n){if("function"==typeof e){var o=r;void 0!==n&&Object(n).spread&&(o=t),this._then(o,i,void 0,this,e)}return this}}(r),function(e,t){function r(e){return!m.test(e)}function i(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function n(e,t,r){var n=c.getDataPropertyOrDefault(e,t+r,h);return!!n&&i(n)}function o(e,t,r,o,a){for(var l=new RegExp(b(t)+"$"),u=function(e,t,r,o){for(var a=c.inheritedDataKeys(e),s=[],l=0;l<a.length;++l){var u=a[l],p=e[u],f=o===g||g(u,p,e);"function"!=typeof p||i(p)||n(e,u,t)||!o(u,p,e,f)||s.push(u,p)}return function(e,t,r){for(var i=0;i<e.length;i+=2){var n=e[i];if(r.test(n))for(var o=n.replace(r,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new d("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(s,t,r),s}(e,t,l,r),p=0,f=u.length;p<f;p+=2){var h=u[p],m=u[p+1],v=h+t;if(o===y)e[v]=y(h,s,h,m,t,a);else{var _=o(m,function(){return y(h,s,h,m,t,a)});c.notEnumerableProp(_,"__isPromisified__",!0),e[v]=_}}return c.toFastProperties(e),e}var a,s={},c=on,l=Nn,u=c.withAppended,p=c.maybeWrapAsError,f=c.canEvaluate,d=An.TypeError,h={__isPromisified__:!0},m=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),g=function(e){return c.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},b=function(e){return e.replace(/([$])/,"\\$")},v=function(e){return c.filledRange(e,"_arg","")};a=function(r,i,n,o,a,f){function d(e){var t=v(e).join(", "),r=e>0?", ":"";return(g?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===i?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",t).replace(", ",r)}var h=Math.max(0,function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0}(o)-1),m=function(e){for(var t=[e],r=Math.max(0,e-1-3),i=e-1;i>=r;--i)t.push(i);for(i=e+1;i<=3;++i)t.push(i);return t}(h),g="string"==typeof r||i===s,b="string"==typeof r?"this != null ? this['"+r+"'] : fn":"fn",y="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+f+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var e="",t=0;t<m.length;++t)e+="case "+m[t]+":"+d(m[t]);return e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",g?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",b);return y=y.replace("Parameters",function(e){return c.filledRange(Math.max(e,3),"_arg","")}(h)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",y)(e,o,i,u,p,l,c.tryCatch,c.errorObj,c.notEnumerableProp,t)};var y=f?a:function(r,i,n,o,a,f){function d(){var n=i;i===s&&(n=this);var o=new e(t);o._captureStackTrace();var a="string"==typeof m&&this!==h?this[m]:r,c=l(o,f);try{a.apply(n,u(arguments,c))}catch(e){o._rejectCallback(p(e),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var h=function(){return this}(),m=r;return"string"==typeof m&&(r=o),c.notEnumerableProp(d,"__isPromisified__",!0),d};e.promisify=function(e,t){if("function"!=typeof e)throw new d("expecting a function but got "+c.classString(e));if(i(e))return e;var n=function(e,t,r){return y(e,t,void 0,e,null,r)}(e,void 0===(t=Object(t)).context?s:t.context,!!t.multiArgs);return c.copyDescriptors(e,n,r),n},e.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!==(void 0===e?"undefined":Yr(e)))throw new d("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(t=Object(t)).multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var n=t.filter;"function"!=typeof n&&(n=g);var a=t.promisifier;if("function"!=typeof a&&(a=y),!c.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=c.inheritedDataKeys(e),l=0;l<s.length;++l){var u=e[s[l]];"constructor"!==s[l]&&c.isClass(u)&&(o(u.prototype,i,n,a,r),o(u,i,n,a,r))}return o(e,i,n,a,r)}}(r,g),function(e,t,r,i){function n(e){var t,r=!1;if(void 0!==a&&e instanceof a)t=u(e),r=!0;else{var i=l.keys(e),n=i.length;t=new Array(2*n);for(var o=0;o<n;++o){var s=i[o];t[o]=e[s],t[o+n]=s}}this.constructor$(t),this._isMap=r,this._init$(void 0,r?-6:-3)}function o(t){var o,a=r(t);return c(a)?(o=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new n(a).promise(),a instanceof e&&o._propagateFrom(a,2),o):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,s=on,c=s.isObject,l=Ui;"function"==typeof Map&&(a=Map);var u=function(){function e(e,i){this[t]=e,this[t+r]=i,t++}var t=0,r=0;return function(i){r=i.size,t=0;var n=new Array(2*i.size);return i.forEach(e,n),n}}();s.inherits(n,t),n.prototype._init=function(){},n.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var r;if(this._isMap)r=function(e){for(var t=new a,r=e.length/2|0,i=0;i<r;++i){var n=e[r+i],o=e[i];t.set(n,o)}return t}(this._values);else{r={};for(var i=this.length(),n=0,o=this.length();n<o;++n)r[this._values[n+i]]=this._values[n]}return this._resolve(r),!0}return!1},n.prototype.shouldCopyValues=function(){return!1},n.prototype.getActualLength=function(e){return e>>1},e.prototype.props=function(){return o(this)},e.props=function(e){return o(e)}}(r,_,y,s),function(e,t,r,i){function n(n,s){var c=r(n);if(c instanceof e)return a(c);if(null===(n=o.asArray(n)))return i("expecting an array or an iterable object but got "+o.classString(n));var l=new e(t);void 0!==s&&l._propagateFrom(s,3);for(var u=l._fulfill,p=l._reject,f=0,d=n.length;f<d;++f){var h=n[f];(void 0!==h||f in n)&&e.cast(h)._then(u,p,void 0,l,null)}return l}var o=on,a=function(e){return e.then(function(t){return n(t,e)})};e.race=function(e){return n(e,void 0)},e.prototype.race=function(){return n(this,void 0)}}(r,g,y,s),function(e,t,r,i,n,o){function a(t,r,i,o){this.constructor$(t);var a=p();this._fn=null===a?r:f.domainBind(a,r),void 0!==i&&(i=e.resolve(i))._attachCancellationCallback(this),this._initialValue=i,this._currentCancellable=null,this._eachValues=o===n?Array(this._length):0===o?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function s(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,i,n){return"function"!=typeof t?r("expecting a function but got "+f.classString(t)):new a(e,t,i,n).promise()}function l(t){this.accum=t,this.array._gotAccum(t);var r=i(this.value,this.array._promise);return r instanceof e?(this.array._currentCancellable=r,r._then(u,void 0,void 0,this,void 0)):u.call(this,r)}function u(t){var r=this.array,i=r._promise,n=d(r._fn);i._pushContext();var a;(a=void 0!==r._eachValues?n.call(i._boundValue(),t,this.index,this.length):n.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=a);var s=i._popContext();return o.checkForgottenReturns(a,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),a}var p=e._getDomain,f=on,d=f.tryCatch;f.inherits(a,t),a.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==n&&this._eachValues.push(e)},a.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},a.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},a.prototype._iterate=function(t){this._values=t;var r,i,n=t.length;if(void 0!==this._initialValue?(r=this._initialValue,i=0):(r=e.resolve(t[0]),i=1),this._currentCancellable=r,!r.isRejected())for(;i<n;++i){var o={accum:null,value:t[i],index:i,length:n,array:this};r=r._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(s,s,void 0,r,this)},e.prototype.reduce=function(e,t){return c(this,e,t,null)},e.reduce=function(e,t,r,i){return c(e,t,r,i)}}(r,_,s,y,g,C),function(e,t,r){function i(e){this.constructor$(e)}var n=e.PromiseInspection;on.inherits(i,t),i.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var r=new n;return r._bitField=33554432,r._settledValueField=e,this._promiseResolved(t,r)},i.prototype._promiseRejected=function(e,t){var r=new n;return r._bitField=16777216,r._settledValueField=e,this._promiseResolved(t,r)},e.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},e.prototype.settle=function(){return e.settle(this)}}(r,_,C),function(e,t,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function n(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var o=on,a=An.RangeError,s=An.AggregateError,c=o.isArray,l={};o.inherits(i,t),i.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new s,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return n(e,t)},e.prototype.some=function(e){return n(this,e)},e._SomePromiseArray=i}(r,_,s),function(e,t){var r=e.map;e.prototype.filter=function(e,i){return r(this,e,i,t)},e.filter=function(e,i,n){return r(e,i,n,t)}}(r,g),function(e,t){function r(){return n(this)}var i=e.reduce,n=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,n){return i(e,n,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,r){return i(e,r,t,t)}}(r,g),function(e){function t(e){var t=new r(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var r=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}(r),l.toFastProperties(r),l.toFastProperties(r.prototype),i({a:1}),i({b:2}),i({c:3}),i(1),i(function(){}),i(void 0),i(!1),i(new r(g)),C.setBounds(p.firstLineError,l.lastLineError),r}});"undefined"!=typeof Promise&&(Bn=Promise);var Hn=Wn();Hn.noConflict=function(){try{Promise===Hn&&(Promise=Bn)}catch(e){}return Hn};var Un=Hn,Zn=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,Gn={};Gn.generate=function(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)})},Gn.validate=function(e){return!(!e||"string"!=typeof e)&&Zn.test(e)},x.prototype={_handleError:function(e,t){console.error(e,t)},_closeRequest:function(e){delete this._openRequests[e],this._closedRequestIds.push(e)},createRequest:function(e,t){var r=this,i=Gn.generate(),n=Date.now(),o={id:i,message:{jsonrpc:"2.0",method:e,params:t,id:i},timestamp:n},a=new Un(function(e,t){o._resolve=e,o._reject=t,o.cancel=t});return o.promise=a,r._openRequests[i]=o,a.finally(function(){r._closeRequest(i)}).catch(function(){r._closeRequest(i)}),o},handleResponse:function(e){var t=e.id,r=this._openRequests[t];void 0===t?Ni.isDebugMode&&console.error("Incoming message is not a valid JSON-RPC2 response (ID should be present as string, number or null).",e):r?e.error?e.error.message?(Ni.isDebugMode&&console.error('API error response: "'+e.error.message+'"\nResponse JSON-RPC2 ID: '+t+"\nOriginal JSON-RPC2 request: "+JSON.stringify(r.message,null,2)),r._reject(e.error.message)):(console.error("API error (not JSON-RPC2 standard): "+JSON.stringify(e)+"\nOriginal JSON-RPC2 request: "+JSON.stringify(r.message,null,2)),r._reject("Undefined Error. Check console for details.")):r._resolve(e.result):-1!==this._closedRequestIds.indexOf(t)?Ni.isDebugMode&&console.error("JSON-RPC2 request has already been responded, canceled or timed out.",t):null===t?Ni.isDebugMode&&console.error("Incoming JSON-RPC2 response has ID = null.",e):Ni.isDebugMode&&console.error("Incoming JSON-RPC2 response has an unknown ID.",t)}};var qn=new x,Kn={schema:{url:{type:"string",default:""},key:{type:"string",default:""},scene:{type:"string",default:""},lightMapIntensity:{type:"float",default:1.2,parse:function(e){return parseFloat(e)>=0?parseFloat(e):-100}},lightMapExposure:{type:"float",default:.6,parse:function(e){return parseFloat(e)?parseFloat(e):-100}}},init:function(){},update:function(){var e=this,t=e.data.url||e.data.URL,r=e.data.key||e.data.KEY,i=e.data.scene,n=e.data.lightMapIntensity,o=e.data.lightMapExposure;""!==i&&C("Model.read",{arguments:{resourceId:i}}).then(function(t){var n=t.modelStructure.children.filter(function(e){return"level"===e.type})[0];if(n)if(n.bakedModelUrl){var o=n.bakedModelUrl;"buffer"===o.split(".")[o.split(".").length-1]?(e.data.key=o,r=o,console.log("Loading scene",r),e.data.scene="",e.update()):console.error("Unable to load data3d from scene "+i+": The scene is not in Data3D format. Disable and enable realistic lighting on this scene. Error was: No buffer3d found.")}else console.error("Unable to load data3d from scene "+i+": The scene is not baked. Enable realistic lighting on this scene. Error was: No baked data3d present.");else console.error("Unable to load data3d from scene "+i+": The scene does not contain data in the expected format. Error was: No level found.")}).catch(function(e){console.error("Unable to load data3d from scene "+i+": The API returned an error. Error was:",e)}),(t&&""!==t||r&&""!==r&&"undefined"!==r)&&(e.remove(),e.mesh=new THREE.Object3D,e.data3dView=new io3d.aframe.three.Data3dView({parent:e.mesh}),e.el.data3dView=e.data3dView,Promise.resolve().then(function(){return r?io3d.storage.get(r,{loadingQueuePrefix:"architecture"}):io3d.utils.data3d.load(t,{loadingQueuePrefix:"architecture"})}).then(function(t){e.el.data3d=t,e.data3dView.set(t,{lightMapIntensity:n,lightMapExposure:o,loadingQueuePrefix:"architecture"}),e.el.setObject3D("mesh",e.mesh),e.el.emit("model-loaded",{format:"data3d",model:e.mesh})}).catch(function(e){console.warn(e)}))},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null,this.el.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},Yn=S;Yn.withPayload=function(e){return S(e,{clonePositions:!0,cloneNormals:!0,cloneUvs:!0,cloneUvsLightmap:!0})},Yn.meshes=j,Yn.mesh=function(e,t){return j({x:e},t).x},Yn.materials=k,Yn.material=function(e){return k({x:e}).x};var Xn={schema:{id:{type:"string",default:"10344b13-d981-47a0-90ac-f048ee2780a6"}},init:function(){},updateSchema:function(e){var t={};Object.keys(e).filter(function(e){return"material_"===e.substr(0,9)}).forEach(function(e){t[e]={type:"string"}}),this.extendSchema(t)},update:function(e){var t=this,r=this.el,i=this.data,n=i.id,o=!1;e&&e.id&&e.id!==i.id&&(o=!0),n&&""!==n&&(t.remove(),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aframe.three.Data3dView({parent:t.mesh}),t.el.data3dView=t.data3dView,io3d.furniture.get(n).then(function(e){var a=e.info,s=e.data3d,c={};t.info=a,t.data3d=s,t.availableMaterials=c;var l=a.sceneStructure&&JSON.parse(a.sceneStructure).materials;Object.keys(s.meshes).forEach(function(e){c[e]=s.alternativeMaterialsByMeshKey?s.alternativeMaterialsByMeshKey[e]:s.meshes[e].material,s=t.data3d=Yn(s);var n="material_"+e.replace(/\s/g,"_"),a=i[n]||l&&l[e];if(o&&l&&(a=l[e]),a&&(s.meshes[e].material=a,r.emit("material-changed",{mesh:e,material:a})),s.alternativeMaterialsByMeshKey&&s.alternativeMaterialsByMeshKey[e]){var u={};u[n]={type:"string",default:s.meshes[e].material,oneOf:s.alternativeMaterialsByMeshKey[e]},t.extendSchema(u),t.data[n]=s.meshes[e].material}}),t.data3dView.set(s,{loadingQueuePrefix:"interior"}),t.el.data3d=s,t.el.setObject3D("mesh",t.mesh),t._previousFurnitureId!==n&&(t.el.emit("model-loaded",{format:"data3d",model:t.mesh}),t._previousFurnitureId=n)}).catch(function(e){console.warn(e)}))},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null,this.el.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},Qn=function(e,t){return e===t||e!=e&&t!=t},Jn=function(e,t){for(var r=e.length;r--;)if(Qn(e[r][0],t))return r;return-1},$n=Array.prototype.splice;P.prototype.clear=function(){this.__data__=[],this.size=0},P.prototype.delete=function(e){var t=this.__data__,r=Jn(t,e);return!(r<0||(r==t.length-1?t.pop():$n.call(t,r,1),--this.size,0))},P.prototype.get=function(e){var t=this.__data__,r=Jn(t,e);return r<0?void 0:t[r][1]},P.prototype.has=function(e){return Jn(this.__data__,e)>-1},P.prototype.set=function(e,t){var r=this.__data__,i=Jn(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this};var eo=P,to="object"==Yr(Vr)&&Vr&&Vr.Object===Object&&Vr,ro="object"==("undefined"==typeof self?"undefined":Yr(self))&&self&&self.Object===Object&&self,io=to||ro||Function("return this")(),no=io.Symbol,oo=Object.prototype,ao=oo.hasOwnProperty,so=oo.toString,co=no?no.toStringTag:void 0,lo=Object.prototype.toString,uo=no?no.toStringTag:void 0,po=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":uo&&uo in Object(e)?function(e){var t=ao.call(e,co),r=e[co];try{e[co]=void 0;var i=!0}catch(e){}var n=so.call(e);return i&&(t?e[co]=r:delete e[co]),n}(e):function(e){return lo.call(e)}(e)},fo=function(e){var t=void 0===e?"undefined":Yr(e);return null!=e&&("object"==t||"function"==t)},ho=function(e){if(!fo(e))return!1;var t=po(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},mo=io["__core-js_shared__"],go=function(){var e=/[^.]+$/.exec(mo&&mo.keys&&mo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),bo=Function.prototype.toString,vo=function(e){if(null!=e){try{return bo.call(e)}catch(e){}try{return e+""}catch(e){}}return""},yo=/^\[object .+?Constructor\]$/,_o=Function.prototype,wo=Object.prototype,xo=_o.toString,Co=wo.hasOwnProperty,So=RegExp("^"+xo.call(Co).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jo=function(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!fo(e)||!!go&&go in e)&&(ho(e)?So:yo).test(vo(e))}(r)?r:void 0},ko=jo(io,"Map"),Po=jo(Object,"create"),Ao=Object.prototype.hasOwnProperty,Eo=Object.prototype.hasOwnProperty;A.prototype.clear=function(){this.__data__=Po?Po(null):{},this.size=0},A.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},A.prototype.get=function(e){var t=this.__data__;if(Po){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Ao.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return Po?void 0!==t[e]:Eo.call(t,e)},A.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Po&&void 0===t?"__lodash_hash_undefined__":t,this};var To=A,Io=function(e,t){var r=e.__data__;return function(e){var t=void 0===e?"undefined":Yr(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map};E.prototype.clear=function(){this.size=0,this.__data__={hash:new To,map:new(ko||eo),string:new To}},E.prototype.delete=function(e){var t=Io(this,e).delete(e);return this.size-=t?1:0,t},E.prototype.get=function(e){return Io(this,e).get(e)},E.prototype.has=function(e){return Io(this,e).has(e)},E.prototype.set=function(e,t){var r=Io(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this};var Fo=E;T.prototype.clear=function(){this.__data__=new eo,this.size=0},T.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},T.prototype.get=function(e){return this.__data__.get(e)},T.prototype.has=function(e){return this.__data__.has(e)},T.prototype.set=function(e,t){var r=this.__data__;if(r instanceof eo){var i=r.__data__;if(!ko||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Fo(i)}return r.set(e,t),this.size=r.size,this};var Ro=T,Do=function(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r,e););return e},No=function(){try{var e=jo(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Mo=function(e,t,r){"__proto__"==t&&No?No(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Oo=Object.prototype.hasOwnProperty,zo=function(e,t,r){var i=e[t];Oo.call(e,t)&&Qn(i,r)&&(void 0!==r||t in e)||Mo(e,t,r)},Lo=function(e,t,r,i){var n=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=i?i(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),n?Mo(r,s,c):zo(r,s,c)}return r},Vo=function(e){return null!=e&&"object"==(void 0===e?"undefined":Yr(e))},Bo=function(e){return Vo(e)&&"[object Arguments]"==po(e)},Wo=Object.prototype,Ho=Wo.hasOwnProperty,Uo=Wo.propertyIsEnumerable,Zo=Bo(function(){return arguments}())?Bo:function(e){return Vo(e)&&Ho.call(e,"callee")&&!Uo.call(e,"callee")},Go=Array.isArray,qo=r(function(e,t){var r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,n=i&&i.exports===r?io.Buffer:void 0,o=(n?n.isBuffer:void 0)||function(){return!1};e.exports=o}),Ko=/^(?:0|[1-9]\d*)$/,Yo=function(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||Ko.test(e))&&e>-1&&e%1==0&&e<t},Xo=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Qo={};Qo["[object Float32Array]"]=Qo["[object Float64Array]"]=Qo["[object Int8Array]"]=Qo["[object Int16Array]"]=Qo["[object Int32Array]"]=Qo["[object Uint8Array]"]=Qo["[object Uint8ClampedArray]"]=Qo["[object Uint16Array]"]=Qo["[object Uint32Array]"]=!0,Qo["[object Arguments]"]=Qo["[object Array]"]=Qo["[object ArrayBuffer]"]=Qo["[object Boolean]"]=Qo["[object DataView]"]=Qo["[object Date]"]=Qo["[object Error]"]=Qo["[object Function]"]=Qo["[object Map]"]=Qo["[object Number]"]=Qo["[object Object]"]=Qo["[object RegExp]"]=Qo["[object Set]"]=Qo["[object String]"]=Qo["[object WeakMap]"]=!1;var Jo=function(e){return function(t){return e(t)}},$o=r(function(e,t){var r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,n=i&&i.exports===r&&to.process,o=function(){try{return n&&n.binding&&n.binding("util")}catch(e){}}();e.exports=o}),ea=$o&&$o.isTypedArray,ta=ea?Jo(ea):function(e){return Vo(e)&&Xo(e.length)&&!!Qo[po(e)]},ra=Object.prototype.hasOwnProperty,ia=function(e,t){var r=Go(e),i=!r&&Zo(e),n=!r&&!i&&qo(e),o=!r&&!i&&!n&&ta(e),a=r||i||n||o,s=a?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],c=s.length;for(var l in e)!t&&!ra.call(e,l)||a&&("length"==l||n&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Yo(l,c))||s.push(l);return s},na=Object.prototype,oa=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||na)},aa=function(e,t){return function(r){return e(t(r))}},sa=aa(Object.keys,Object),ca=Object.prototype.hasOwnProperty,la=function(e){return null!=e&&Xo(e.length)&&!ho(e)},ua=function(e){return la(e)?ia(e):function(e){if(!oa(e))return sa(e);var t=[];for(var r in Object(e))ca.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)},pa=function(e,t){return e&&Lo(t,ua(t),e)},fa=Object.prototype.hasOwnProperty,da=function(e){return la(e)?ia(e,!0):function(e){if(!fo(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=oa(e),r=[];for(var i in e)("constructor"!=i||!t&&fa.call(e,i))&&r.push(i);return r}(e)},ha=function(e,t){return e&&Lo(t,da(t),e)},ma=r(function(e,t){var r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,n=i&&i.exports===r?io.Buffer:void 0,o=n?n.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,i=o?o(r):new e.constructor(r);return e.copy(i),i}}),ga=function(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t},ba=function(){return[]},va=Object.prototype.propertyIsEnumerable,ya=Object.getOwnPropertySymbols,_a=ya?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,i=null==e?0:e.length,n=0,o=[];++r<i;){var a=e[r];t(a,r,e)&&(o[n++]=a)}return o}(ya(e),function(t){return va.call(e,t)}))}:ba,wa=function(e,t){return Lo(e,_a(e),t)},xa=function(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e},Ca=aa(Object.getPrototypeOf,Object),Sa=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)xa(t,_a(e)),e=Ca(e);return t}:ba,ja=function(e,t){return Lo(e,Sa(e),t)},ka=function(e,t,r){var i=t(e);return Go(e)?i:xa(i,r(e))},Pa=function(e){return ka(e,ua,_a)},Aa=function(e){return ka(e,da,Sa)},Ea=jo(io,"DataView"),Ta=jo(io,"Promise"),Ia=jo(io,"Set"),Fa=jo(io,"WeakMap"),Ra=vo(Ea),Da=vo(ko),Na=vo(Ta),Ma=vo(Ia),Oa=vo(Fa),za=po;(Ea&&"[object DataView]"!=za(new Ea(new ArrayBuffer(1)))||ko&&"[object Map]"!=za(new ko)||Ta&&"[object Promise]"!=za(Ta.resolve())||Ia&&"[object Set]"!=za(new Ia)||Fa&&"[object WeakMap]"!=za(new Fa))&&(za=function(e){var t=po(e),r="[object Object]"==t?e.constructor:void 0,i=r?vo(r):"";if(i)switch(i){case Ra:return"[object DataView]";case Da:return"[object Map]";case Na:return"[object Promise]";case Ma:return"[object Set]";case Oa:return"[object WeakMap]"}return t});var La=za,Va=Object.prototype.hasOwnProperty,Ba=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&Va.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Wa=io.Uint8Array,Ha=function(e){var t=new e.constructor(e.byteLength);return new Wa(t).set(new Wa(e)),t},Ua=function(e,t){return e.set(t[0],t[1]),e},Za=function(e,t,r,i){var n=-1,o=null==e?0:e.length;for(i&&o&&(r=e[++n]);++n<o;)r=t(r,e[n],n,e);return r},Ga=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,i){r[++t]=[i,e]}),r},qa=/\w*$/,Ka=function(e,t){return e.add(t),e},Ya=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},Xa=no?no.prototype:void 0,Qa=Xa?Xa.valueOf:void 0,Ja=function(e,t,r,i){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Ha(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function(e,t){var r=t?Ha(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?Ha(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,i);case"[object Map]":return function(e,t,r){var i=t?r(Ga(e),1):Ga(e);return Za(i,Ua,new e.constructor)}(e,i,r);case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,qa.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return function(e,t,r){var i=t?r(Ya(e),1):Ya(e);return Za(i,Ka,new e.constructor)}(e,i,r);case"[object Symbol]":return function(e){return Qa?Object(Qa.call(e)):{}}(e)}},$a=Object.create,es=function(){function e(){}return function(t){if(!fo(t))return{};if($a)return $a(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),ts=function(e){return"function"!=typeof e.constructor||oa(e)?{}:es(Ca(e))},rs=1,is=2,ns=4,os="[object Arguments]",as="[object Function]",ss="[object GeneratorFunction]",cs="[object Object]",ls={};ls[os]=ls["[object Array]"]=ls["[object ArrayBuffer]"]=ls["[object DataView]"]=ls["[object Boolean]"]=ls["[object Date]"]=ls["[object Float32Array]"]=ls["[object Float64Array]"]=ls["[object Int8Array]"]=ls["[object Int16Array]"]=ls["[object Int32Array]"]=ls["[object Map]"]=ls["[object Number]"]=ls[cs]=ls["[object RegExp]"]=ls["[object Set]"]=ls["[object String]"]=ls["[object Symbol]"]=ls["[object Uint8Array]"]=ls["[object Uint8ClampedArray]"]=ls["[object Uint16Array]"]=ls["[object Uint32Array]"]=!0,ls["[object Error]"]=ls[as]=ls["[object WeakMap]"]=!1;var us=I,ps=function(e){return us(e,4)},fs=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},ds=function(e){return e},hs=Math.max,ms=No?function(e,t){return No(e,"toString",{configurable:!0,enumerable:!1,value:function(e){return function(){return e}}(t),writable:!0})}:ds,gs=Date.now,bs=function(e){var t=0,r=0;return function(){var i=gs(),n=16-(i-r);if(r=i,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ms),vs=function(e,t){return bs(function(e,t,r){return t=hs(void 0===t?e.length-1:t,0),function(){for(var i=arguments,n=-1,o=hs(i.length-t,0),a=Array(o);++n<o;)a[n]=i[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=i[n];return s[t]=r(a),fs(e,this,s)}}(e,t,ds),e+"")},ys=function(e,t,r){if(!fo(r))return!1;var i=void 0===t?"undefined":Yr(t);return!!("number"==i?la(r)&&Yo(t,r.length):"string"==i&&t in r)&&Qn(r[t],e)},_s=function(e){return vs(function(t,r){var i=-1,n=r.length,o=n>1?r[n-1]:void 0,a=n>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(n--,o):void 0,a&&ys(r[0],r[1],a)&&(o=n<3?void 0:o,n=1),t=Object(t);++i<n;){var s=r[i];s&&e(t,s,0,o)}return t})}(function(e,t,r,i){Lo(t,da(t),e,i)}),ws=Object.prototype,xs=ws.hasOwnProperty,Cs=function(e,t,r,i){return void 0===e||Qn(e,ws[r])&&!xs.call(i,r)?t:e},Ss=vs(function(e){return e.push(void 0,Cs),fs(_s,void 0,e)}),js={schema:{autoStart:{type:"boolean",default:!0},loop:{type:"boolean",default:!0},wait:{type:"number",default:2e3},move:{type:"number",default:3e3}},init:function(){this._currentWayPoint=-1,this.el.setAttribute("animation__move",{startEvents:"doNotFire",pauseEvents:"pauseTour",resumeEvents:"resumeTour",property:"position",easing:"easeInOutSine",dur:100}),this.el.setAttribute("animation__turn",{startEvents:"doNotFire",pauseEvents:"pauseTour",resumeEvents:"resumeTour",property:"rotation",easing:"easeInOutSine",dur:100}),this._nextWaypointHandler=this._nextWaypoint.bind(this),this.el.addEventListener("animation__move-complete",this._nextWaypointHandler)},update:function(){this._waypoints=Array.from(this.el.querySelectorAll("[tour-waypoint]")),this.data.autoStart&&this.playTour()},playTour:function(){if(this._waypoints&&this._waypoints.length)if(this._isPlaying)this._isChangingAnimation?(clearTimeout(this._nextAnimationTimeout),this.goTo(this._waypoints[this._currentWayPoint].getAttribute("io3d-uuid"),this._isPlaying)):this.el.dispatchEvent(new CustomEvent("resumeTour")),this._isPaused=!1;else{this._isPlaying=!0,this._isPaused=!1;var e=this._waypoints[++this._currentWayPoint];e?this.goTo(e.getAttribute("io3d-uuid"),!0):this.data.loop&&(this._currentWayPoint=0,this.goTo(this._waypoints[0].getAttribute("io3d-uuid"),!0))}else console.warn("camera tour has no waypoints")},pauseTour:function(){this._isPaused=!0,this.el.dispatchEvent(new CustomEvent("pauseTour"))},stopTour:function(){this.pauseTour(),this._isPlaying=!1,this._isPaused=!1},goTo:function(e,t){this._isPlaying=!!t;var r=this._waypoints.find(function(t){return t.getAttribute("io3d-uuid")===e});r?this.animate(r):console.error("The given waypoint "+e+" does not exist. Available waypoints:",this._waypoints.map(function(e){return e.getAttribute("io3d-uuid")}))},updateViewPoint:function(e){if("object"===(void 0===(e=e||{})?"undefined":Yr(e))){var t=e.position||{},r=e.rotation||{};this._isPlaying=!1;var i={position:Ss({},t,ps(this.el.getAttribute("position"))),rotation:Ss({},r,ps(this.el.getAttribute("rotation")))};this.animate(i)}else console.error("not supported camera view point: "+e)},animate:function(e){var t=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":Yr(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":Yr(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}(e),r=this.el,i=t?e.getAttribute("position"):e.position,n=t?e.getAttribute("rotation"):e.rotation,o=r.getAttribute("position"),a=r.getAttribute("rotation"),s=function(e,t){var r=F(e),i=F(t);return Object.keys(e).forEach(function(e){i[e]-r[e]>180&&(i[e]-=360)}),{start:r,end:i}}(a,n);n=s.end,a=s.start;var c=function(e,t){var r=parseFloat(t.x)-parseFloat(e.x),i=parseFloat(t.y)-parseFloat(e.y),n=parseFloat(t.z)-parseFloat(e.z);return Math.sqrt(Math.pow(r,2)+Math.pow(i,2)+Math.pow(n,2))}(o,i),l=Math.abs(a.y-n.y),u=Math.round((void 0===this.data.move?3e3:this.data.move+1)/6*(c+l/30));if(u>Math.max(5e3,this.data.move)&&(u=Math.max(5e3,this.data.move)),!u)return this._nextWaypoint();r.components.animation__move.pauseAnimation(),r.components.animation__turn.pauseAnimation(),r.components.animation__move.data.dur=u,r.components.animation__move.data.from=o,r.components.animation__move.data.to=i,r.components.animation__move.update(),r.components.animation__turn.data.dur=u,r.components.animation__turn.data.from=a,r.components.animation__turn.data.to=n,r.components.animation__turn.update(),r.components.animation__move.resumeAnimation(),r.components.animation__turn.resumeAnimation(),this._isChangingAnimation=!1},_nextWaypoint:function(){if(this.el.setAttribute("position",AFRAME.utils.coordinates.stringify(this.el.getAttribute("position"))),!this._isPlaying)return this.stopTour();if(this._currentWayPoint===this._waypoints.length-1){if(!this.data.loop)return;this._currentWayPoint=-1}this._isChangingAnimation=!0;var e=this._waypoints[++this._currentWayPoint];this._nextAnimationTimeout=setTimeout(function(){this.goTo(e.getAttribute("io3d-uuid"),this._isPlaying)}.bind(this),void 0===this.data.wait?0:this.data.wait)}},ks={"utf-8":R,"UTF-8":R,"utf-16":D,"UTF-16":D},Ps={utf8:N("utf-8"),utf16:N("utf-16")},As=no?no.isConcatSpreadable:void 0,Es=function(e){return Go(e)||Zo(e)||!!(As&&e&&e[As])},Ts=M,Is=function(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n};O.prototype.add=O.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},O.prototype.has=function(e){return this.__data__.has(e)};var Fs=O,Rs=function(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1},Ds=function(e,t){return e.has(t)},Ns=function(e,t,r,i,n,o){var a=1&r,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=o.get(e);if(l&&o.get(t))return l==t;var u=-1,p=!0,f=2&r?new Fs:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var d=e[u],h=t[u];if(i)var m=a?i(h,d,u,t,e,o):i(d,h,u,e,t,o);if(void 0!==m){if(m)continue;p=!1;break}if(f){if(!Rs(t,function(e,t){if(!Ds(f,t)&&(d===e||n(d,e,r,i,o)))return f.push(t)})){p=!1;break}}else if(d!==h&&!n(d,h,r,i,o)){p=!1;break}}return o.delete(e),o.delete(t),p},Ms=no?no.prototype:void 0,Os=Ms?Ms.valueOf:void 0,zs=Object.prototype.hasOwnProperty,Ls=Object.prototype.hasOwnProperty,Vs=function(e,t,r,i,n,o){var a=Go(e),s=Go(t),c=a?"[object Array]":La(e),l=s?"[object Array]":La(t),u="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),f=c==l;if(f&&qo(e)){if(!qo(t))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new Ro),a||ta(e)?Ns(e,t,r,i,n,o):function(e,t,r,i,n,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Wa(e),new Wa(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Qn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ga;case"[object Set]":var c=1&i;if(s||(s=Ya),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;i|=2,a.set(e,t);var u=Ns(s(e),s(t),i,n,o,a);return a.delete(e),u;case"[object Symbol]":if(Os)return Os.call(e)==Os.call(t)}return!1}(e,t,c,r,i,n,o);if(!(1&r)){var d=u&&Ls.call(e,"__wrapped__"),h=p&&Ls.call(t,"__wrapped__");if(d||h){var m=d?e.value():e,g=h?t.value():t;return o||(o=new Ro),n(m,g,r,i,o)}}return!!f&&(o||(o=new Ro),function(e,t,r,i,n,o){var a=1&r,s=Pa(e),c=s.length;if(c!=Pa(t).length&&!a)return!1;for(var l=c;l--;){var u=s[l];if(!(a?u in t:zs.call(t,u)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var d=a;++l<c;){var h=e[u=s[l]],m=t[u];if(i)var g=a?i(m,h,u,t,e,o):i(h,m,u,e,t,o);if(!(void 0===g?h===m||n(h,m,r,i,o):g)){f=!1;break}d||(d="constructor"==u)}if(f&&!d){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(f=!1)}return o.delete(e),o.delete(t),f}(e,t,r,i,n,o))},Bs=z,Ws=function(e){return e==e&&!fo(e)},Hs=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},Us=function(e){return"symbol"==(void 0===e?"undefined":Yr(e))||Vo(e)&&"[object Symbol]"==po(e)},Zs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gs=/^\w*$/,qs=function(e,t){if(Go(e))return!1;var r=void 0===e?"undefined":Yr(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Us(e))||Gs.test(e)||!Zs.test(e)||null!=t&&e in Object(t)},Ks="Expected a function";L.Cache=Fo;var Ys=L,Xs=/^\./,Qs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Js=/\\(\\)?/g,$s=function(e){var t=Ys(function(e){var t=[];return Xs.test(e)&&t.push(""),e.replace(Qs,function(e,r,i,n){t.push(i?n.replace(Js,"$1"):r||e)}),t},function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(),ec=1/0,tc=no?no.prototype:void 0,rc=tc?tc.toString:void 0,ic=V,nc=function(e,t){return Go(e)?e:qs(e,t)?[e]:$s(function(e){return null==e?"":ic(e)}(e))},oc=function(e){if("string"==typeof e||Us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ac=function(e,t){for(var r=0,i=(t=nc(t,e)).length;null!=e&&r<i;)e=e[oc(t[r++])];return r&&r==i?e:void 0},sc=function(e,t){return null!=e&&t in Object(e)},cc=function(e){return"function"==typeof e?e:null==e?ds:"object"==(void 0===e?"undefined":Yr(e))?Go(e)?function(e,t){return qs(e)&&Ws(t)?Hs(oc(e),t):function(r){var i=function(e,t,r){var i=null==e?void 0:ac(e,t);return void 0===i?r:i}(r,e);return void 0===i&&i===t?function(e,t){return null!=e&&function(e,t,r){for(var i=-1,n=(t=nc(t,e)).length,o=!1;++i<n;){var a=oc(t[i]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++i!=n?o:!!(n=null==e?0:e.length)&&Xo(n)&&Yo(a,n)&&(Go(e)||Zo(e))}(e,t,sc)}(r,e):Bs(t,i,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=ua(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,Ws(n)]}return t}(e);return 1==t.length&&t[0][2]?Hs(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,i){var n=r.length,o=n,a=!i;if(null==e)return!o;for(e=Object(e);n--;){var s=r[n];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<o;){var c=(s=r[n])[0],l=e[c],u=s[1];if(a&&s[2]){if(void 0===l&&!(c in e))return!1}else{var p=new Ro;if(i)var f=i(l,u,c,e,t,p);if(!(void 0===f?Bs(u,l,3,i,p):f))return!1}}return!0}(r,e,t)}}(e):function(e){return qs(e)?function(e){return function(t){return null==t?void 0:t[e]}}(oc(e)):function(e){return function(t){return ac(t,e)}}(e)}(e)},lc=function(e,t,r){for(var i=-1,n=Object(e),o=r(e),a=o.length;a--;){var s=o[++i];if(!1===t(n[s],s,n))break}return e},uc=function(e,t){if(null==e)return e;if(!la(e))return function(e,t){return e&&lc(e,t,ua)}(e,t);for(var r=e.length,i=-1,n=Object(e);++i<r&&!1!==t(n[i],i,n););return e},pc=function(e,t){if(e!==t){var r=void 0!==e,i=null===e,n=e==e,o=Us(e),a=void 0!==t,s=null===t,c=t==t,l=Us(t);if(!s&&!l&&!o&&e>t||o&&a&&c&&!s&&!l||i&&a&&c||!r&&c||!n)return 1;if(!i&&!o&&!l&&e<t||l&&r&&n&&!i&&!o||s&&r&&n||!a&&n||!c)return-1}return 0},fc=vs(function(e,t){if(null==e)return[];var r=t.length;return r>1&&ys(e,t[0],t[1])?t=[]:r>2&&ys(t[0],t[1],t[2])&&(t=[t[0]]),function(e,t,r){var i=-1;t=Is(t.length?t:[ds],Jo(cc));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(function(e,t){var r=-1,i=la(e)?Array(e.length):[];return uc(e,function(e,n,o){i[++r]=t(e,n,o)}),i}(e,function(e,r,n){return{criteria:Is(t,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,r){for(var i=-1,n=e.criteria,o=t.criteria,a=n.length,s=r.length;++i<a;){var c=pc(n[i],o[i]);if(c)return i>=s?c:c*("desc"==r[i]?-1:1)}return e.index-t.index}(e,t,r)})}(e,Ts(t,1),[])});B.prototype={add:function(e,t){var r=this;if(this._pendingPromises[e])return this._pendingPromises[e];if(this._resolvedPromises[e])return this._resolvedPromises[e];var i={key:e,timestamp:Date.now(),promise:t};return this._pendingPromises[e]=i,t.then(function(t){var i=r._pendingPromises[e];delete r._pendingPromises[e],i.data=t,r._resolvedPromises[e]=i},function(){delete r._pendingPromises[e]}),this._collectGarbage(),i},get:function(e){var t=this._pendingPromises[e]||this._resolvedPromises[e];return!!t&&(t.timestamp=Date.now(),t.promise)},purge:function(){for(var e in this._resolvedPromises)delete this._resolvedPromises[e]},_collectGarbage:function(){var e=fc(this._resolvedPromises,function(e){return e.timestamp}),t=e.length-this.maxResolvedCache;if(!(t<=0))for(var r=0;r<t;r++)delete this._resolvedPromises[e[r].key]}};var dc,hc=new B,mc={text:"uniform vec3 u_color;\nuniform float u_metallic;\nuniform float u_roughness;\nuniform vec3 u_light0Pos;\nuniform vec3 u_light0Color;\nuniform vec3 u_light1Pos;\nuniform vec3 u_light1Color;\nuniform mat4 u_modelMatrix;\nuniform sampler2D u_reflectionCube;\nuniform sampler2D u_reflectionCubeBlur;",base64:"data:text/plain;base64,dW5pZm9ybSB2ZWMzIHVfY29sb3I7CnVuaWZvcm0gZmxvYXQgdV9tZXRhbGxpYzsKdW5pZm9ybSBmbG9hdCB1X3JvdWdobmVzczsKdW5pZm9ybSB2ZWMzIHVfbGlnaHQwUG9zOwp1bmlmb3JtIHZlYzMgdV9saWdodDBDb2xvcjsKdW5pZm9ybSB2ZWMzIHVfbGlnaHQxUG9zOwp1bmlmb3JtIHZlYzMgdV9saWdodDFDb2xvcjsKdW5pZm9ybSBtYXQ0IHVfbW9kZWxNYXRyaXg7CnVuaWZvcm0gc2FtcGxlcjJEIHVfcmVmbGVjdGlvbkN1YmU7CnVuaWZvcm0gc2FtcGxlcjJEIHVfcmVmbGVjdGlvbkN1YmVCbHVyOw=="},gc={text:"varying vec3 v_normal;\nvarying vec3 v_position;\nvarying vec3 v_binormal;\nvarying vec3 v_tangent;\n",base64:"data:text/plain;base64,dmFyeWluZyB2ZWMzIHZfbm9ybWFsOwp2YXJ5aW5nIHZlYzMgdl9wb3NpdGlvbjsKdmFyeWluZyB2ZWMzIHZfYmlub3JtYWw7CnZhcnlpbmcgdmVjMyB2X3RhbmdlbnQ7Cg=="},bc="https://cdn.rawgit.com/mrdoob/three.js/r86/examples/js/loaders/GLTFLoader.js",vc=new B,yc={schema:{type:"asset"},init:function(){this.model=null},update:function(){var e=this,t=this.el,r=this.data;r&&(this.remove(),function(e){var t=vc.get(e);return t||(t=fetch("https://gblock.3d.io/api/get-gltf-url/?url="+e).then(function(t){return t.json().catch(function(t){return console.log('ERROR parsing gblock API server response JSON.\nRequested Model: "'+e+'"\nError: "'+JSON.stringify(t)+'"'),Un.reject("gblock API server error. Check console for details.")}).then(function(r){return t.ok?r.gltfUrl:(console.error('ERROR loading gblock model "'+e+'" : '+t.status+' "'+r.message),Un.reject(r.message))})}),vc.add(e,t)),t}(r).then(H).then(function(r){e.model=r.scene||r.scenes[0],e.model.animations=r.animations,t.setObject3D("mesh",e.model),t.emit("model-loaded",{format:"gltf",model:e.model})}).catch(function(e){console.error('ERROR loading gblock model from "'+r+'" : '+e),t.emit("model-error",{message:e})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}},_c={schema:{preset:{type:"string",default:"studio"},intensity:{type:"float",default:1},saturation:{type:"float",default:1}},init:function(){var e=document.querySelector("a-entity[camera]")||document.querySelector("a-camera");e?(this.cam=e.object3D,this.staticLights=document.createElement("a-entity"),this.staticLights.id="static-lights",this.movingWithCamera=document.createElement("a-entity"),this.movingWithCamera.id="moving-lights",this.rotatingWithCamera=document.createElement("a-entity"),this.rotatingWithCamera.id="rotating-lights",this.el.appendChild(this.staticLights),this.el.appendChild(this.movingWithCamera),this.el.appendChild(this.rotatingWithCamera)):console.warn("this scene has no camera, add one to make the lighting work")},update:function(){for(this.camera&&(this.cam=this.camera.object3D);this.movingWithCamera.hasChildNodes();)this.movingWithCamera.removeChild(this.movingWithCamera.lastChild);for(;this.rotatingWithCamera.hasChildNodes();)this.rotatingWithCamera.removeChild(this.rotatingWithCamera.lastChild);for(;this.staticLights.hasChildNodes();)this.staticLights.removeChild(this.staticLights.lastChild);wc[this.data.preset](this.movingWithCamera,this.rotatingWithCamera,this.staticLights,this.data.intensity,this.data.saturation)},remove:function(){this.el.removeChild(this.staticLights),this.el.removeChild(this.movingWithCamera),this.el.removeChild(this.rotatingWithCamera)},tick:function(e){if(this.movingWithCamera){this.movingWithCamera.setAttribute("position",this.cam.position);var t={x:0,y:180*this.cam.rotation.y/Math.PI,z:0};this.rotatingWithCamera.setAttribute("rotation",AFRAME.utils.coordinates.stringify(t))}}},wc={studio:function(e,t,r,i,n){U({id:"light-target",position:{x:0,y:0,z:-2}},e),U({light:{type:"directional",color:"#333",intensity:1,target:"#light-target",castShadow:!0,shadowCameraLeft:-10,shadowCameraRight:10,shadowCameraBottom:-10,shadowCameraTop:10,shadowMapHeight:1024,shadowMapWidth:1024,shadowBias:.001,shadowCameraNear:1,shadowCameraFar:60},position:{x:0,y:10,z:-2},id:"shadow-light"},e),U({light:{type:"hemisphere",color:"hsl(35, "+Math.round(15*n)+"%, 60%)",groundColor:"hsl(220, "+Math.round(10*n)+"%, 65%)",intensity:.4*i},position:{x:-2,y:0,z:0},rotation:{x:0,y:45,z:0},id:"hemisphere-color"},t),U({light:{type:"hemisphere",color:"hsl(0, 0%, 0%)",groundColor:"hsl(0, 0%, 80%)",intensity:.3*i},position:{x:0,y:1,z:0},id:"hemisphere-white"},t),U({light:{type:"directional",color:"hsl(200, "+Math.round(10*n)+"%, 60%)",intensity:.25*i},position:{x:2,y:2,z:-1},id:"specular-blue"},t),U({light:{type:"directional",color:"hsl(35, "+Math.round(10*n)+"%, 60%)",intensity:.35*i},position:{x:-2,y:1,z:2},id:"specular-yellow"},t),U({light:{type:"ambient",color:"#FFF",intensity:.45},id:"ambient-light"},r)}},xc=function(e){return us(e,5)},Cc={schema:{sceneId:{type:"string"},rotation:{type:"number",default:0},width:{type:"number",default:150},position:{type:"string",default:"left",oneOf:["left","right"]}},init:function(){function e(e,t){var r=-t.ry*Math.PI/180,i=e.x*Math.cos(r)-e.z*Math.sin(r),n=e.z*Math.cos(r)+e.x*Math.sin(r),o={};return o.x=t.x+i,void 0!==e.y&&(o.y=t.y+e.y),o.z=t.z+n,void 0!==e.ry&&(o.ry=t.ry+e.ry),o}function t(e){var r=[];return e.forEach(function(e){"polyfloor"===e.type&&r.push(e),e.children&&e.children.length&&(r=r.concat(t(e.children)))}),r}var r=this,i=this,n=this.data;io3d.scene.getStructure(n.sceneId).then(function(o){Array.isArray(o)||(o=[o]);var a=t(o);if(!a||!a.length)return Promise.reject("Minimap generation failed, scene has no spaces");a=a.map(function(t){var r=e(t,o[0]);return Object.keys(r).forEach(function(e){t[e]=r[e]}),t}),function(){var e=document.querySelectorAll("[camera]");i.camera=e.length>1?e[1]:e[0];var t=document.createElement("div");t.id="minimap-container",t.setAttribute("style","position:absolute; width: "+n.width+"px; z-index: 1000; top:10px; "+n.position+":10px"),t.innerHTML='<svg width="100%"></svg>';var r=document.querySelector("body");r.insertBefore(t,r.firstChild),i.svgEl=t.querySelector("svg"),i.svgEl.setAttribute("style","transform: rotate("+n.rotation+"deg);")}(),function(t,r){i.min=[1/0,1/0],i.max=[-1/0,-1/0];var n="";t.forEach(function(t){var r="";t.polygon.forEach(function(n){var o=e({x:n[0],z:n[1]},t),a=Math.round(20*o.x),s=Math.round(20*o.z);a<i.min[0]?i.min[0]=a:a>i.max[0]&&(i.max[0]=a),s<i.min[1]?i.min[1]=s:s>i.max[1]&&(i.max[1]=s),r+=a+","+s+" "}),n+='<polygon points="'+r+'" style="fill:rgba(248, 248, 250, 0.8); stroke:rgba(48, 48, 50, 0.8); stroke-width:0.5;" space-id="'+t.id+'"/>'}),r.innerHTML=n,r.setAttribute("viewBox",i.min[0]+" "+i.min[1]+" "+(i.max[0]-i.min[0])+" "+(i.max[1]-i.min[1])),i.mapActivated=!0,i.el.emit("minimap-created")}(a,r.svgEl)}).catch(console.warn)},remove:function(){var e=document.querySelector("#minimap-container");e.parentNode.removeChild(e)},tick:function(e,t){if(this.mapActivated&&e%50<t+5){var r=this.svgEl.querySelector("#camera-dot"),i=this.camera.getAttribute("position"),n=this.camera.getAttribute("rotation"),o=xc(i);20*o.x<this.min[0]?o.x=this.min[0]/20:20*o.x>this.max[0]&&(o.x=this.max[0]/20),20*o.z<this.min[1]?o.z=this.min[1]/20:20*o.z>this.max[1]&&(o.z=this.max[1]/20),r?r.setAttribute("transform","translate("+20*o.x+","+20*o.z+") rotate("+(-n.y-90)+")"):(console.log("create dot"),this.svgEl.innerHTML+='<g id="camera-dot" transform="translate(30,30) rotate(80)">\n\t<circle cx="0" cy="0"\tr="5" fill="CadetBlue"/>\n\t<polygon points="0,0 50,-40 50,40" fill="url(#Gradient)" />\n</g>\n<defs>\n  <linearGradient id="Gradient" x1="0" x2="1" y1="0" y2="0">\n     <stop offset="0%" stop-color="CadetBlue"/>\n     <stop offset="100%" stop-color="CadetBlue" stop-opacity="0"/>\n  </linearGradient>\n</defs>')}}},Sc={params:{type:{type:"string",possibleValues:["box","camera-bookmark","closet","column","curtain","door","floor","floorplan","group","interior","kitchen","level","object","plan","polybox","polyfloor","railing","stairs","tag","wall","window"],optional:!1,skipInAframe:!0},x:{type:"number",defaultValue:0,optional:!1,skipInAframe:!0},y:{type:"number",defaultValue:0,optional:!1,skipInAframe:!0},z:{type:"number",defaultValue:0,optional:!1,skipInAframe:!0},ry:{type:"number",defaultValue:0,optional:!1,skipInAframe:!0,description:"rotation around y axis"},children:{type:"array",defaultValue:[],optional:!0,skipInAframe:!0},id:{type:"string",optional:!1,skipInAframe:!0,description:"unique identifier: UUID v4"},materials:{type:"object",optional:!0}}},jc={description:"simple box object",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},l:{type:"number",defaultValue:1,optional:!1,min:.01,description:"length"},w:{type:"number",defaultValue:1,optional:!1,min:.01,description:"width"},h:{type:"number",defaultValue:1,optional:!1,min:.01,description:"height"}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-box"}},kc={description:"preset camera positions for animations and navigation",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},rx:{type:"number",defaultValue:0,skipInAframe:!0,description:"pitch"},distance:{type:"number",skipInAframe:!0},fov:{type:"number",defaultValue:71,skipInAframe:!0},name:{type:"string",defaultValue:"Camera Bookmark"}},parentTypes:["plan"],aframeComponent:{name:"tour-waypoint"}},Pc={description:"parametric closet with segmentation targeting 0.6m",params:{v:{type:"number",defaultValue:1,optional:!0,description:"version"},l:{type:"number",defaultValue:1.8,optional:!1,min:.01,description:"length"},w:{type:"number",defaultValue:.6,optional:!1,min:.01,description:"width"},h:{type:"number",defaultValue:2.4,optional:!1,min:.01,description:"height"},baseboard:{type:"number",defaultValue:.1,optional:!0,min:.01,description:"height of baseboard"},doorWidth:{type:"number",defaultValue:.02,optional:!0,min:.01,description:"thickness of closet door"},handleLength:{type:"number",defaultValue:.02,optional:!0,min:.01,description:"length of closet door handle"},handleWidth:{type:"number",defaultValue:.02,optional:!0,min:.01,description:"thickness of closet door handle"},handleHeight:{type:"number",defaultValue:.3,optional:!0,min:.01,description:"height of closet door handle"}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-closet"}},Ac={description:"simple structural column object, round or square",params:{v:{type:"number",defaultValue:1,optional:!0,description:"version"},l:{type:"number",defaultValue:.2,optional:!1,min:.01,description:"length for square / diameter for circle"},h:{type:"number",defaultValue:2.4,optional:!1,min:.01,description:"height"},shape:{type:"string",defaultValue:"square",optional:!1,min:.01,possibleValues:["square","circle"],description:"column contour"}},childrenTypes:[],parentTypes:["level","group"],aframeComponent:{name:"io3d-column"}},Ec={description:"curtain with random folds",params:{v:{type:"number",defaultValue:1,optional:!0,description:"version"},l:{type:"number",defaultValue:1.8,optional:!1,min:.01,description:"length"},w:{type:"number",defaultValue:.2,optional:!1,min:.01,description:"thickness"},h:{type:"number",defaultValue:2.4,optional:!1,min:.01,description:"height"},folds:{type:"number",defaultValue:14,optional:!0,min:.01,description:"number of folds"}},childrenTypes:[],parentTypes:["level"]},Tc={description:"door within a wall",params:{v:{type:"number",defaultValue:3,optional:!1,description:"version"},l:{type:"number",defaultValue:.9,optional:!1,min:.01,description:"length"},w:{type:"number",defaultValue:.05,optional:!1,min:.01,description:"width"},h:{type:"number",defaultValue:2,optional:!1,min:.01,description:"height"},frameLength:{type:"number",defaultValue:.05,optional:!0,min:.01,description:"thickness of frame"},frameOffset:{type:"number",defaultValue:0,optional:!0,description:"frame thicker than wall"},leafWidth:{type:"number",defaultValue:.03,optional:!0,description:"thickness of door leaf"},leafOffset:{type:"number",defaultValue:.005,optional:!0,description:"z offset of door leaf"},doorType:{type:"string",defaultValue:"singleSwing",optional:!1,possibleValues:["singleSwing","doubleSwing","swingFix","swingDoubleFix","doubleSwingDoubleFix","slidingDoor","opening"],description:"defines opening type"},hinge:{type:"string",defaultValue:"right",optional:!1,possibleValues:["right","left"],description:"door leaf opening direction"},side:{type:"string",defaultValue:"back",optional:!1,possibleValues:["front","back"],description:"door leaf opening to the front or back of the wall"},doorAngle:{type:"number",defaultValue:92,optional:!0,description:"door leaf opening anlge"},fixLeafRatio:{type:"number",defaultValue:.3,optional:!0},threshold:{type:"boolean",defaultValue:!0},thresholdHeight:{type:"number",defaultValue:.01,optional:!0}},childrenTypes:[],parentTypes:["wall"],aframeComponent:{name:"io3d-door"}},Ic={description:"rectangular floor with optional ceiling",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},w:{type:"number",defaultValue:4,optional:!1,min:.01,description:"width"},h:{type:"number",defaultValue:.2,optional:!1,min:.01,description:"height"},l:{type:"number",defaultValue:4,optional:!1,min:.01,description:"length"},hasCeiling:{type:"boolean",defaultValue:!0,optional:!1,description:"toggle ceiling"},hCeiling:{type:"number",defaultValue:2.4,optional:!1,description:"ceiling height"}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-floor"}},Fc={description:"reference to a floor plan image",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},w:{type:"number",optional:!1,min:.01},l:{type:"number",optional:!1,min:.01},file:{type:"string",optional:!1}},childrenTypes:[],parentTypes:["level"]},Rc={description:"group node, for relative positioning",params:{src:{type:"string",optional:!0,skipInAframe:!0}},childrenTypes:["box","column","group","interior","object","polybox","wall"],parentTypes:["level","group"]},Dc={params:{src:{type:"string",optional:!1,skipInAframe:!0,description:"furniture id prefixed with '!', check https://furniture.3d.io"}},childrenTypes:["interior","object","tag"],parentTypes:["level","group","interior"],aframeComponent:{name:"io3d-furniture"}},Nc={description:"parametric kitchen with vast configuration options",params:{v:{type:"number",defaultValue:2,optional:!0,description:"version"},w:{type:"number",defaultValue:.6,optional:!1,min:.01},h:{type:"number",defaultValue:2.4,optional:!1,min:.01},l:{type:"number",defaultValue:4.2,optional:!1,min:.01},elementLength:{type:"number",defaultValue:.6,optional:!1,min:.01},baseBoard:{type:"number",defaultValue:.1,optional:!0,min:.01},counterHeight:{type:"number",defaultValue:.9,optional:!0,min:.01},counterThickness:{type:"number",defaultValue:.03,optional:!0,min:.01},barCounter:{type:"boolean",defaultValue:!1,optional:!0},doorWidth:{type:"number",defaultValue:.02,optional:!0,min:.01},highCabinetLeft:{type:"int",defaultValue:2,optional:!0},highCabinetRight:{type:"int",defaultValue:0,optional:!0},wallCabinet:{type:"boolean",defaultValue:!0,optional:!0},wallCabinetHeight:{type:"number",defaultValue:1.5,optional:!0,min:.01},wallCabinetWidth:{type:"number",defaultValue:.45,optional:!0,min:.01},cabinetType:{type:"string",defaultValue:"flat",optional:!0,possibleValues:["flat","style1","style2"]},sinkType:{type:"string",defaultValue:"single",optional:!0,possibleValues:["single","double","none"]},sinkPos:{type:"int",defaultValue:4,optional:!0},extractorType:{type:"string",defaultValue:"integrated",optional:!0,possibleValues:["box","pyramid","integrated","none"]},ovenType:{type:"string",defaultValue:"single",optional:!0,possibleValues:["single","double","none"]},ovenPos:{type:"int",defaultValue:6,optional:!0},cooktopType:{type:"string",defaultValue:"electro60",optional:!0,possibleValues:["electro60","electro90","gas60","gas90","none"]},cooktopPos:{type:"int",defaultValue:6,optional:!0},microwave:{type:"boolean",defaultValue:!1,optional:!0},microwavePos:{type:"int",defaultValue:1,optional:!0},fridge:{type:"boolean",defaultValue:!1,optional:!0},fridgePos:{type:"int",defaultValue:1,optional:!0}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-kitchen"}},Mc={description:"node equivalent to a building storey",params:{},childrenTypes:["box","closet","column","curtain","floor","floorplan","group","interior","kitchen","object","polybox","polyfloor","railing","stairs","tag","wall"],parentTypes:["plan"]},Oc={description:"referenced 3d object in data3d.buffer format, for conversion drop a .obj into the editor spaces.archilogic.com/3d",params:{object:{type:"string",optional:!1,skipInAframe:!0,description:"reference to data3d.buffer file"},sourceScale:{type:"number",optional:!0,skipInAframe:!0,description:"relative scale of source file to 1 meter"},flipYZ:{type:"boolean",optional:!0,skipInAframe:!0,description:"flip Y and Z Axis"}},childrenTypes:["interior"],parentTypes:["level"],aframeComponent:{name:"io3d-data3d"}},zc={description:"highest node in hierarchy, contains levels",params:{modelDisplayName:{type:"string",optional:!0,skipInAframe:!0,description:"name of the scene"},v:{type:"number",defaultValue:1,optional:!0,skipInAframe:!0,description:"version"}},childrenTypes:["level","camera-bookmark"],parentTypes:[]},Lc={description:"polygonal extrusion object",params:{v:{type:"number",defaultValue:1,optional:!0,description:"version"},h:{type:"number",defaultValue:1,optional:!1,min:.01},polygon:{type:"array",aframeType:"string",optional:!1}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-polybox"}},Vc={description:"polygonal floor with optional ceiling",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},h:{type:"number",defaultValue:.2,optional:!1,min:.01,description:"height"},polygon:{type:"array",defaultValue:[[1.5,1.5],[1.5,-1.5],[-1.5,-1.5],[-1.5,1.5]],aframeDefault:"[[1.5,1.5], [1.5,-1.5], [-1.5,-1.5], [-1.5,1.5]]",optional:!1,description:"outer polygon",parse:function(e){return/^\[.+\]/.test(e)?JSON.parse(e):(console.warn("invalid input for polyfloor polygon",e),[[1.5,1.5],[1.5,-1.5],[-1.5,-1.5],[-1.5,1.5]])}},polygonHoles:{type:"array",optional:!0,description:"polygon holes"},hasCeiling:{type:"boolean",defaultValue:!0,optional:!1,description:"toggle ceiling"},hCeiling:{type:"number",defaultValue:2.4,optional:!1,description:"ceiling height"},usage:{type:"string",optional:!0}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-polyfloor"}},Bc={description:"segmented or solid railing",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},w:{type:"number",defaultValue:.05,optional:!1,min:.01,description:"width"},h:{type:"number",defaultValue:1,optional:!1,min:.01,description:"height"},l:{type:"number",defaultValue:1,optional:!1,min:.01,description:"length"},pailing:{type:"number",defaultValue:.01,optional:!1,description:"strength of the posts"},railCount:{type:"int",defaultValue:2,optional:!0,description:"horizontal rail count"},segmentation:{type:"string",defaultValue:"distance",possibleValues:["distance","number","none"],optional:!1,description:"vertical segmentation type"},segments:{type:"int",defaultValue:5,optional:!0,description:"number of vertical segments, for segmentation = 'number'"},segmentDistance:{type:"number",defaultValue:.14,optional:!0,description:"distance between vertical segments, for segmentation = 'distance'"}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-railing"}},Wc={description:"all kinds of stairs types",params:{v:{type:"number",defaultValue:1,optional:!0,description:"version"},w:{type:"number",defaultValue:1.2,optional:!1,min:.01},h:{type:"number",defaultValue:2.4,optional:!1,min:.01},l:{type:"number",defaultValue:4,optional:!1,min:.01},stepWidth:{type:"number",defaultValue:1.2,optional:!1,min:.01},stairType:{type:"string",defaultValue:"straight",optional:!1,possibleValues:["straight","straightLanding","lShaped","halfLanding","2QuarterLanding","winder","doubleWinder","spiral"]},treadHeight:{type:"number",defaultValue:.02,optional:!1},stepThickness:{type:"number",defaultValue:.17,optional:!1},railing:{type:"string",defaultValue:"right",optional:!1,possibleValues:["none","left","right","both"]},railingType:{type:"string",defaultValue:"verticalBars",optional:!1,possibleValues:["verticalBars"]}},childrenTypes:[],parentTypes:["level"],aframeComponent:{name:"io3d-stairs"}},Hc={description:"all kinds of stairs types",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},title:{type:"string",optional:!1},notes:{type:"string",optional:!0}},childrenTypes:[],parentTypes:["level","interior"]},Uc={description:"structural wall, can contains doors and windows",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},w:{type:"number",defaultValue:.15,optional:!1,min:.01,description:"width"},h:{type:"number",defaultValue:2.4,optional:!1,min:.01,description:"height"},l:{type:"number",defaultValue:1,optional:!1,min:.01,description:"length"},controlLine:{type:"string",defaultValue:"back",optional:!0,possibleValues:["back","center","front"],description:"relative position of the control line to the wall"},baseHeight:{type:"number",defaultValue:0,optional:!0,description:"height of the baseboard"},frontHasBase:{type:"boolean",defaultValue:!1,optional:!0,description:"show baseboard on the front"},backHasBase:{type:"boolean",defaultValue:!1,optional:!0,description:"show baseboard on the back"}},childrenTypes:["window","door"],parentTypes:["level","group"],aframeComponent:{name:"io3d-wall"}},Zc={description:"window with optional segmentation",params:{v:{type:"number",defaultValue:0,optional:!0,description:"version"},y:{defaultValue:.8},h:{type:"number",defaultValue:1.5,optional:!1,min:.01,description:"height"},l:{type:"number",defaultValue:1.6,optional:!1,min:.01,description:"length"},side:{type:"string",defaultValue:"back",optional:!0,possibleValues:["back","center","front"],description:"relative position of the window inside the wall opening"},rowRatios:{type:"array",defaultValue:[1],aframeDefault:"[1]",optional:!0,description:"relative height of horizontal segmentation",parse:function(e){return/^\[.+\]/.test(e)?JSON.parse(e):(console.warn("invalid input for window rowRatios"),[1])}},columnRatios:{type:"array",defaultValue:[[1]],aframeDefault:"[[1]]",optional:!0,description:"relative width of vertical segmentation per row",parse:function(e){return/^\[\s*\[.+\]\s*\]/.test(e)?JSON.parse(e):(console.warn("invalid input for window columnRatios"),[[1]])}},frameLength:{type:"number",defaultValue:.04,optional:!0,min:.01,description:"thickness of the frame"},frameWidth:{type:"number",defaultValue:.06,optional:!0,min:.01,description:"width of the frame"},hideGlass:{type:"boolean",defaultValue:!1,optional:!0,description:"Hides glass mesh"}},childrenTypes:[],parentTypes:["wall"],aframeComponent:{name:"io3d-window"}},Gc={"basic-floor":{meta:{displayName:"Basic floor",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorDiffuse:[.278,.278,.278],colorSpecular:[.4,.4,.4],specularCoef:40,mapNormal:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.hi-res.gz.dds",mapSpecular:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.hi-res.gz.dds",mapNormalSource:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.source.png",mapNormalPreview:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.lo-res.jpg",mapSpecularSource:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.source.png",mapSpecularPreview:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.lo-res.jpg",receiveRealTimeShadows:!0}},"basic-balcony":{meta:{displayName:"Basic balcony",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.5,.5,.5],colorSpecular:[.125,.125,.125],specularCoef:10,receiveRealTimeShadows:!0}},"basic-wall":{meta:{displayName:"Basic wall",category:"wall",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.839,.839,.839],colorSpecular:[.098,.098,.098],specularCoef:2}},"basic-ceiling":{meta:{displayName:"Basic ceiling",category:"ceiling",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.878,.878,.878],colorSpecular:[.125,.125,.125],specularCoef:10}},wood_parquet_oak:{meta:{displayName:"Parquet Oak",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.89,.82,.69],colorSpecular:[.667,.667,.667],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},wood_parquet_4:{meta:{displayName:"Parquet Stained Oak",category:"floor",showInMenu:!1},attributes:{size:[3,3],colorSpecular:[.45,.45,.45],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},wood_parquet_oak_stained:{meta:{displayName:"Parquet Stained Oak",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.906,.91,.89],colorSpecular:[.667,.667,.667],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},wood_parquet_oak_dark:{meta:{displayName:"Parquet Oak Dark",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.463,.412,.337],colorSpecular:[.667,.667,.667],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},wood_parquet_oak_black:{meta:{displayName:"Parquet Oak Black",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.204,.176,.137],colorSpecular:[.667,.667,.667],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},floor_oak_parquet:{meta:{displayName:"Parquet Herringbone",category:"floor",showInMenu:!1},attributes:{size:[3.3,3.5],specularCoef:40,mapDiffuse:"archilogic/tex/b63633f00674bd2317c40c90b7ec30b9.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/b63633f00674bd2317c40c90b7ec30b9.lo-res.jpg",mapDiffuseSource:"archilogic/tex/b63633f00674bd2317c40c90b7ec30b9.source.jpg"}},parquet_heringbone_oak:{meta:{displayName:"Parquet Herringbone Oak",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorSpecular:[.188,.188,.188],specularCoef:30,mapDiffuse:"archilogic/tex/87e4c3ef437932b07adfc132b2b58d00.hi-res.gz.dds",mapNormal:"archilogic/tex/9e3128f1785cc3355b178702816024b1.hi-res.gz.dds",mapSpecular:"archilogic/tex/82b49d5fedede1707f8015b2987bd0b8.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/87e4c3ef437932b07adfc132b2b58d00.lo-res.jpg",mapDiffuseSource:"archilogic/tex/87e4c3ef437932b07adfc132b2b58d00.source.jpg",mapSpecularPreview:"archilogic/tex/82b49d5fedede1707f8015b2987bd0b8.lo-res.jpg",mapSpecularSource:"archilogic/tex/82b49d5fedede1707f8015b2987bd0b8.source.jpg",mapNormalPreview:"archilogic/tex/9e3128f1785cc3355b178702816024b1.lo-res.jpg",mapNormalSource:"archilogic/tex/9e3128f1785cc3355b178702816024b1.source.jpg"}},parquet_tiles_01:{meta:{displayName:"Parquet Tiles",category:"floor",showInMenu:!0},attributes:{size:[1.5,1.5],colorSpecular:[.376,.376,.376],specularCoef:30,mapDiffuse:"archilogic/tex/3727a4b6bae77be55d2ce2b2de033a5b.hi-res.gz.dds",mapNormal:"archilogic/tex/dc9143fbf3e7df6c5ff67d9b12bdc2e7.hi-res.gz.dds",mapSpecular:"archilogic/tex/e3fc1d6cdf6bfd30f805c25b72fcea65.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3727a4b6bae77be55d2ce2b2de033a5b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3727a4b6bae77be55d2ce2b2de033a5b.source.jpg",mapSpecularPreview:"archilogic/tex/e3fc1d6cdf6bfd30f805c25b72fcea65.lo-res.jpg",mapSpecularSource:"archilogic/tex/e3fc1d6cdf6bfd30f805c25b72fcea65.source.jpg",mapNormalPreview:"archilogic/tex/dc9143fbf3e7df6c5ff67d9b12bdc2e7.lo-res.jpg",mapNormalSource:"archilogic/tex/dc9143fbf3e7df6c5ff67d9b12bdc2e7.source.jpg"}},wood_parquet:{meta:{displayName:"Parquet 2",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorSpecular:[.376,.376,.376],specularCoef:40,mapDiffuse:"archilogic/tex/23fecde666551205efd5469b10dbcc57.hi-res.gz.dds",mapNormal:"archilogic/tex/7339da972d8f15d586f849ff7b7ca455.hi-res.gz.dds",mapSpecular:"archilogic/tex/076bf25a31aac947867fc15afdfa4a6c.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/23fecde666551205efd5469b10dbcc57.lo-res.jpg",mapDiffuseSource:"archilogic/tex/23fecde666551205efd5469b10dbcc57.source.png",mapSpecularPreview:"archilogic/tex/076bf25a31aac947867fc15afdfa4a6c.lo-res.jpg",mapSpecularSource:"archilogic/tex/076bf25a31aac947867fc15afdfa4a6c.source.png",mapNormalPreview:"archilogic/tex/7339da972d8f15d586f849ff7b7ca455.lo-res.jpg",mapNormalSource:"archilogic/tex/7339da972d8f15d586f849ff7b7ca455.source.png"}},wood_parquet_3:{meta:{displayName:"Parquet 3",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.667,.667,.667],mapDiffuse:"archilogic/tex/47204e093a6ac04f6ac3467fb78efc46.hi-res.gz.dds",mapNormal:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.hi-res.gz.dds",mapSpecular:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/47204e093a6ac04f6ac3467fb78efc46.lo-res.jpg",mapDiffuseSource:"archilogic/tex/47204e093a6ac04f6ac3467fb78efc46.source.png",mapSpecularPreview:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.lo-res.jpg",mapSpecularSource:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.source.png",mapNormalPreview:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.lo-res.jpg",mapNormalSource:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.source.png"}},parquet_dark_01:{meta:{displayName:"Parquet Dark",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.4,.4,.4],specularCoef:40,mapDiffuse:"archilogic/tex/c5a58ec7d86d3641cf77c661c0fdf500.hi-res.gz.dds",mapNormal:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.hi-res.gz.dds",mapSpecular:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c5a58ec7d86d3641cf77c661c0fdf500.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c5a58ec7d86d3641cf77c661c0fdf500.source.png",mapSpecularPreview:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.lo-res.jpg",mapSpecularSource:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.source.png",mapNormalPreview:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.lo-res.jpg",mapNormalSource:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.source.png"}},fitted_carpet_light_grey:{meta:{displayName:"Fitted Carpet Light Grey",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.6,.6,.6],specularCoef:40,mapDiffuse:"archilogic/tex/acdcd29e06d541f25ab8e60d3d3f9a85.hi-res.gz.dds",mapNormal:"archilogic/tex/7d425fc857c256bfa8a06ac48208078f.hi-res.gz.dds",mapSpecular:"archilogic/tex/2d373be23d2925ecab0d809e14734c5a.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/acdcd29e06d541f25ab8e60d3d3f9a85.lo-res.jpg",mapDiffuseSource:"archilogic/tex/acdcd29e06d541f25ab8e60d3d3f9a85.source.jpg",mapSpecularPreview:"archilogic/tex/2d373be23d2925ecab0d809e14734c5a.lo-res.jpg",mapSpecularSource:"archilogic/tex/2d373be23d2925ecab0d809e14734c5a.source.jpg",mapNormalPreview:"archilogic/tex/7d425fc857c256bfa8a06ac48208078f.lo-res.jpg",mapNormalSource:"archilogic/tex/7d425fc857c256bfa8a06ac48208078f.source.jpg"}},floor_concrete_001:{meta:{displayName:"Floor Concrete 001",category:"floor",showInMenu:!1},attributes:{size:[4,4],colorSpecular:[.063,.063,.063],specularCoef:30,mapDiffuse:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.source.jpg"}},floor_concrete_001_ceiling:{meta:{displayName:"Floor Concrete 001",category:"ceiling",showInMenu:!1},attributes:{size:[4,4],colorSpecular:[.063,.063,.063],specularCoef:30,mapDiffuse:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.source.jpg"}},concrete_fluid:{meta:{displayName:"Concrete Natural",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorDiffuse:[.867,.867,.867],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/7af78308b190531d128c71e3482e21ea.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/7af78308b190531d128c71e3482e21ea.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7af78308b190531d128c71e3482e21ea.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_beige:{meta:{displayName:"Concrete Beige",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.lo-res.jpg",mapDiffuseSource:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_beige_ceiling:{meta:{displayName:"Concrete Beige",category:"ceiling",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.lo-res.jpg",mapDiffuseSource:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_dark:{meta:{displayName:"Concrete Dark",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_dark_ceiling:{meta:{displayName:"Concrete Dark",category:"ceiling",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_black:{meta:{displayName:"Concrete Black",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/7304a447edb67785758a328b5e9770c8.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/7304a447edb67785758a328b5e9770c8.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7304a447edb67785758a328b5e9770c8.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_black_ceiling:{meta:{displayName:"Concrete Black",category:"ceiling",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/7304a447edb67785758a328b5e9770c8.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/7304a447edb67785758a328b5e9770c8.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7304a447edb67785758a328b5e9770c8.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},default_plaster_001:{meta:{displayName:"Plaster Rough",category:"wall",showInMenu:!0},attributes:{size:[.5,.5],specularCoef:20,mapDiffuse:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},default_plaster_001_ceiling:{meta:{displayName:"Plaster Rough",category:"ceiling",showInMenu:!0},attributes:{size:[.5,.5],specularCoef:20,mapDiffuse:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},plaster_smooth:{meta:{displayName:"Plaster Smooth",category:"wall",showInMenu:!0},attributes:{size:[.3,.3],specularCoef:20,mapDiffuse:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.lo-res.jpg",mapDiffuseSource:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},plaster_smooth_ceiling:{meta:{displayName:"Plaster Smooth",category:"ceiling",showInMenu:!0},attributes:{size:[.3,.3],specularCoef:20,mapDiffuse:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.lo-res.jpg",mapDiffuseSource:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},"tiles-white-large":{meta:{displayName:"Tiles Square White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.976,.976,.976],colorSpecular:[.251,.251,.251],specularCoef:30,mapDiffuse:"archilogic/tex/0b4ecca17b840beb219e32bceb21ffc3.hi-res.gz.dds",mapNormal:"archilogic/tex/627ac2ca3cab7e2790b36c97cd58e243.hi-res.gz.dds",mapSpecular:"archilogic/tex/bd83b5c8611c3bbe71d61f9b2c57b45f.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/0b4ecca17b840beb219e32bceb21ffc3.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0b4ecca17b840beb219e32bceb21ffc3.source.jpg",mapSpecularPreview:"archilogic/tex/bd83b5c8611c3bbe71d61f9b2c57b45f.lo-res.jpg",mapSpecularSource:"archilogic/tex/bd83b5c8611c3bbe71d61f9b2c57b45f.source.jpg",mapNormalPreview:"archilogic/tex/627ac2ca3cab7e2790b36c97cd58e243.lo-res.jpg",mapNormalSource:"archilogic/tex/627ac2ca3cab7e2790b36c97cd58e243.source.jpg"}},"tiles-dark-large":{meta:{displayName:"Tiles Square Anthrazit",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.4,.4,.4],specularCoef:50,mapDiffuse:"archilogic/tex/8aa2417d8bc9c6bb1d80db87bc409c9f.hi-res.gz.dds",mapNormal:"archilogic/tex/dcc25defadefce42ac0dde87d6060150.hi-res.gz.dds",mapSpecular:"archilogic/tex/14398cecb6ce505232a7c7ed5644b07a.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/8aa2417d8bc9c6bb1d80db87bc409c9f.lo-res.jpg",mapDiffuseSource:"archilogic/tex/8aa2417d8bc9c6bb1d80db87bc409c9f.source.jpg",mapSpecularPreview:"archilogic/tex/14398cecb6ce505232a7c7ed5644b07a.lo-res.jpg",mapSpecularSource:"archilogic/tex/14398cecb6ce505232a7c7ed5644b07a.source.jpg",mapNormalPreview:"archilogic/tex/dcc25defadefce42ac0dde87d6060150.lo-res.jpg",mapNormalSource:"archilogic/tex/dcc25defadefce42ac0dde87d6060150.source.jpg"}},tiles_large_rect_white:{meta:{displayName:"Tiles Rectangle White",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.025,.025,.025],specularCoef:50,mapDiffuse:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.hi-res.gz.dds",mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.source.jpg",mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},tiles_large_rect_white_floor:{meta:{displayName:"Tiles Rectangle White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.025,.025,.025],specularCoef:50,mapDiffuse:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.hi-res.gz.dds",mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.source.jpg",mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},tiles_large_rect_grey:{meta:{displayName:"Tiles Rectangle Grey",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.03,.03,.03],specularCoef:50,mapDiffuse:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.hi-res.gz.dds",mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.source.jpg",mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},tiles_large_rect_grey_floor:{meta:{displayName:"Tiles Rectangle Grey",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.03,.03,.03],specularCoef:50,mapDiffuse:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.hi-res.gz.dds",mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.source.jpg",mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},tiles_large_shifted_sand:{meta:{displayName:"Tiles Shifted Sand",category:"wall",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.25,.25,.25],specularCoef:50,mapDiffuse:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.hi-res.gz.dds",mapNormal:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.hi-res.gz.dds",mapSpecular:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.lo-res.jpg",mapDiffuseSource:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.source.jpg",mapSpecularPreview:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.lo-res.jpg",mapSpecularSource:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.source.jpg",mapNormalPreview:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.lo-res.jpg",mapNormalSource:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.source.jpg"}},tiles_large_shifted_sand_floor:{meta:{displayName:"Tiles Shifted Sand",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.25,.25,.25],specularCoef:50,mapDiffuse:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.hi-res.gz.dds",mapNormal:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.hi-res.gz.dds",mapSpecular:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.lo-res.jpg",mapDiffuseSource:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.source.jpg",mapSpecularPreview:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.lo-res.jpg",mapSpecularSource:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.source.jpg",mapNormalPreview:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.lo-res.jpg",mapNormalSource:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.source.jpg"}},black_white_tiles:{meta:{displayName:"Tiles Checkerboard Black/White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/6516dbd748a176400f878fa8e9c99ba3.hi-res.gz.dds",mapNormal:"archilogic/tex/a72b2b7a876446fc0266c483eec1e1c5.hi-res.gz.dds",mapSpecular:"archilogic/tex/98b4993fcad50697c3387edff1df4414.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/6516dbd748a176400f878fa8e9c99ba3.lo-res.jpg",mapDiffuseSource:"archilogic/tex/6516dbd748a176400f878fa8e9c99ba3.source.jpg",mapSpecularPreview:"archilogic/tex/98b4993fcad50697c3387edff1df4414.lo-res.jpg",mapSpecularSource:"archilogic/tex/98b4993fcad50697c3387edff1df4414.source.jpg",mapNormalPreview:"archilogic/tex/a72b2b7a876446fc0266c483eec1e1c5.lo-res.jpg",mapNormalSource:"archilogic/tex/a72b2b7a876446fc0266c483eec1e1c5.source.jpg"}},floor_tiles_002:{meta:{displayName:"Floor Tiles 002",category:"floor",showInMenu:!1},attributes:{size:[2,2],specularCoef:40,mapDiffuse:"archilogic/tex/033cf06fbf6b93c7bd0fb3691fa72f17.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/033cf06fbf6b93c7bd0fb3691fa72f17.lo-res.jpg",mapDiffuseSource:"archilogic/tex/033cf06fbf6b93c7bd0fb3691fa72f17.source.jpg"}},floor_tiles_003:{meta:{displayName:"Floor Tiles 003",category:"floor",showInMenu:!1},attributes:{size:[2,2],specularCoef:40,mapDiffuse:"archilogic/tex/09716599ae75e4f4fc559b8dc37c7671.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/09716599ae75e4f4fc559b8dc37c7671.lo-res.jpg",mapDiffuseSource:"archilogic/tex/09716599ae75e4f4fc559b8dc37c7671.source.jpg"}},white_tiles:{meta:{displayName:"Tiles Mosaic White Big",category:"wall",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3df033cc051926797d49509f766af355.hi-res.gz.dds",mapNormal:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.hi-res.gz.dds",mapSpecular:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/3df033cc051926797d49509f766af355.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3df033cc051926797d49509f766af355.source.png",mapSpecularPreview:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.lo-res.jpg",mapSpecularSource:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.source.png",mapNormalPreview:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.lo-res.jpg",mapNormalSource:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.source.png"}},white_tiles_floor:{meta:{displayName:"Tiles Mosaic White Big",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3df033cc051926797d49509f766af355.hi-res.gz.dds",mapNormal:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.hi-res.gz.dds",mapSpecular:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3df033cc051926797d49509f766af355.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3df033cc051926797d49509f766af355.source.png",mapSpecularPreview:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.lo-res.jpg",mapSpecularSource:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.source.png",mapNormalPreview:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.lo-res.jpg",mapNormalSource:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.source.png"}},white_tiles_small:{meta:{displayName:"Tiles Mosaic White",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.hi-res.gz.dds",mapNormal:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.hi-res.gz.dds",mapSpecular:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.source.png",mapSpecularPreview:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.lo-res.jpg",mapSpecularSource:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.source.png",mapNormalPreview:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.lo-res.jpg",mapNormalSource:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.source.png"}},white_tiles_small_floor:{meta:{displayName:"Tiles Mosaic White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.hi-res.gz.dds",mapNormal:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.hi-res.gz.dds",mapSpecular:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.source.png",mapSpecularPreview:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.lo-res.jpg",mapSpecularSource:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.source.png",mapNormalPreview:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.lo-res.jpg",mapNormalSource:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.source.png"}},tiles_mosaic_brown:{meta:{displayName:"Tiles Mosaic Brown",category:"wall",showInMenu:!0},attributes:{size:[.5,.5],colorSpecular:[.15,.15,.15],specularCoef:50,mapDiffuse:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.hi-res.gz.dds",mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.source.jpg",mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg"}},tiles_mosaic_brown_floor:{meta:{displayName:"Tiles Mosaic Brown",category:"floor",showInMenu:!0},attributes:{size:[.5,.5],colorSpecular:[.15,.15,.15],specularCoef:50,mapDiffuse:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.hi-res.gz.dds",mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.source.jpg",mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg"}},tiles_mosaic_green:{meta:{displayName:"Tiles Mosaic Green",category:"wall",showInMenu:!0},attributes:{size:[.5,.5],colorSpecular:[.1,.1,.1],specularCoef:50,mapDiffuse:"archilogic/tex/cf01041b30b308d8c1d5797490eefb3d.hi-res.gz.dds",mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/cf01041b30b308d8c1d5797490eefb3d.lo-res.jpg",mapDiffuseSource:"archilogic/tex/cf01041b30b308d8c1d5797490eefb3d.source.jpg",mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg"}},tiles_mosaic_green_floor:{meta:{displayName:"Tiles Mosaic Green",category:"floor",showInMenu:!0},attributes:{size:[.5,.5],colorSpecular:[.1,.1,.1],specularCoef:50,mapDiffuse:"archilogic/tex/cf01041b30b308d8c1d5797490eefb3d.hi-res.gz.dds",mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/cf01041b30b308d8c1d5797490eefb3d.lo-res.jpg",mapDiffuseSource:"archilogic/tex/cf01041b30b308d8c1d5797490eefb3d.source.jpg",mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg"}},dark_tiles:{meta:{displayName:"Brown Tiles",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.486,.486,.486],specularCoef:50,mapDiffuse:"archilogic/tex/6b0b81b4cdbaca9628eb0d78ed092f0f.hi-res.gz.dds",mapNormal:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.hi-res.gz.dds",mapSpecular:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/6b0b81b4cdbaca9628eb0d78ed092f0f.lo-res.jpg",mapDiffuseSource:"archilogic/tex/6b0b81b4cdbaca9628eb0d78ed092f0f.source.png",mapSpecularPreview:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.lo-res.jpg",mapSpecularSource:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.source.png",mapNormalPreview:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.lo-res.jpg",mapNormalSource:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.source.png"}},dark_tiles_small:{meta:{displayName:"Brown Tiles Small",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.486,.486,.486],specularCoef:50,mapDiffuse:"archilogic/tex/186699961b8afaf24d3a21eb07aadd6d.hi-res.gz.dds",mapNormal:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.hi-res.gz.dds",mapSpecular:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/186699961b8afaf24d3a21eb07aadd6d.lo-res.jpg",mapDiffuseSource:"archilogic/tex/186699961b8afaf24d3a21eb07aadd6d.source.png",mapSpecularPreview:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.lo-res.jpg",mapSpecularSource:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.source.png",mapNormalPreview:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.lo-res.jpg",mapNormalSource:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.source.png"}},floor_tiles_001:{meta:{displayName:"Tiles Slate",category:"floor",showInMenu:!0},attributes:{size:[1.5,1.5],colorSpecular:[.584,.584,.584],specularCoef:40,mapDiffuse:"archilogic/tex/2d6e29a6701b30f14a9fd4ff5611821c.hi-res.gz.dds",mapNormal:"archilogic/tex/0cbeaa8fae8ac9c017f3e54a0d0f2b7a.hi-res.gz.dds",mapSpecular:"archilogic/tex/cf02b31506b385e6dd0a1cade7e22cc7.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/2d6e29a6701b30f14a9fd4ff5611821c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/2d6e29a6701b30f14a9fd4ff5611821c.source.jpg",mapSpecularPreview:"archilogic/tex/cf02b31506b385e6dd0a1cade7e22cc7.lo-res.jpg",mapSpecularSource:"archilogic/tex/cf02b31506b385e6dd0a1cade7e22cc7.source.jpg",mapNormalPreview:"archilogic/tex/0cbeaa8fae8ac9c017f3e54a0d0f2b7a.lo-res.jpg",mapNormalSource:"archilogic/tex/0cbeaa8fae8ac9c017f3e54a0d0f2b7a.source.jpg"}},terrazzo_tiles:{meta:{displayName:"Tiles Terrazzo",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.584,.584,.584],specularCoef:50,mapDiffuse:"archilogic/tex/25694889b08b343b90c3e4c7261d86e8.hi-res.gz.dds",mapNormal:"archilogic/tex/57e26201a21d93254c4bb45ed2d2aa19.hi-res.gz.dds",mapSpecular:"archilogic/tex/6702ac5458148d80116088ba2c7d2c42.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/25694889b08b343b90c3e4c7261d86e8.lo-res.jpg",mapDiffuseSource:"archilogic/tex/25694889b08b343b90c3e4c7261d86e8.source.png",mapSpecularPreview:"archilogic/tex/6702ac5458148d80116088ba2c7d2c42.lo-res.jpg",mapSpecularSource:"archilogic/tex/6702ac5458148d80116088ba2c7d2c42.source.png",mapNormalPreview:"archilogic/tex/57e26201a21d93254c4bb45ed2d2aa19.lo-res.jpg",mapNormalSource:"archilogic/tex/57e26201a21d93254c4bb45ed2d2aa19.source.png"}},tiles_white_marble:{meta:{displayName:"Tiles Marble White",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.4,.4,.4],specularCoef:25,mapDiffuse:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.hi-res.gz.dds",mapNormal:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.hi-res.gz.dds",mapSpecular:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.source.jpg",mapSpecularPreview:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.lo-res.jpg",mapSpecularSource:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.source.jpg",mapNormalPreview:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.lo-res.jpg",mapNormalSource:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.source.jpg"}},tiles_white_marble_floor:{meta:{displayName:"Tiles Marble White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.4,.4,.4],specularCoef:25,mapDiffuse:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.hi-res.gz.dds",mapNormal:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.hi-res.gz.dds",mapSpecular:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.source.jpg",mapSpecularPreview:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.lo-res.jpg",mapSpecularSource:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.source.jpg",mapNormalPreview:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.lo-res.jpg",mapNormalSource:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.source.jpg"}},"stone-travertin":{meta:{displayName:"Tiles Travertin",category:"wall",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.424,.424,.424],specularCoef:25,mapDiffuse:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.hi-res.gz.dds",mapNormal:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.hi-res.gz.dds",mapSpecular:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.lo-res.jpg",mapDiffuseSource:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.source.jpg",mapSpecularPreview:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.lo-res.jpg",mapSpecularSource:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.source.jpg",mapNormalPreview:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.lo-res.jpg",mapNormalSource:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.source.jpg"}},"stone-travertin-floor":{meta:{displayName:"Tiles Travertin",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.424,.424,.424],specularCoef:25,mapDiffuse:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.hi-res.gz.dds",mapNormal:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.hi-res.gz.dds",mapSpecular:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.lo-res.jpg",mapDiffuseSource:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.source.jpg",mapSpecularPreview:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.lo-res.jpg",mapSpecularSource:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.source.jpg",mapNormalPreview:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.lo-res.jpg",mapNormalSource:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.source.jpg"}},terrazzo:{meta:{displayName:"Terrazzo",category:"floor",showInMenu:!0},attributes:{size:[.8,.8],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/b6669597fae40407427303941f738325.hi-res.gz.dds",mapNormal:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.hi-res.gz.dds",mapSpecular:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/b6669597fae40407427303941f738325.lo-res.jpg",mapDiffuseSource:"archilogic/tex/b6669597fae40407427303941f738325.source.jpg",mapSpecularPreview:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.lo-res.jpg",mapSpecularSource:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.source.jpg",mapNormalPreview:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.lo-res.jpg",mapNormalSource:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.source.jpg"}},terrazzo_ceiling:{meta:{displayName:"Terrazzo",category:"ceiling",showInMenu:!0},attributes:{size:[.8,.8],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/b6669597fae40407427303941f738325.hi-res.gz.dds",mapNormal:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.hi-res.gz.dds",mapSpecular:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/b6669597fae40407427303941f738325.lo-res.jpg",mapDiffuseSource:"archilogic/tex/b6669597fae40407427303941f738325.source.jpg",mapSpecularPreview:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.lo-res.jpg",mapSpecularSource:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.source.jpg",mapNormalPreview:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.lo-res.jpg",mapNormalSource:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.source.jpg"}},bricks_clean_red:{meta:{displayName:"Bricks Clean Red",category:"wall",showInMenu:!0},attributes:{size:[1.2,1.2],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/d399b0bf607e60e545c0ceb060b7982c.hi-res.gz.dds",mapNormal:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/d399b0bf607e60e545c0ceb060b7982c.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/d399b0bf607e60e545c0ceb060b7982c.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.lo-res.jpg",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.source.jpg"}},bricks_clean_orange:{meta:{displayName:"Bricks Clean Orange",category:"wall",showInMenu:!0},attributes:{size:[1.2,1.2],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/d981f439a0d62b0e1d68c5c91daad674.hi-res.gz.dds",mapNormal:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/d981f439a0d62b0e1d68c5c91daad674.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/d981f439a0d62b0e1d68c5c91daad674.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.lo-res.jpg",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.source.jpg"}},bricks_clean_white:{meta:{displayName:"Bricks Clean White",category:"wall",showInMenu:!0},attributes:{size:[1.2,1.2],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/e167b3c467c84e496fdf5feb34e3a978.hi-res.gz.dds",mapNormal:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/e167b3c467c84e496fdf5feb34e3a978.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/e167b3c467c84e496fdf5feb34e3a978.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.lo-res.jpg",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.source.jpg"}},bricks_red:{meta:{displayName:"Bricks Red",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"archilogic/tex/e4946d35b80274163c6b6477e68e2b00.hi-res.gz.dds",mapNormal:"archilogic/tex/545119d25a25288d358632490643ddc2.hi-res.gz.dds",mapSpecular:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e4946d35b80274163c6b6477e68e2b00.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e4946d35b80274163c6b6477e68e2b00.source.jpg",mapSpecularPreview:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.lo-res.jpg",mapSpecularSource:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.source.jpg",mapNormalPreview:"archilogic/tex/545119d25a25288d358632490643ddc2.lo-res.jpg",mapNormalSource:"archilogic/tex/545119d25a25288d358632490643ddc2.source.jpg"}},bricks_yellow:{meta:{displayName:"Bricks Yellow",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.05,.05,.05],specularCoef:50,mapDiffuse:"archilogic/tex/d287580522c79c80aea849747b9ab914.hi-res.gz.dds",mapNormal:"archilogic/tex/545119d25a25288d358632490643ddc2.hi-res.gz.dds",mapSpecular:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/d287580522c79c80aea849747b9ab914.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d287580522c79c80aea849747b9ab914.source.jpg",mapSpecularPreview:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.lo-res.jpg",mapSpecularSource:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.source.jpg",mapNormalPreview:"archilogic/tex/545119d25a25288d358632490643ddc2.lo-res.jpg",mapNormalSource:"archilogic/tex/545119d25a25288d358632490643ddc2.source.jpg"}},bricks_white:{meta:{displayName:"Bricks White",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.05,.05,.05],specularCoef:50,mapDiffuse:"archilogic/tex/7c5134a614d03c79d008c5c1a7cf5f54.hi-res.gz.dds",mapNormal:"archilogic/tex/545119d25a25288d358632490643ddc2.hi-res.gz.dds",mapSpecular:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/7c5134a614d03c79d008c5c1a7cf5f54.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7c5134a614d03c79d008c5c1a7cf5f54.source.jpg",mapSpecularPreview:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.lo-res.jpg",mapSpecularSource:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.source.jpg",mapNormalPreview:"archilogic/tex/545119d25a25288d358632490643ddc2.lo-res.jpg",mapNormalSource:"archilogic/tex/545119d25a25288d358632490643ddc2.source.jpg"}},concrete_board:{meta:{displayName:"Concrete Raw Board",category:"wall",showInMenu:!0},attributes:{size:[2.4,2.4],specularCoef:30,mapDiffuse:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.hi-res.gz.dds",mapNormal:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.hi-res.gz.dds",mapSpecular:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.lo-res.jpg",mapDiffuseSource:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.source.jpg",mapSpecularPreview:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.lo-res.jpg",mapSpecularSource:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.source.jpg",mapNormalPreview:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.lo-res.jpg",mapNormalSource:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.source.jpg"}},concrete_board_ceiling:{meta:{displayName:"Concrete Raw Board",category:"ceiling",showInMenu:!0},attributes:{size:[2.4,2.4],specularCoef:30,mapDiffuse:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.hi-res.gz.dds",mapNormal:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.hi-res.gz.dds",mapSpecular:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.lo-res.jpg",mapDiffuseSource:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.source.jpg",mapSpecularPreview:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.lo-res.jpg",mapSpecularSource:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.source.jpg",mapNormalPreview:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.lo-res.jpg",mapNormalSource:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.source.jpg"}},wall_top:{meta:{displayName:"Stone Wall Natural",category:"wall",showInMenu:!0},attributes:{colorDiffuse:[.2,.2,.2],addLightmap:!1,useInBaking:!0,hideAfterBaking:!1}},stone_wall:{meta:{displayName:"Stone Wall Natural",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.424,.424,.424],specularCoef:50,mapDiffuse:"archilogic/tex/5b9bed2afa0dff30e14bfbc0344c90e7.hi-res.gz.dds",mapNormal:"archilogic/tex/0f2f5fcd5532a2acfbe1b62e93b1e2da.hi-res.gz.dds",mapSpecular:"archilogic/tex/d562e8020049d2d6e4b3583e4e624522.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/5b9bed2afa0dff30e14bfbc0344c90e7.lo-res.jpg",mapDiffuseSource:"archilogic/tex/5b9bed2afa0dff30e14bfbc0344c90e7.source.jpg",mapSpecularPreview:"archilogic/tex/d562e8020049d2d6e4b3583e4e624522.lo-res.jpg",mapSpecularSource:"archilogic/tex/d562e8020049d2d6e4b3583e4e624522.source.jpg",mapNormalPreview:"archilogic/tex/0f2f5fcd5532a2acfbe1b62e93b1e2da.lo-res.jpg",mapNormalSource:"archilogic/tex/0f2f5fcd5532a2acfbe1b62e93b1e2da.source.jpg"}},zigzag:{meta:{displayName:"Zigzag",category:"wall",showInMenu:!0},attributes:{size:[1.973,2.4],colorDiffuse:[1,1,1],colorSpecular:[.098,.098,.098],specularCoef:2,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/b19a4ce5f2e8a3dbaf6d58120086edbf.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/b19a4ce5f2e8a3dbaf6d58120086edbf.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/b19a4ce5f2e8a3dbaf6d58120086edbf.source.jpg"}},memphis_pattern:{meta:{displayName:"Memphis Pattern",category:"wall",showInMenu:!0},attributes:{size:[1.5,1.5],colorDiffuse:[1,1,1],colorSpecular:[1,1,1],specularCoef:2,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/bba1d78f6d773cd467ca042dd06f9d13.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/bba1d78f6d773cd467ca042dd06f9d13.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/bba1d78f6d773cd467ca042dd06f9d13.source.jpg"}},floor_vintage_timber_2:{meta:{displayName:"Planks Stained",category:"floor",showInMenu:!0},attributes:{size:[3.4,3.4],colorSpecular:[.031,.031,.031],specularCoef:40,mapDiffuse:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.source.jpg"}},ceiling_vintage_timber_2:{meta:{displayName:"Planks Stained",category:"ceiling",showInMenu:!0},attributes:{size:[3.4,3.4],colorSpecular:[.031,.031,.031],specularCoef:40,mapDiffuse:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.source.jpg"}},wall_vintage_timber_2:{meta:{displayName:"Planks Stained",category:"wall",showInMenu:!0},attributes:{size:[3.4,3.4],colorSpecular:[.031,.031,.031],specularCoef:40,mapDiffuse:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/dc17b74b6569a8fc02c51369bcc20b9b.source.jpg"}},truss_wood:{meta:{displayName:"Truss Wood",category:"other",showInMenu:!1},attributes:{size:[2,2],colorSpecular:[.667,.667,.667],specularCoef:50,mapDiffuse:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.hi-res.gz.dds",mapNormal:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.hi-res.gz.dds",mapSpecular:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.lo-res.jpg",mapDiffuseSource:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.source.png",mapSpecularPreview:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.lo-res.jpg",mapSpecularSource:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.source.png",mapNormalPreview:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.lo-res.jpg",mapNormalSource:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.source.png"}},brushed_chrome:{meta:{displayName:"Brushed Chrome",category:"counter",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.855,.855,.855],specularCoef:80}},concrete_tiles_vertical:{meta:{displayName:"Concrete Tiles Vertical",category:"wall",showInMenu:!1},attributes:{size:[2.4,2.4],colorSpecular:[.486,.486,.486],specularCoef:50,mapDiffuse:"archilogic/tex/ea24f67d1cfba1caa593e621e937bc37.hi-res.gz.dds",mapNormal:"archilogic/tex/391452dc766083a8a6fce340b2d2af44.hi-res.gz.dds",mapSpecular:"archilogic/tex/55d5ac9d2cd7c1ed99514fd92175e5bc.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/ea24f67d1cfba1caa593e621e937bc37.lo-res.jpg",mapDiffuseSource:"archilogic/tex/ea24f67d1cfba1caa593e621e937bc37.source.png",mapSpecularPreview:"archilogic/tex/55d5ac9d2cd7c1ed99514fd92175e5bc.lo-res.jpg",mapSpecularSource:"archilogic/tex/55d5ac9d2cd7c1ed99514fd92175e5bc.source.png",mapNormalPreview:"archilogic/tex/391452dc766083a8a6fce340b2d2af44.lo-res.jpg",mapNormalSource:"archilogic/tex/391452dc766083a8a6fce340b2d2af44.source.png"}},glass_old:{meta:{displayName:"Glass (Old)",category:"glass",showInMenu:!0},attributes:{colorDiffuse:[1,1,1],specularCoef:40,opacity:.3,addLightmap:!1,useInBaking:!1}},glass:{meta:{displayName:"Glass",category:"glass",showInMenu:!0},attributes:{colorDiffuse:[.949,1,.988],colorSpecular:[0,1,.769],specularCoef:100,opacity:.14,addLightmap:!1,useInBaking:!1}},"glass-wall":{meta:{displayName:"Glass",category:"wall",showInMenu:!0},attributes:{colorDiffuse:[.949,1,.988],colorSpecular:[0,1,.769],specularCoef:100,opacity:.14,addLightmap:!1,useInBaking:!1}},wallTop:{meta:{displayName:"Wall Top"},attributes:{colorDiffuse:[.188,.188,.188],specularCoef:.1}},"grass-01":{meta:{displayName:"Grass",category:"floor",showInMenu:!0},attributes:{size:[4,4],specularCoef:20,mapDiffuse:"archilogic/tex/8463d96062b98f018edb34af61642f50.hi-res.gz.dds",mapNormal:"archilogic/tex/626edbfd34ba34c19fb92dad87fade82.hi-res.gz.dds",mapSpecular:"archilogic/tex/12fd170deef977469cb810a8759aa3eb.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/8463d96062b98f018edb34af61642f50.lo-res.jpg",mapDiffuseSource:"archilogic/tex/8463d96062b98f018edb34af61642f50.source.jpg",mapSpecularPreview:"archilogic/tex/12fd170deef977469cb810a8759aa3eb.lo-res.jpg",mapSpecularSource:"archilogic/tex/12fd170deef977469cb810a8759aa3eb.source.jpg",mapNormalPreview:"archilogic/tex/626edbfd34ba34c19fb92dad87fade82.lo-res.jpg",mapNormalSource:"archilogic/tex/626edbfd34ba34c19fb92dad87fade82.source.jpg"}},"gravel-01":{meta:{displayName:"Gravel",category:"floor",showInMenu:!0},attributes:{size:[3,3],specularCoef:20,mapDiffuse:"archilogic/tex/9fbf5f70818f431ddf28b6a828b68af7.hi-res.gz.dds",mapNormal:"archilogic/tex/0f83e844962e6c10ca9ca56d0ae02cfd.hi-res.gz.dds",mapSpecular:"archilogic/tex/367a4374a0d049aa0886ef68b76054f4.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/9fbf5f70818f431ddf28b6a828b68af7.lo-res.jpg",mapDiffuseSource:"archilogic/tex/9fbf5f70818f431ddf28b6a828b68af7.source.jpg",mapSpecularPreview:"archilogic/tex/367a4374a0d049aa0886ef68b76054f4.lo-res.jpg",mapSpecularSource:"archilogic/tex/367a4374a0d049aa0886ef68b76054f4.source.jpg",mapNormalPreview:"archilogic/tex/0f83e844962e6c10ca9ca56d0ae02cfd.lo-res.jpg",mapNormalSource:"archilogic/tex/0f83e844962e6c10ca9ca56d0ae02cfd.source.jpg"}},floor_grass:{meta:{displayName:"Grass",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[1,1,1],specularCoef:50,mapDiffuse:"archilogic/tex/828dfb1aae222e7e4bf563cfb65fc26a.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/828dfb1aae222e7e4bf563cfb65fc26a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/828dfb1aae222e7e4bf563cfb65fc26a.source.jpg"}},"concrete-wall":{meta:{displayName:"Concrete Formwork",category:"floor",showInMenu:!1},attributes:{size:[3.6,3.6],specularCoef:40,mapDiffuse:"archilogic/tex/e529f05d7e3b1ad95c94752098c6ee8e.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/e529f05d7e3b1ad95c94752098c6ee8e.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e529f05d7e3b1ad95c94752098c6ee8e.source.jpg"}},floor_wood:{meta:{displayName:"Floor Wood",category:"floor",showInMenu:!1},attributes:{size:[7,7],specularCoef:40,mapDiffuse:"archilogic/tex/4433d7b5ed780022d4ad9be94a457961.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/4433d7b5ed780022d4ad9be94a457961.lo-res.jpg",mapDiffuseSource:"archilogic/tex/4433d7b5ed780022d4ad9be94a457961.source.jpg"}},floor_ahorn:{meta:{displayName:"Floor Ahorn",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/73fc859500c231c1f67346dd40ace8dc.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/73fc859500c231c1f67346dd40ace8dc.lo-res.jpg",mapDiffuseSource:"archilogic/tex/73fc859500c231c1f67346dd40ace8dc.source.jpg"}},floor_ebenholz:{meta:{displayName:"Floor Ebenholz",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/d6f9e525372773289d3721cdad924fb9.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/d6f9e525372773289d3721cdad924fb9.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d6f9e525372773289d3721cdad924fb9.source.jpg"}},floor_vintage_timber_1:{meta:{displayName:"Floor Vintage Timber 1",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/26601a09792802ffd9ebdd66d418a1b1.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/26601a09792802ffd9ebdd66d418a1b1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/26601a09792802ffd9ebdd66d418a1b1.source.jpg"}},wood_parquet_2:{meta:{displayName:"Wood Parquet 2",category:"floor",showInMenu:!1},attributes:{size:[2,2],colorSpecular:[.667,.667,.667],specularCoef:40,mapDiffuse:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.hi-res.gz.dds",mapNormal:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.hi-res.gz.dds",mapSpecular:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.lo-res.jpg",mapDiffuseSource:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.source.png",mapSpecularPreview:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.lo-res.jpg",mapSpecularSource:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.source.png",mapNormalPreview:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.lo-res.jpg",mapNormalSource:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.source.png"}},floor_vintage_timber_3:{meta:{displayName:"Floor Vintage Timber 3",category:"floor",showInMenu:!1},attributes:{size:[3.2,3.2],colorSpecular:[.102,.102,.102],specularCoef:40,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg"}},floor_vintage_timber_4:{meta:{displayName:"Floor Vintage Timber 4",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/e4ce6e72837661fa4555fb4cb9da7b1b.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/e4ce6e72837661fa4555fb4cb9da7b1b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e4ce6e72837661fa4555fb4cb9da7b1b.source.jpg"}},floor_vintage_timber_5:{meta:{displayName:"Floor Vintage Timber 5",category:"floor",showInMenu:!1},attributes:{size:[3.6,3.6],specularCoef:40,mapDiffuse:"archilogic/tex/04e192e36ae01ff961c9a882682a19ff.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/04e192e36ae01ff961c9a882682a19ff.lo-res.jpg",mapDiffuseSource:"archilogic/tex/04e192e36ae01ff961c9a882682a19ff.source.jpg"}},floor_vintage_timber_6:{meta:{displayName:"Floor Vintage Timber 6",category:"floor",showInMenu:!1},attributes:{size:[2,2],specularCoef:40,mapDiffuse:"archilogic/tex/82ca0b741e0ef051e55d0d5b7a46cd54.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/82ca0b741e0ef051e55d0d5b7a46cd54.lo-res.jpg",mapDiffuseSource:"archilogic/tex/82ca0b741e0ef051e55d0d5b7a46cd54.source.jpg"}},"doorLeaf-flush-white":{meta:{displayName:"Door Flush White",category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-flush-white-thumb.jpg"},attributes:{colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30}},"doorLeaf-4-panels-white":{meta:{displayName:"Door 4 Panels White",category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-panel-white-thumb.jpg"},attributes:{size:[1,1],colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30,mapDiffuse:"archilogic/tex/dd1814c45fe19b59a01d389dbf9d2ab1.hi-res.gz.dds",mapNormal:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/dd1814c45fe19b59a01d389dbf9d2ab1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/dd1814c45fe19b59a01d389dbf9d2ab1.source.jpg",mapNormalPreview:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.lo-res.jpg",mapNormalSource:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.source.jpg"}},"doorFrame-flush-white":{meta:{displayName:"Door Flush White",category:"doorFrame",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30}},aluminium:{meta:{displayName:"Aluminium",category:"doorHandle",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.5,.5,.5],colorSpecular:[.34,.34,.34],specularCoef:40}},"doorLeaf-whitewood":{meta:{displayName:"Whitewood Panels",category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-panel-whitewood-thumb.jpg"},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.19,.19,.19],specularCoef:20,mapDiffuse:"archilogic/tex/072bd60b99f5a92cdde5bd5098dc9284.hi-res.gz.dds",mapSpecular:"archilogic/tex/7f51acb6c6eb3d81aa866f9eed5dc3d6.hi-res.gz.dds",mapNormal:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/072bd60b99f5a92cdde5bd5098dc9284.lo-res.jpg",mapDiffuseSource:"archilogic/tex/072bd60b99f5a92cdde5bd5098dc9284.source.jpg",mapSpecularPreview:"archilogic/tex/7f51acb6c6eb3d81aa866f9eed5dc3d6.lo-res.jpg",mapSpecularSource:"archilogic/tex/7f51acb6c6eb3d81aa866f9eed5dc3d6.source.jpg",mapNormalPreview:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.lo-res.jpg",mapNormalSource:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.source.jpg"}},"doorLeaf-glass":{meta:{displayName:"Glass",category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-glass-thumb.jpg"},attributes:{colorDiffuse:[.949,1,.988],colorSpecular:[0,1,.769],specularCoef:100,opacity:.24,addLightmap:!1}},chrome:{meta:{displayName:"Aluminium",category:"metal",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.5,.5,.5],colorSpecular:[.34,.34,.34],specularCoef:50}},cabinet_paint_white:{meta:{displayName:"Paint White",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.9,.9,.9],colorSpecular:[.1,.1,.1],specularCoef:10}},cabinet_paint_creme:{meta:{displayName:"Paint Creme",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.8,.78,.73],colorSpecular:[.2,.2,.2],specularCoef:10}},cabinet_paint_grey:{meta:{displayName:"Paint Light Grey",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.7,.7,.7],colorSpecular:[.2,.2,.2],specularCoef:10}},cabinet_paint_beige:{meta:{displayName:"Paint Beige",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.57,.53,.48],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_green:{meta:{displayName:"Paint Green",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.455,.502,.357],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_blue:{meta:{displayName:"Paint Blue",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.357,.447,.502],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_brick:{meta:{displayName:"Paint Brick",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.651,.357,.247],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_anthrazit:{meta:{displayName:"Paint Anthrazit",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.3,.3,.3],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_black:{meta:{displayName:"Paint Black",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.05,.05,.05],colorSpecular:[.5,.5,.5],specularCoef:10}},cabinet_wood_fir:{meta:{displayName:"Wood Fir mtex_12756",category:"cabinet",showInMenu:!0},attributes:{size:[2.4,2.4],colorDiffuse:[1,1,1],colorSpecular:[.2,.2,.2],specularCoef:15,mapDiffuse:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.source.jpg"}},cabinet_cherry_veneer:{meta:{displayName:"Wood Cherry Veneer",category:"cabinet",showInMenu:!0},attributes:{size:[1.2,1.2],colorDiffuse:[1,1,1],colorSpecular:[.322,.318,.318],specularCoef:26,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/7239eb736d6877a34e8ebe2e5e9c8a57.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/7239eb736d6877a34e8ebe2e5e9c8a57.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/7239eb736d6877a34e8ebe2e5e9c8a57.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/58301ccaa8ed2be78e00c9ecdf5ab7af.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/58301ccaa8ed2be78e00c9ecdf5ab7af.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/58301ccaa8ed2be78e00c9ecdf5ab7af.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/ff30448e22c5e2131991e25c219d2c2c.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/ff30448e22c5e2131991e25c219d2c2c.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/ff30448e22c5e2131991e25c219d2c2c.source.jpg"}},cabinet_beech_veneer:{meta:{displayName:"Wood Beech Veneer",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.212,.212,.212],specularCoef:24,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/96487b8905d72f171b84400f5f1759d8.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/96487b8905d72f171b84400f5f1759d8.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/96487b8905d72f171b84400f5f1759d8.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.source.jpg"}},cabinet_chalked_veneer:{meta:{displayName:"Wood Chalked Veneer",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.14,.14,.14],specularCoef:24,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/a08fb76c0fc9ece60f60262b730c7e59.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/a08fb76c0fc9ece60f60262b730c7e59.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/a08fb76c0fc9ece60f60262b730c7e59.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.source.jpg"}},cabinet_wood_fir_wall:{meta:{displayName:"Wood Fir mtex_12756",category:"wall",showInMenu:!0},attributes:{size:[2.4,2.4],colorDiffuse:[1,1,1],colorSpecular:[.2,.2,.2],specularCoef:15,mapDiffuse:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.source.jpg"}},counter_chrome_brushed:{meta:{displayName:"Chrome Brushed",category:"counter",showInMenu:!0},attributes:{size:[.2,.7],colorDiffuse:[.5,.5,.5],colorSpecular:[.34,.34,.34],specularCoef:50,mapNormal:"archilogic/tex/03305e054dbd97bb57de94531ebcde49.hi-res.gz.dds",mapSpecular:"archilogic/tex/fe502e29ec739e20e25e0a26090f8200.hi-res.gz.dds",mapSpecularPreview:"archilogic/tex/fe502e29ec739e20e25e0a26090f8200.lo-res.jpg",mapSpecularSource:"archilogic/tex/fe502e29ec739e20e25e0a26090f8200.source.jpg",mapNormalPreview:"archilogic/tex/03305e054dbd97bb57de94531ebcde49.lo-res.jpg",mapNormalSource:"archilogic/tex/03305e054dbd97bb57de94531ebcde49.source.jpg"}},counter_stone_white:{meta:{displayName:"Stone White",category:"counter",showInMenu:!0},attributes:{size:[.5,.5],colorDiffuse:[.9,.9,.9],colorSpecular:[.3,.3,.3],specularCoef:15,mapDiffuse:"archilogic/tex/61019e9b8e7f4542eb7a013e7dfae30b.hi-res.gz.dds",mapNormal:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.hi-res.gz.dds",mapSpecular:"archilogic/tex/5ec4dfae5d8545d38177a6f76147fd26.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/61019e9b8e7f4542eb7a013e7dfae30b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/61019e9b8e7f4542eb7a013e7dfae30b.source.jpg",mapSpecularPreview:"archilogic/tex/5ec4dfae5d8545d38177a6f76147fd26.lo-res.jpg",mapSpecularSource:"archilogic/tex/5ec4dfae5d8545d38177a6f76147fd26.source.jpg",mapNormalPreview:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.lo-res.jpg",mapNormalSource:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.source.jpg"}},counter_granite_light:{meta:{displayName:"Granite Light mtex_11181",category:"counter",showInMenu:!0},attributes:{size:[.5,.5],colorDiffuse:[.9,.9,.9],colorSpecular:[.3,.3,.3],specularCoef:40,mapDiffuse:"archilogic/tex/ded6f1d9a706119919bbc7c96d8ed6b2.hi-res.gz.dds",mapNormal:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.hi-res.gz.dds",mapSpecular:"archilogic/tex/976e94355e5bda592304f280d1d02d48.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/ded6f1d9a706119919bbc7c96d8ed6b2.lo-res.jpg",mapDiffuseSource:"archilogic/tex/ded6f1d9a706119919bbc7c96d8ed6b2.source.jpg",mapSpecularPreview:"archilogic/tex/976e94355e5bda592304f280d1d02d48.lo-res.jpg",mapSpecularSource:"archilogic/tex/976e94355e5bda592304f280d1d02d48.source.jpg",mapNormalPreview:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.lo-res.jpg",mapNormalSource:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.source.jpg"}},counter_granite_black:{meta:{displayName:"Granite Black mtex_11180",category:"counter",showInMenu:!0},attributes:{size:[.5,.5],colorDiffuse:[1,1,1],colorSpecular:[.4,.4,.4],specularCoef:40,mapDiffuse:"archilogic/tex/975742bddd8326ef574878ca9132b4ed.hi-res.gz.dds",mapNormal:"archilogic/tex/19cc02e1993bd5b118e03c169ee0ef33.hi-res.gz.dds",mapSpecular:"archilogic/tex/7fe0c88fc1c03881949652c8c3d55aaa.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/975742bddd8326ef574878ca9132b4ed.lo-res.jpg",mapDiffuseSource:"archilogic/tex/975742bddd8326ef574878ca9132b4ed.source.jpg",mapSpecularPreview:"archilogic/tex/7fe0c88fc1c03881949652c8c3d55aaa.lo-res.jpg",mapSpecularSource:"archilogic/tex/7fe0c88fc1c03881949652c8c3d55aaa.source.jpg",mapNormalPreview:"archilogic/tex/19cc02e1993bd5b118e03c169ee0ef33.lo-res.jpg",mapNormalSource:"archilogic/tex/19cc02e1993bd5b118e03c169ee0ef33.source.jpg"}},counter_concrete_fluid:{meta:{displayName:"Concrete Natural",category:"counter",showInMenu:!0},attributes:{size:[.5,.5],colorDiffuse:[.867,.867,.867],colorSpecular:[.4,.4,.4],specularCoef:40,mapDiffuse:"archilogic/tex/7af78308b190531d128c71e3482e21ea.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/7af78308b190531d128c71e3482e21ea.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7af78308b190531d128c71e3482e21ea.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},cooktop_westinghouse_60:{meta:{displayName:"Cooktop Westinghouse 60",category:"cooktop60",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/03796b53a0776136c919ef7e9dc6c96b.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/03796b53a0776136c919ef7e9dc6c96b.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/03796b53a0776136c919ef7e9dc6c96b.source.jpg"}},cooktop_westinghouse_90:{meta:{displayName:"Cooktop Westinghouse 90",category:"cooktop90",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/8aa7c25cd74007e497b782f0fbfea187.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/8aa7c25cd74007e497b782f0fbfea187.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/8aa7c25cd74007e497b782f0fbfea187.source.jpg"}},"oven_miele_60-60":{meta:{displayName:"Oven Miele 60x60",category:"oven60",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/53ce86d2ae02d701c70c9488e681d54e.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/53ce86d2ae02d701c70c9488e681d54e.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/53ce86d2ae02d701c70c9488e681d54e.source.jpg"}},"oven_miele_90-48":{meta:{displayName:"Oven Miele 90x48",category:"oven90",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/22e8dd6c7d90cf88e6d0d5c89403753d.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/22e8dd6c7d90cf88e6d0d5c89403753d.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/22e8dd6c7d90cf88e6d0d5c89403753d.source.jpg"}},microwave_samsung:{meta:{displayName:"Microwave Samsung",category:"microwave",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/e3959871393650ae83389cd69f377c25.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/e3959871393650ae83389cd69f377c25.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/e3959871393650ae83389cd69f377c25.source.jpg"}},oven_vzug:{meta:{displayName:"Oven VZug",category:"oven",showInMenu:!1},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"archilogic/tex/d67fb5b3b852f44aa95f12b9f6f9e721.hi-res.gz.dds",mapSpecular:"archilogic/tex/18168af2d7c5d21845d67424b9f42fee.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/d67fb5b3b852f44aa95f12b9f6f9e721.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d67fb5b3b852f44aa95f12b9f6f9e721.source.jpg",mapSpecularPreview:"archilogic/tex/18168af2d7c5d21845d67424b9f42fee.lo-res.jpg",mapSpecularSource:"archilogic/tex/18168af2d7c5d21845d67424b9f42fee.source.jpg"}},oven_miele:{meta:{displayName:"Oven VZug",category:"oven",showInMenu:!1},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"archilogic/tex/1fc90bca228862d77d943a3a0fc0c22a.hi-res.gz.dds",mapSpecular:"archilogic/tex/b6c63f108ef511dd768663c334123496.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/1fc90bca228862d77d943a3a0fc0c22a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/1fc90bca228862d77d943a3a0fc0c22a.source.jpg",mapSpecularPreview:"archilogic/tex/b6c63f108ef511dd768663c334123496.lo-res.jpg",mapSpecularSource:"archilogic/tex/b6c63f108ef511dd768663c334123496.source.jpg"}}},qc=function(e){var t=Gc[e];if(!t)return e;var r=xc(t.attributes);return Object.keys(r).forEach(function(e){e.indexOf("map")>-1&&("/"===r[e][0]&&(r[e]=r[e].substring(1)),r[e]="https://storage.3d.io/"+r[e])}),r},Kc=!1;K.title="Flat",Y.title="Smooth";var Yc={flat:K,smooth:Y};X.title="Project Top Down",Q.title="Architectural";var Xc={architectural:Q,projectAxisY:X},Qc=function(e,t){return Object.keys(e).map(function(t){"string"==typeof e[t]&&(e[t]=function(e){var t=Gc[e];if(!t)return e;var r=xc(t.attributes);return Object.keys(r).forEach(function(e){e.indexOf("map")>-1&&("/"===r[e][0]&&(r[e]=r[e].substring(1)),r[e]="https://storage.3d.io/"+r[e])}),r}(e[t]))}),Promise.resolve(e)},Jc=function(e,t){return t||(console.error("No default materials set"),t={}),e?(Object.keys(t).forEach(function(r){e[r]||(e[r]=t[r])}),e):Promise.resolve(xc(t))},$c=function(e){Object.keys(e).forEach(function(t){e[t].positions&&e[t].positions.length||delete e[t]})},el={schema:G("closet"),init:function(){},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.materials=J(r),function(e){return e.materials=Jc(e.materials,{closet:"cabinet_paint_white"}),Promise.all([function(e){for(var t=0,r=Math.round(e.l/.6),i=e.l/r,n=.8*i,o=[],a=0,s=t,c=e.h+-.01,l=e.w,u=0,p=t+i,f=t+e.doorWidth/2,d=e.h-e.doorWidth,h=e.baseboard,m=t+i-e.doorWidth/2,g=e.w+e.doorWidth,b=t+n,v=1+e.handleHeight/2,y=1-e.handleHeight/2,_=t+n+e.handleLength,w=e.w+e.doorWidth+e.handleWidth,x=0;x<r;x++)n=x%2==1||x===r-1?.05+e.handleLength/2:i-.05-e.handleLength/2,s=t,p=t+i,f=t+e.doorWidth/2,m=t+i-e.doorWidth/2,b=t+n-e.handleLength/2,_=t+n+e.handleLength/2,o[a]=o[a+9]=s,o[a+1]=o[a+10]=c,o[a+2]=o[a+11]=l,o[a+3]=s,o[a+4]=u,o[a+5]=l,o[a+6]=o[a+12]=f,o[a+7]=o[a+13]=h,o[a+8]=o[a+14]=l,o[a+15]=f,o[a+16]=d,o[a+17]=l,o[a+=18]=o[a+9]=f,o[a+1]=o[a+10]=h,o[a+2]=o[a+11]=l,o[a+3]=s,o[a+4]=u,o[a+5]=l,o[a+6]=o[a+12]=p,o[a+7]=o[a+13]=u,o[a+8]=o[a+14]=l,o[a+15]=m,o[a+16]=h,o[a+17]=l,o[a+=18]=o[a+9]=m,o[a+1]=o[a+10]=d,o[a+2]=o[a+11]=l,o[a+3]=m,o[a+4]=h,o[a+5]=l,o[a+6]=o[a+12]=p,o[a+7]=o[a+13]=u,o[a+8]=o[a+14]=l,o[a+15]=p,o[a+16]=c,o[a+17]=l,o[a+=18]=o[a+9]=s,o[a+1]=o[a+10]=c,o[a+2]=o[a+11]=l,o[a+3]=f,o[a+4]=d,o[a+5]=l,o[a+6]=o[a+12]=m,o[a+7]=o[a+13]=d,o[a+8]=o[a+14]=l,o[a+15]=p,o[a+16]=c,o[a+17]=l,o[a+=18]=o[a+9]=f,o[a+1]=o[a+10]=d,o[a+2]=o[a+11]=l,o[a+3]=f,o[a+4]=h,o[a+5]=l,o[a+6]=o[a+12]=f,o[a+7]=o[a+13]=h,o[a+8]=o[a+14]=g,o[a+15]=f,o[a+16]=d,o[a+17]=g,o[a+=18]=o[a+9]=f,o[a+1]=o[a+10]=h,o[a+2]=o[a+11]=g,o[a+3]=f,o[a+4]=h,o[a+5]=l,o[a+6]=o[a+12]=m,o[a+7]=o[a+13]=h,o[a+8]=o[a+14]=l,o[a+15]=m,o[a+16]=h,o[a+17]=g,o[a+=18]=o[a+9]=m,o[a+1]=o[a+10]=d,o[a+2]=o[a+11]=g,o[a+3]=m,o[a+4]=h,o[a+5]=g,o[a+6]=o[a+12]=m,o[a+7]=o[a+13]=h,o[a+8]=o[a+14]=l,o[a+15]=m,o[a+16]=d,o[a+17]=l,o[a+=18]=o[a+9]=f,o[a+1]=o[a+10]=d,o[a+2]=o[a+11]=l,o[a+3]=f,o[a+4]=d,o[a+5]=g,o[a+6]=o[a+12]=m,o[a+7]=o[a+13]=d,o[a+8]=o[a+14]=g,o[a+15]=m,o[a+16]=d,o[a+17]=l,o[a+=18]=o[a+9]=f,o[a+1]=o[a+10]=d,o[a+2]=o[a+11]=g,o[a+3]=f,o[a+4]=h,o[a+5]=g,o[a+6]=o[a+12]=b,o[a+7]=o[a+13]=y,o[a+8]=o[a+14]=g,o[a+15]=b,o[a+16]=v,o[a+17]=g,o[a+=18]=o[a+9]=b,o[a+1]=o[a+10]=y,o[a+2]=o[a+11]=g,o[a+3]=f,o[a+4]=h,o[a+5]=g,o[a+6]=o[a+12]=m,o[a+7]=o[a+13]=h,o[a+8]=o[a+14]=g,o[a+15]=_,o[a+16]=y,o[a+17]=g,o[a+=18]=o[a+9]=_,o[a+1]=o[a+10]=v,o[a+2]=o[a+11]=g,o[a+3]=_,o[a+4]=y,o[a+5]=g,o[a+6]=o[a+12]=m,o[a+7]=o[a+13]=h,o[a+8]=o[a+14]=g,o[a+15]=m,o[a+16]=d,o[a+17]=g,o[a+=18]=o[a+9]=f,o[a+1]=o[a+10]=d,o[a+2]=o[a+11]=g,o[a+3]=b,o[a+4]=v,o[a+5]=g,o[a+6]=o[a+12]=_,o[a+7]=o[a+13]=v,o[a+8]=o[a+14]=g,o[a+15]=m,o[a+16]=d,o[a+17]=g,a+=18,e.handleWidth>0&&(o[a]=o[a+9]=b,o[a+1]=o[a+10]=v,o[a+2]=o[a+11]=g,o[a+3]=b,o[a+4]=y,o[a+5]=g,o[a+6]=o[a+12]=b,o[a+7]=o[a+13]=y,o[a+8]=o[a+14]=w,o[a+15]=b,o[a+16]=v,o[a+17]=w,o[a+=18]=o[a+9]=b,o[a+1]=o[a+10]=y,o[a+2]=o[a+11]=w,o[a+3]=b,o[a+4]=y,o[a+5]=g,o[a+6]=o[a+12]=_,o[a+7]=o[a+13]=y,o[a+8]=o[a+14]=g,o[a+15]=_,o[a+16]=y,o[a+17]=w,o[a+=18]=o[a+9]=_,o[a+1]=o[a+10]=v,o[a+2]=o[a+11]=w,o[a+3]=_,o[a+4]=y,o[a+5]=w,o[a+6]=o[a+12]=_,o[a+7]=o[a+13]=y,o[a+8]=o[a+14]=g,o[a+15]=_,o[a+16]=v,o[a+17]=g,o[a+=18]=o[a+9]=b,o[a+1]=o[a+10]=v,o[a+2]=o[a+11]=g,o[a+3]=b,o[a+4]=v,o[a+5]=w,o[a+6]=o[a+12]=_,o[a+7]=o[a+13]=v,o[a+8]=o[a+14]=w,o[a+15]=_,o[a+16]=v,o[a+17]=g,a+=18),o[a]=o[a+9]=b,o[a+1]=o[a+10]=v,o[a+2]=o[a+11]=w,o[a+3]=b,o[a+4]=y,o[a+5]=w,o[a+6]=o[a+12]=_,o[a+7]=o[a+13]=y,o[a+8]=o[a+14]=w,o[a+15]=_,o[a+16]=v,o[a+17]=w,a+=18,t+=i;return s=0,c=e.h+-.01,l=e.w,u=0,p=e.l,o[a]=o[a+9]=s,o[a+1]=o[a+10]=c,o[a+2]=o[a+11]=0,o[a+3]=s,o[a+4]=u,o[a+5]=0,o[a+6]=o[a+12]=s,o[a+7]=o[a+13]=u,o[a+8]=o[a+14]=l,o[a+15]=s,o[a+16]=c,o[a+17]=l,a+=18,o[a]=o[a+9]=s,o[a+1]=o[a+10]=c,o[a+2]=o[a+11]=0,o[a+3]=s,o[a+4]=c,o[a+5]=l,o[a+6]=o[a+12]=p,o[a+7]=o[a+13]=c,o[a+8]=o[a+14]=l,o[a+15]=p,o[a+16]=c,o[a+17]=0,a+=18,o[a]=o[a+9]=p,o[a+1]=o[a+10]=c,o[a+2]=o[a+11]=l,o[a+3]=p,o[a+4]=u,o[a+5]=l,o[a+6]=o[a+12]=p,o[a+7]=o[a+13]=u,o[a+8]=o[a+14]=0,o[a+15]=p,o[a+16]=c,o[a+17]=0,a+=18,o[a]=o[a+9]=p,o[a+1]=o[a+10]=c,o[a+2]=o[a+11]=0,o[a+3]=p,o[a+4]=u,o[a+5]=0,o[a+6]=o[a+12]=s,o[a+7]=o[a+13]=u,o[a+8]=o[a+14]=0,o[a+15]=s,o[a+16]=c,o[a+17]=0,Promise.resolve({closet:{positions:new Float32Array(o),normals:Yc.flat(o),uvs:Xc.architectural(o),material:"closet"}})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},tl=function(e,t,r){r=r||2;var i=t&&t.length,n=i?t[0]*r:e.length,o=ee(e,$(e,0,n,r,!0)),a=[];if(!o)return a;var s,c,l,u,p,f,d;if(i&&(o=function(e,t,r,i){var n,o,a,s,c,l=[];for(n=0,o=t.length;n<o;n++)a=t[n]*i,s=n<o-1?t[n+1]*i:e.length,(c=$(e,a,s,i,!1))===c.next&&(c.steiner=!0),(c=ee(e,c))&&l.push(function(e,t){var r=t,i=t;do{e[r.i]<e[i.i]&&(i=r),r=r.next}while(r!==t);return i}(e,c));for(l.sort(function(t,r){return e[t.i]-e[r.i]}),n=0;n<l.length;n++)(function(e,t,r){if(r=function(e,t,r){var i,n,o,a=r,s=t.i,c=e[s],l=e[s+1],u=-1/0;do{if(n=a.i,o=a.next.i,l<=e[n+1]&&l>=e[o+1]){var p=e[n]+(l-e[n+1])*(e[o]-e[n])/(e[o+1]-e[n+1]);p<=c&&p>u&&(u=p,i=e[n]<e[o]?a:a.next)}a=a.next}while(a!==r);if(!i)return null;var f,d,h,m,g,b,v=e[i.i],y=e[i.i+1],_=c*y-l*v,w=c*l-l*u,x=l-l,C=c-u,S=l-y,j=v-c,k=_-w-(u*y-l*v),P=k<=0?-1:1,A=i,E=1/0;for(a=i.next;a!==A;)f=e[a.i],d=e[a.i+1],(h=c-f)>=0&&f>=v&&(m=(x*f+C*d-w)*P)>=0&&(g=(S*f+j*d+_)*P)>=0&&k*P-m-g>=0&&(b=Math.abs(l-d)/h)<E&&oe(e,a,t)&&(i=a,E=b),a=a.next;return i}(e,t,r)){var i=ae(r,t);ee(e,i,i.next)}})(e,l[n],r),r=ee(e,r,r.next);return r}(e,t,o,r)),e.length>80*r){s=l=e[0],c=u=e[1];for(var h=r;h<n;h+=r)p=e[h],f=e[h+1],p<s&&(s=p),f<c&&(c=f),p>l&&(l=p),f>u&&(u=f);d=Math.max(l-s,u-c)}return te(e,o,a,r,s,c,d),a},rl=function(e){var t,r,i,n,o,a=e.outline,s=e.holes,c=e.uvx||0,l=e.uvz||0,u=e.y||0,p=!!e.flipSide;if(4!==a.length||void 0!==s&&0!==s.length)if(s&&s.length>0){var f=new Array(s.length);for(t=0,r=s.length;t<r;t++)f[t]=a.length/2,a=a.concat(s[t]);o=tl(a,f)}else o=tl(a);else o=[1,0,3,3,2,1];var d=new Float32Array(3*o.length),h=new Float32Array(2*o.length);if(p)for(t=0,r=o.length;t<r;t+=3)n=2*t,d[i=3*t]=a[2*o[t+2]],d[i+1]=u,d[i+2]=a[2*o[t+2]+1],d[i+3]=a[2*o[t]],d[i+4]=u,d[i+5]=a[2*o[t]+1],d[i+6]=a[2*o[t+1]],d[i+7]=u,d[i+8]=a[2*o[t+1]+1],h[n]=a[2*o[t+2]+1]+l,h[n+1]=a[2*o[t+2]]+c,h[n+2]=a[2*o[t]+1]+l,h[n+3]=a[2*o[t]]+c,h[n+4]=a[2*o[t+1]+1]+l,h[n+5]=a[2*o[t+1]]+c;else for(t=0,r=o.length;t<r;t+=3)n=2*t,d[i=3*t]=a[2*o[t+2]],d[i+1]=u,d[i+2]=a[2*o[t+2]+1],d[i+3]=a[2*o[t+1]],d[i+4]=u,d[i+5]=a[2*o[t+1]+1],d[i+6]=a[2*o[t]],d[i+7]=u,d[i+8]=a[2*o[t]+1],h[n]=a[2*o[t+2]+1]+l,h[n+1]=a[2*o[t+2]]+c,h[n+2]=a[2*o[t+1]+1]+l,h[n+3]=a[2*o[t+1]]+c,h[n+4]=a[2*o[t]+1]+l,h[n+5]=a[2*o[t]]+c;return{vertices:d,uvs:h}},il=function(e){var t,r=e.outline,i=e.y||1,n=!!e.flipSide,o=e.isOpenOutline||!1,a=r.length,s=new Float32Array(9*a),c=new Float32Array(6*a);if(n)for(o||(s[0]=r[a-2],s[1]=0,s[2]=r[a-1],s[3]=r[a-2],s[4]=i,s[5]=r[a-1],s[6]=r[0],s[7]=0,s[8]=r[1],s[9]=r[a-2],s[10]=i,s[11]=r[a-1],s[12]=r[0],s[13]=i,s[14]=r[1],s[15]=r[0],s[16]=0,s[17]=r[1],t=le(r[a-2],r[a-1],r[0],r[1]),c[0]=0,c[1]=0,c[2]=0,c[3]=i,c[4]=t,c[5]=0,c[6]=0,c[7]=i,c[8]=t,c[9]=i,c[10]=t,c[11]=0),l=2;l<a;l+=2)s[9*l]=r[l-2],s[9*l+1]=0,s[9*l+2]=r[l-1],s[9*l+3]=r[l-2],s[9*l+4]=i,s[9*l+5]=r[l-1],s[9*l+6]=r[l],s[9*l+7]=0,s[9*l+8]=r[l+1],s[9*l+9]=r[l-2],s[9*l+10]=i,s[9*l+11]=r[l-1],s[9*l+12]=r[l],s[9*l+13]=i,s[9*l+14]=r[l+1],s[9*l+15]=r[l],s[9*l+16]=0,s[9*l+17]=r[l+1],t=le(r[l-2],r[l-1],r[l],r[l+1]),c[6*l]=0,c[6*l+1]=0,c[6*l+2]=0,c[6*l+3]=i,c[6*l+4]=t,c[6*l+5]=0,c[6*l+6]=0,c[6*l+7]=i,c[6*l+8]=t,c[6*l+9]=i,c[6*l+10]=t,c[6*l+11]=0;else{o||(s[0]=r[a-2],s[1]=0,s[2]=r[a-1],s[3]=r[0],s[4]=0,s[5]=r[1],s[6]=r[a-2],s[7]=i,s[8]=r[a-1],s[9]=r[a-2],s[10]=i,s[11]=r[a-1],s[12]=r[0],s[13]=0,s[14]=r[1],s[15]=r[0],s[16]=i,s[17]=r[1],t=le(r[a-2],r[a-1],r[0],r[1]),c[0]=0,c[1]=0,c[2]=t,c[3]=0,c[4]=0,c[5]=i,c[6]=0,c[7]=i,c[8]=t,c[9]=0,c[10]=t,c[11]=i);for(var l=2;l<a;l+=2)s[9*l]=r[l-2],s[9*l+1]=0,s[9*l+2]=r[l-1],s[9*l+3]=r[l],s[9*l+4]=0,s[9*l+5]=r[l+1],s[9*l+6]=r[l-2],s[9*l+7]=i,s[9*l+8]=r[l-1],s[9*l+9]=r[l-2],s[9*l+10]=i,s[9*l+11]=r[l-1],s[9*l+12]=r[l],s[9*l+13]=0,s[9*l+14]=r[l+1],s[9*l+15]=r[l],s[9*l+16]=i,s[9*l+17]=r[l+1],t=le(r[l-2],r[l-1],r[l],r[l+1]),c[6*l]=0,c[6*l+1]=0,c[6*l+2]=t,c[6*l+3]=0,c[6*l+4]=0,c[6*l+5]=i,c[6*l+6]=0,c[6*l+7]=i,c[6*l+8]=t,c[6*l+9]=0,c[6*l+10]=t,c[6*l+11]=i}return{vertices:s,uvs:c}},nl={schema:G("column"),init:function(){},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.materials=J(r),function(e){return e.materials=Jc(e.materials,{top:"wall_top",side:"basic-wall"}),Promise.all([function(e){var t=[],r=[],i=e.l/2,n=e.shape,o=4;"circle"===n&&(o=Math.max(Math.floor(i*Math.PI*2/.1),12));var a=2*Math.PI/o;"square"===n&&(i/=Math.cos(a/2));for(var s,c,l,u,p=Math.tan(a/2)*i*2,f=0,d=0;d<2*o;d+=2)t[d]=Math.sin(a*d/2-a/2)*i,t[d+1]=Math.cos(a*d/2-a/2)*i,s=d/2*p,c=e.h,l=0,u=(d/2+1)*p,r[f]=s,r[f+1]=l,r[f+2]=u,r[f+3]=l,r[f+4]=s,r[f+5]=c,r[f+6]=s,r[f+7]=c,r[f+8]=u,r[f+9]=l,r[f+10]=u,r[f+11]=c,f+=12;var h,m=rl({outline:t,y:e.h,uvx:e.x,uvz:e.z,flipSide:!1}),g=rl({outline:t,y:0,uvx:e.x,uvz:e.z,flipSide:!0}),b=il({outline:t,y:e.h,flipSide:!1});return h="circle"===n?Yc.smooth(b.vertices):Yc.flat(b.vertices),Promise.resolve({top:{positions:m.vertices,normals:Yc.flat(m.vertices),uvs:m.uvs,material:"top"},sides:{positions:b.vertices,normals:h,uvs:new Float32Array(r),material:"side"},bottom:{positions:g.vertices,normals:Yc.flat(g.vertices),uvs:g.uvs,material:"side"}})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},ol={schema:G("door"),init:function(){var e=this;this.el.parentEl.addEventListener("wall-changed",this.updateFromWall),setTimeout(function(){e.updateFromWall()},20)},updateFromWall:function(e){var t={};if(e)t.w=e.detail.w,t.controlLine=e.detail.controlLine;else{var r=this.el.parentEl.getAttribute("io3d-wall");r&&("string"==typeof r&&(r=AFRAME.utils.styleParser.parse(r)),t.w=r.w,t.controlLine=r.controlLine)}this.update(t)},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.w=this.wallWidth,i.materials=J(r),function(e,t){return e.materials=Jc(e.materials,{frame:{colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30},leaf:"doorLeaf-flush-white",handle:"aluminium",threshold:"wood_parquet_oak"}),Promise.all([function(e,t){var r=e.w||.15,i="back";t&&(t.w||t.controlLine)&&(r=t.w,i=t.controlLine,e.w=r);var n,o,a,s,c,l,u,p,f,d,h,m,g,b,v,y,_,w,x,C,S,j,k,P,A,E="front"===i?-r:"center"===i?-r/2:0,T=r+E,I=e.frameLength,F=r,R=e.l-2*I,D=e.leafOffset,N=e.frameOffset,M=0,O=e.doorType,z=e.threshold,L=e.thresholdHeight,V=e.l-2*I,B=z&&L?L:.005,W=0,H=z?L>0?6:2:0,U=0,Z=0,G=0,q=0,K=0,Y=[];"singleSwing"===O?n=[{leafLength:R,handle:!0,angle:e.doorAngle}]:"opening"===O?n=[]:"doubleSwing"===O?n=[{leafLength:R/2,handle:!0,angle:e.doorAngle},{leafLength:R/2,handle:!0,angle:e.doorAngle,flipLeaf:!0}]:"swingFix"===O?(n=[{leafLength:V*(1-e.fixLeafRatio),handle:!0,angle:e.doorAngle},{leafLength:V*e.fixLeafRatio,handle:!1,angle:0}],"left"===e.hinge&&n.reverse()):"swingDoubleFix"===O?(n=[{leafLength:V*e.fixLeafRatio/2,handle:!1,angle:0},{leafLength:V*(1-e.fixLeafRatio),handle:!0,angle:e.doorAngle},{leafLength:V*e.fixLeafRatio/2,handle:!1,angle:0}],"left"===e.hinge&&n.reverse()):"doubleSwingDoubleFix"===O?n=[{leafLength:V*e.fixLeafRatio/2,handle:!1,angle:0},{leafLength:V*((1-e.fixLeafRatio)/2),handle:!0,angle:e.doorAngle},{leafLength:V*((1-e.fixLeafRatio)/2),handle:!0,angle:e.doorAngle,flipLeaf:!0},{leafLength:V*e.fixLeafRatio/2,handle:!1,angle:0}]:"slidingDoor"===O?(n=[{leafLength:R*(1-e.doorAngle/180),handle:!1,angle:0}],D=-.1,"left"===e.hinge&&(K=V-R*(1-e.doorAngle/180))):(e.doorType="singleSwing",n=[{leafLength:R,handle:!0,angle:e.doorAngle}]),D>.005&&(D=.005),I>0&&(W+=18,N>0&&(W+=12));var X=[],Q=[],J=[],$=new Float32Array(9*W),ee=new Float32Array(9*H),te=new Float32Array(6*H),re=0,ie=0;g=I,b=L,v=T,y=0,_=e.l-I,S=E,z&&(ee[re]=ee[re+9]=g,ee[re+1]=ee[re+10]=b,ee[re+2]=ee[re+11]=S,ee[re+3]=g,ee[re+4]=b,ee[re+5]=v,ee[re+6]=ee[re+12]=_,ee[re+7]=ee[re+13]=b,ee[re+8]=ee[re+14]=v,ee[re+15]=_,ee[re+16]=b,ee[re+17]=S,te[ie]=te[ie+2]=te[ie+6]=1-_,te[ie+1]=te[ie+7]=te[ie+11]=v,te[ie+3]=te[ie+5]=te[ie+9]=0,te[ie+4]=te[ie+8]=te[ie+10]=1,re+=18,ie+=12,L>0&&(ee[re]=ee[re+9]=g,ee[re+1]=ee[re+10]=b,ee[re+2]=ee[re+11]=v,ee[re+3]=g,ee[re+4]=y,ee[re+5]=v,ee[re+6]=ee[re+12]=_,ee[re+7]=ee[re+13]=y,ee[re+8]=ee[re+14]=v,ee[re+15]=_,ee[re+16]=b,ee[re+17]=v,te[ie]=te[ie+2]=te[ie+6]=1-_,te[ie+1]=te[ie+7]=te[ie+11]=L,te[ie+3]=te[ie+5]=te[ie+9]=0,te[ie+4]=te[ie+8]=te[ie+10]=1,ie+=12,ee[re+=18]=ee[re+9]=_,ee[re+1]=ee[re+10]=b,ee[re+2]=ee[re+11]=S,ee[re+3]=_,ee[re+4]=y,ee[re+5]=S,ee[re+6]=ee[re+12]=g,ee[re+7]=ee[re+13]=y,ee[re+8]=ee[re+14]=S,ee[re+15]=g,ee[re+16]=b,ee[re+17]=S,te[ie]=te[ie+2]=te[ie+6]=1-_,te[ie+1]=te[ie+7]=te[ie+11]=L,te[ie+3]=te[ie+5]=te[ie+9]=0,te[ie+4]=te[ie+8]=te[ie+10]=1)),I>0&&(g=0,b=e.h,v=T+N,y=0,_=I,x=e.h-I,C=e.l-I,j=e.l,k=T,P=E-N,A=E,$[Z]=$[Z+9]=g,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=v,$[Z+3]=g,$[Z+4]=y,$[Z+5]=v,$[Z+6]=$[Z+12]=_,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=v,$[Z+15]=_,$[Z+16]=x,$[Z+17]=v,$[Z+=18]=$[Z+9]=g,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=v,$[Z+3]=_,$[Z+4]=x,$[Z+5]=v,$[Z+6]=$[Z+12]=C,$[Z+7]=$[Z+13]=x,$[Z+8]=$[Z+14]=v,$[Z+15]=j,$[Z+16]=b,$[Z+17]=v,$[Z+=18]=$[Z+9]=C,$[Z+1]=$[Z+10]=x,$[Z+2]=$[Z+11]=v,$[Z+3]=C,$[Z+4]=y,$[Z+5]=v,$[Z+6]=$[Z+12]=j,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=v,$[Z+15]=j,$[Z+16]=b,$[Z+17]=v,$[Z+=18]=$[Z+9]=j,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=P,$[Z+3]=j,$[Z+4]=y,$[Z+5]=P,$[Z+6]=$[Z+12]=C,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=P,$[Z+15]=C,$[Z+16]=x,$[Z+17]=P,$[Z+=18]=$[Z+9]=j,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=P,$[Z+3]=C,$[Z+4]=x,$[Z+5]=P,$[Z+6]=$[Z+12]=_,$[Z+7]=$[Z+13]=x,$[Z+8]=$[Z+14]=P,$[Z+15]=g,$[Z+16]=b,$[Z+17]=P,$[Z+=18]=$[Z+9]=_,$[Z+1]=$[Z+10]=x,$[Z+2]=$[Z+11]=P,$[Z+3]=_,$[Z+4]=y,$[Z+5]=P,$[Z+6]=$[Z+12]=g,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=P,$[Z+15]=g,$[Z+16]=b,$[Z+17]=P,$[Z+=18]=$[Z+9]=_,$[Z+1]=$[Z+10]=x,$[Z+2]=$[Z+11]=v,$[Z+3]=_,$[Z+4]=y,$[Z+5]=v,$[Z+6]=$[Z+12]=_,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=P,$[Z+15]=_,$[Z+16]=x,$[Z+17]=P,$[Z+=18]=$[Z+9]=_,$[Z+1]=$[Z+10]=x,$[Z+2]=$[Z+11]=v,$[Z+3]=_,$[Z+4]=x,$[Z+5]=P,$[Z+6]=$[Z+12]=C,$[Z+7]=$[Z+13]=x,$[Z+8]=$[Z+14]=P,$[Z+15]=C,$[Z+16]=x,$[Z+17]=v,$[Z+=18]=$[Z+9]=C,$[Z+1]=$[Z+10]=x,$[Z+2]=$[Z+11]=P,$[Z+3]=C,$[Z+4]=y,$[Z+5]=P,$[Z+6]=$[Z+12]=C,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=v,$[Z+15]=C,$[Z+16]=x,$[Z+17]=v,Z+=18,N>0&&($[Z]=$[Z+9]=g,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=k,$[Z+3]=g,$[Z+4]=y,$[Z+5]=k,$[Z+6]=$[Z+12]=g,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=v,$[Z+15]=g,$[Z+16]=b,$[Z+17]=v,$[Z+=18]=$[Z+9]=g,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=k,$[Z+3]=g,$[Z+4]=b,$[Z+5]=v,$[Z+6]=$[Z+12]=j,$[Z+7]=$[Z+13]=b,$[Z+8]=$[Z+14]=v,$[Z+15]=j,$[Z+16]=b,$[Z+17]=k,$[Z+=18]=$[Z+9]=j,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=v,$[Z+3]=j,$[Z+4]=y,$[Z+5]=v,$[Z+6]=$[Z+12]=j,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=k,$[Z+15]=j,$[Z+16]=b,$[Z+17]=k,$[Z+=18]=$[Z+9]=j,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=A,$[Z+3]=j,$[Z+4]=y,$[Z+5]=A,$[Z+6]=$[Z+12]=j,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=P,$[Z+15]=j,$[Z+16]=b,$[Z+17]=P,$[Z+=18]=$[Z+9]=j,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=A,$[Z+3]=j,$[Z+4]=b,$[Z+5]=P,$[Z+6]=$[Z+12]=g,$[Z+7]=$[Z+13]=b,$[Z+8]=$[Z+14]=P,$[Z+15]=g,$[Z+16]=b,$[Z+17]=A,$[Z+=18]=$[Z+9]=g,$[Z+1]=$[Z+10]=b,$[Z+2]=$[Z+11]=P,$[Z+3]=g,$[Z+4]=y,$[Z+5]=P,$[Z+6]=$[Z+12]=g,$[Z+7]=$[Z+13]=y,$[Z+8]=$[Z+14]=A,$[Z+15]=g,$[Z+16]=b,$[Z+17]=A));for(var ne=0;ne<n.length;ne++){if(u=X.length,R=n[ne].leafLength,M=0,ne>1?M=n[ne-1].leafLength+n[ne-2].leafLength:ne>0&&(M=n[ne-1].leafLength),g=K+I,b=e.h-I,v=E+e.leafWidth-D-N,y=B,_=K+I+R,S=E-D-N,X[G]=X[G+3]=X[G+9]=g,X[G+1]=X[G+10]=X[G+16]=b,X[G+2]=X[G+5]=X[G+11]=v,X[G+4]=X[G+7]=X[G+13]=y,X[G+6]=X[G+12]=X[G+15]=_,X[G+8]=X[G+14]=X[G+17]=v,"left"===e.hinge?J[q]=J[q+2]=J[q+6]=K/V:J[q]=J[q+2]=J[q+6]=-K/V,J[q+1]=J[q+7]=J[q+11]=1,J[q+3]=J[q+5]=J[q+9]=0,"left"===e.hinge?J[q+4]=J[q+8]=J[q+10]=(K+R)/V:J[q+4]=J[q+8]=J[q+10]=-(K+R)/V,G+=18,q+=12,X[G]=X[G+3]=X[G+9]=_,X[G+1]=X[G+10]=X[G+16]=b,X[G+2]=X[G+5]=X[G+11]=S,X[G+4]=X[G+7]=X[G+13]=y,X[G+6]=X[G+12]=X[G+15]=g,X[G+8]=X[G+14]=X[G+17]=S,"right"===e.hinge?J[q]=J[q+2]=J[q+6]=-K/V:J[q]=J[q+2]=J[q+6]=K/V,J[q+1]=J[q+7]=J[q+11]=1,J[q+3]=J[q+5]=J[q+9]=0,"right"===e.hinge?J[q+4]=J[q+8]=J[q+10]=-(K+R)/V:J[q+4]=J[q+8]=J[q+10]=(K+R)/V,G+=18,q+=12,X[G]=X[G+9]=g,X[G+1]=X[G+10]=b,X[G+2]=X[G+11]=S,X[G+3]=g,X[G+4]=b,X[G+5]=v,X[G+6]=X[G+12]=_,X[G+7]=X[G+13]=b,X[G+8]=X[G+14]=v,X[G+15]=_,X[G+16]=b,X[G+17]=S,J[q]=J[q+2]=J[q+6]=0,J[q+1]=J[q+7]=J[q+11]=1,J[q+3]=J[q+5]=J[q+9]=0,J[q+4]=J[q+8]=J[q+10]=.05,G+=18,q+=12,X[G]=X[G+9]=_,X[G+1]=X[G+10]=b,X[G+2]=X[G+11]=v,X[G+3]=_,X[G+4]=y,X[G+5]=v,X[G+6]=X[G+12]=_,X[G+7]=X[G+13]=y,X[G+8]=X[G+14]=S,X[G+15]=_,X[G+16]=b,X[G+17]=S,J[q]=J[q+2]=J[q+6]=0,J[q+1]=J[q+7]=J[q+11]=1,J[q+3]=J[q+5]=J[q+9]=0,J[q+4]=J[q+8]=J[q+10]=.05,G+=18,q+=12,X[G]=X[G+9]=g,X[G+1]=X[G+10]=b,X[G+2]=X[G+11]=S,X[G+3]=g,X[G+4]=y,X[G+5]=S,X[G+6]=X[G+12]=g,X[G+7]=X[G+13]=y,X[G+8]=X[G+14]=v,X[G+15]=g,X[G+16]=b,X[G+17]=v,J[q]=J[q+2]=J[q+6]=0,J[q+1]=J[q+7]=J[q+11]=1,J[q+3]=J[q+5]=J[q+9]=0,J[q+4]=J[q+8]=J[q+10]=.05,G+=18,q+=12,p=X.length,n[ne].handle){g=K+I+R-.06-.13,b=1,v=(o=E-D-N)+e.leafWidth+.035+.018*.6,y=.982,_=K+I+R-.06,w=o+e.leafWidth+.035+.018,S=o+e.leafWidth+.035,j=K+I+R-.06-.018,k=o+e.leafWidth;var oe;if(f=Q.length,"knob"===e.handleType)for(Q=Q.concat([.025203,-.091811,-1.094472e-8,.025203,-.091811,.007999989,.0265,-.1,.007999988,.0025,-.099188,.007999988,.0025,-.1,.007999988,.0265,-.1,.007999988,.025203,-.091811,-1.094472e-8,.021439,-.084424,-1.006412e-8,.021439,-.084424,.00799999,.015576,-.078561,-9.365201e-9,.015576,-.078561,.007999991,.021439,-.084424,.00799999,.008189,-.074797,-8.916497e-9,.008189,-.074797,.007999991,.015576,-.078561,.007999991,0,-.0735,.007999992,.008189,-.074797,.007999991,.008189,-.074797,-8.916497e-9,.0025,-.0875,.00799999,.0025,-.092306,.007999989,.008189,-.074797,.007999991,-.008189,-.074797,-8.916497e-9,-.008189,-.074797,.007999991,0,-.0735,.007999992,-.015576,-.078561,.007999991,-.008189,-.074797,.007999991,-.008189,-.074797,-8.916497e-9,-.021439,-.084424,.00799999,-.015576,-.078561,.007999991,-.015576,-.078561,-9.365201e-9,-.025203,-.091811,.007999989,-.021439,-.084424,.00799999,-.021439,-.084424,-1.006412e-8,-.0025,-.098184,.007999988,-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,-.025203,-.091811,.007999989,-.025203,-.091811,-1.094472e-8,-.025203,-.108189,.007999987,-.0265,-.1,.007999988,-.0265,-.1,-1.192093e-8,-.021439,-.115576,.007999986,-.025203,-.108189,.007999987,-.025203,-.108189,-1.289713e-8,-.0025,-.101816,.007999988,-.0025,-.100812,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,.007999985,-.021439,-.115576,.007999986,-.021439,-.115576,-1.377773e-8,-.008189,-.125203,.007999985,-.015576,-.121439,.007999985,-.015576,-.121439,-1.447666e-8,0,-.1265,.007999985,-.008189,-.125203,.007999985,-.008189,-.125203,-1.492536e-8,.008189,-.125203,.007999985,0,-.1265,.007999985,0,-.1265,-1.507997e-8,.0025,-.1125,.007999987,0,-.1125,.007999987,0,-.1265,.007999985,.008189,-.125203,.007999985,.0025,-.107694,.007999987,.0025,-.1125,.007999987,.015576,-.121439,.007999985,.008189,-.125203,.007999985,.008189,-.125203,-1.492536e-8,.0025,-.107694,.007999987,.008189,-.125203,.007999985,.015576,-.121439,.007999985,.021439,-.115576,.007999986,.015576,-.121439,.007999985,.015576,-.121439,-1.447666e-8,.025203,-.108189,.007999987,.021439,-.115576,.007999986,.021439,-.115576,-1.377773e-8,.0265,-.1,.007999988,.025203,-.108189,.007999987,.025203,-.108189,-1.289713e-8,-.021439,-.115576,.007999986,-.015576,-.121439,.007999985,-.0025,-.103441,.007999988,.0025,-.098184,.007999988,.0025,-.099188,.007999988,.025203,-.091811,.007999989,-.0025,-.100812,.007999988,-.0025,-.1,.007999988,-.0265,-.1,.007999988,-.008189,-.074797,.007999991,-.0025,-.092306,.007999989,-.0025,-.0875,.00799999,-.015576,-.121439,.007999985,-.008189,-.125203,.007999985,-.0025,-.107694,.007999987,-.0025,-.096559,.007999989,-.015576,-.078561,.007999991,-.021439,-.084424,.00799999,-.0265,-.1,.007999988,-.0025,-.1,.007999988,-.0025,-.099188,.007999988,-.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.092306,.007999989,-.008189,-.074797,.007999991,-.015576,-.078561,.007999991,-.0025,-.1125,.0008419866,.0025,-.1125,.0008419866,.0025,-.0875,.0008419896,0,-.1125,.007999987,.0025,-.1125,.007999987,.0025,-.1125,.0008419866,.0025,-.101816,.007999988,.021439,-.115576,.007999986,.025203,-.108189,.007999987,-.0025,-.1125,.007999987,-.0025,-.107694,.007999987,-.008189,-.125203,.007999985,.0025,-.1,.007999988,.0025,-.1125,.0008419866,.0025,-.100812,.007999988,-.0025,-.0875,.0008419896,-.0025,-.098184,.007999988,-.0025,-.099188,.007999988,.0265,-.1,.007999988,.0025,-.1,.007999988,.0025,-.100812,.007999988,0,-.0875,.00799999,-.0025,-.0875,.00799999,-.0025,-.0875,.0008419896,0,-.1265,.007999985,0,-.1125,.007999987,-.0025,-.1125,.007999987,.0025,-.103441,.007999988,.015576,-.121439,.007999985,.021439,-.115576,.007999986,0,-.0735,.007999992,0,-.0875,.00799999,.0025,-.0875,.00799999,.021439,-.084424,.00799999,.015576,-.078561,.007999991,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.008189,-.074797,.007999991,.0025,-.092306,.007999989,-.010141,.024483,.033,0,.0265,.033,0,.009999997,.033,.0265,-4.53789e-9,.049,.024483,-.010141,.049,.024483,-.010141,.033,-.010141,-.024483,.033,-.018738,-.018738,.033,-.007071,-.007071002,.033,0,-.0265,.033,0,-.0265,.049,-.010141,-.024483,.049,-.007071,-.007071002,.033,-.018738,-.018738,.033,-.024483,-.010141,.033,-.024483,-.010141,.033,-.0265,-2.630541e-9,.033,-.01,-2.630541e-9,.033,.010141,.024483,.033,.018738,.018738,.033,.007071,.007070998,.033,0,.009999997,.033,0,.0265,.033,.010141,.024483,.033,.018738,.018738,.04900001,0,-4.53789e-9,.049,.024483,.010141,.049,.010141,.024483,.04900001,0,-4.53789e-9,.049,.018738,.018738,.04900001,.024483,-.010141,.033,.024483,-.010141,.049,.018738,-.018738,.049,-.024483,.010141,.049,-.018738,.018738,.04900001,-.018738,.018738,.033,-.0265,-2.630541e-9,.033,-.0265,-4.53789e-9,.049,-.024483,.010141,.049,.024483,-.010141,.033,.018738,-.018738,.033,.007071,-.007071002,.033,-.018738,-.018738,.049,0,-4.53789e-9,.049,-.024483,-.010141,.049,-.010141,-.024483,.049,0,-4.53789e-9,.049,-.018738,-.018738,.049,0,-.01,.033,0,-.0265,.033,-.010141,-.024483,.033,0,-.0265,.049,0,-4.53789e-9,.049,-.010141,-.024483,.049,.0265,-4.53789e-9,.049,0,-4.53789e-9,.049,.024483,-.010141,.049,-.024483,.010141,.033,-.007071,.007070998,.033,-.01,-2.630541e-9,.033,.010141,-.024483,.049,0,-.0265,.049,0,-.0265,.033,-.024483,.010141,.033,-.018738,.018738,.033,-.007071,.007070998,.033,-.010141,.024483,.033,0,.009999997,.033,-.007071,.007070998,.033,.010141,-.024483,.049,0,-4.53789e-9,.049,0,-.0265,.049,.024483,.010141,.049,.0265,-4.53789e-9,.049,.0265,-2.630541e-9,.033,.024483,.010141,.049,0,-4.53789e-9,.049,.0265,-4.53789e-9,.049,.018738,-.018738,.049,.010141,-.024483,.049,.010141,-.024483,.033,.018738,.018738,.033,.018738,.018738,.04900001,.024483,.010141,.049,.018738,-.018738,.049,0,-4.53789e-9,.049,.010141,-.024483,.049,.010141,.024483,.04900001,.018738,.018738,.04900001,.018738,.018738,.033,0,.0265,.04900001,.010141,.024483,.04900001,.010141,.024483,.033,0,.0265,.04900001,0,-4.53789e-9,.049,.010141,.024483,.04900001,.024483,-.010141,.049,0,-4.53789e-9,.049,.018738,-.018738,.049,-.010141,.024483,.04900001,0,.0265,.04900001,0,.0265,.033,-.010141,.024483,.04900001,0,-4.53789e-9,.049,0,.0265,.04900001,.007071,.007070998,.033,.018738,.018738,.033,.024483,.010141,.033,-.010141,.024483,.033,-.018738,.018738,.033,-.018738,.018738,.04900001,-.018738,.018738,.04900001,0,-4.53789e-9,.049,-.010141,.024483,.04900001,.024483,.010141,.033,.0265,-2.630541e-9,.033,.01,-2.630541e-9,.033,-.024483,.010141,.049,0,-4.53789e-9,.049,-.018738,.018738,.04900001,.01,-2.630541e-9,.033,.0265,-2.630541e-9,.033,.024483,-.010141,.033,-.0265,-4.53789e-9,.049,0,-4.53789e-9,.049,-.024483,.010141,.049,-.024483,-.010141,.033,-.024483,-.010141,.049,-.0265,-4.53789e-9,.049,-.024483,-.010141,.049,0,-4.53789e-9,.049,-.0265,-4.53789e-9,.049,.007071,-.007071002,.033,.018738,-.018738,.033,.010141,-.024483,.033,-.018738,-.018738,.049,-.024483,-.010141,.049,-.024483,-.010141,.033,.010141,-.024483,.033,0,-.0265,.033,0,-.01,.033,-.010141,-.024483,.049,-.018738,-.018738,.049,-.018738,-.018738,.033,.025203,.008188999,.008000001,.0265,-9.536744e-10,.008,.0265,0,0,.021439,.015576,.008000002,.025203,.008188999,.008000001,.025203,.008189,9.762049e-10,.007071,.007071001,.008000001,.01,-9.536744e-10,.008,.025203,.008188999,.008000001,.015576,.021439,.008000003,.021439,.015576,.008000002,.021439,.015576,1.856804e-9,.008189,.025203,.008000003,.015576,.021439,.008000003,.015576,.021439,2.555728e-9,0,.0265,.008000003,.008189,.025203,.008000003,.008189,.025203,3.004432e-9,-.008189,.025203,.008000003,0,.0265,.008000003,0,.0265,3.159046e-9,-.015576,.021439,.008000003,-.008189,.025203,.008000003,-.008189,.025203,3.004432e-9,-.021439,.015576,.008000002,-.015576,.021439,.008000003,-.015576,.021439,2.555728e-9,-.025203,.008188999,.008000001,-.021439,.015576,.008000002,-.021439,.015576,1.856804e-9,-.0265,0,0,-.0265,-9.536744e-10,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.0265,-9.536744e-10,.008,-.0265,0,0,-.021439,-.015576,.007999999,-.025203,-.008189001,.007999999,-.025203,-.008189,-9.762049e-10,-.015576,-.021439,.007999998,-.021439,-.015576,.007999999,-.021439,-.015576,-1.856804e-9,-.008189,-.025203,.007999998,-.015576,-.021439,.007999998,-.015576,-.021439,-2.555728e-9,0,-.0265,.007999998,-.008189,-.025203,.007999998,-.008189,-.025203,-3.004432e-9,.008189,-.025203,.007999998,0,-.0265,.007999998,0,-.0265,-3.159046e-9,.015576,-.021439,.007999998,.008189,-.025203,.007999998,.008189,-.025203,-3.004432e-9,.021439,-.015576,-1.856804e-9,.021439,-.015576,.007999999,.015576,-.021439,.007999998,.025203,-.008189001,.007999999,.021439,-.015576,.007999999,.021439,-.015576,-1.856804e-9,.0265,-9.536744e-10,.008,.025203,-.008189001,.007999999,.025203,-.008189,-9.762049e-10,.007071,.007070998,.033,.01,-2.630541e-9,.033,.01,-9.536744e-10,.008,0,.009999997,.033,.007071,.007070998,.033,.007071,.007071001,.008000001,-.007071,.007071,.008,-.007071,.007070998,.033,0,.009999997,.033,-.01,-2.630541e-9,.033,-.007071,.007070998,.033,-.007071,.007071,.008,-.007071,-.007071002,.033,-.01,-2.630541e-9,.033,-.01,-1.186505e-9,.008,0,-.01,.007999999,0,-.01,.033,-.007071,-.007071002,.033,.007071,-.007071,.007999999,.007071,-.007071002,.033,0,-.01,.033,.01,-9.536744e-10,.008,.01,-2.630541e-9,.033,.007071,-.007071002,.033,.0265,-9.536744e-10,.008,.025203,.008188999,.008000001,.01,-9.536744e-10,.008,.021439,.015576,.008000002,.015576,.021439,.008000003,.007071,.007071001,.008000001,.008189,.025203,.008000003,0,.01,.008000001,.007071,.007071001,.008000001,.008189,.025203,.008000003,0,.0265,.008000003,0,.01,.008000001,-.008189,.025203,.008000003,-.007071,.007071,.008,0,.01,.008000001,-.008189,.025203,.008000003,-.015576,.021439,.008000003,-.007071,.007071,.008,-.021439,.015576,.008000002,-.007071,.007071,.008,-.015576,.021439,.008000003,-.025203,.008188999,.008000001,-.01,-1.186505e-9,.008,-.007071,.007071,.008,-.0265,-9.536744e-10,.008,-.01,-1.186505e-9,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.007071,-.007071,.007999999,-.01,-1.186505e-9,.008,-.021439,-.015576,.007999999,-.007071,-.007071,.007999999,-.025203,-.008189001,.007999999,-.021439,-.015576,.007999999,-.015576,-.021439,.007999998,-.007071,-.007071,.007999999,-.008189,-.025203,.007999998,0,-.01,.007999999,-.007071,-.007071,.007999999,-.008189,-.025203,.007999998,0,-.0265,.007999998,0,-.01,.007999999,.008189,-.025203,.007999998,0,-.01,.007999999,0,-.0265,.007999998,.008189,-.025203,.007999998,.015576,-.021439,.007999998,.007071,-.007071,.007999999,.021439,-.015576,.007999999,.007071,-.007071,.007999999,.015576,-.021439,.007999998,.021439,-.015576,.007999999,.025203,-.008189001,.007999999,.007071,-.007071,.007999999,.01,-9.536744e-10,.008,.007071,-.007071,.007999999,.025203,-.008189001,.007999999,.0265,-.1,-1.192093e-8,.025203,-.091811,-1.094472e-8,.0265,-.1,.007999988,.025203,-.091811,.007999989,.0025,-.099188,.007999988,.0265,-.1,.007999988,.025203,-.091811,.007999989,.025203,-.091811,-1.094472e-8,.021439,-.084424,.00799999,.021439,-.084424,-1.006412e-8,.015576,-.078561,-9.365201e-9,.021439,-.084424,.00799999,.015576,-.078561,-9.365201e-9,.008189,-.074797,-8.916497e-9,.015576,-.078561,.007999991,0,-.0735,-8.761883e-9,0,-.0735,.007999992,.008189,-.074797,-8.916497e-9,0,-.0735,-8.761883e-9,-.008189,-.074797,-8.916497e-9,0,-.0735,.007999992,-.015576,-.078561,-9.365201e-9,-.015576,-.078561,.007999991,-.008189,-.074797,-8.916497e-9,-.021439,-.084424,-1.006412e-8,-.021439,-.084424,.00799999,-.015576,-.078561,-9.365201e-9,-.025203,-.091811,-1.094472e-8,-.025203,-.091811,.007999989,-.021439,-.084424,-1.006412e-8,-.0025,-.099188,.007999988,-.0025,-.098184,.007999988,-.025203,-.091811,.007999989,-.0265,-.1,-1.192093e-8,-.0265,-.1,.007999988,-.025203,-.091811,-1.094472e-8,-.025203,-.108189,-1.289713e-8,-.025203,-.108189,.007999987,-.0265,-.1,-1.192093e-8,-.021439,-.115576,-1.377773e-8,-.021439,-.115576,.007999986,-.025203,-.108189,-1.289713e-8,-.021439,-.115576,.007999986,-.0025,-.101816,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,-1.447666e-8,-.015576,-.121439,.007999985,-.021439,-.115576,-1.377773e-8,-.008189,-.125203,-1.492536e-8,-.008189,-.125203,.007999985,-.015576,-.121439,-1.447666e-8,0,-.1265,-1.507997e-8,0,-.1265,.007999985,-.008189,-.125203,-1.492536e-8,.008189,-.125203,-1.492536e-8,.008189,-.125203,.007999985,0,-.1265,-1.507997e-8,.008189,-.125203,.007999985,.0025,-.1125,.007999987,0,-.1265,.007999985,.015576,-.121439,-1.447666e-8,.015576,-.121439,.007999985,.008189,-.125203,-1.492536e-8,.0025,-.103441,.007999988,.0025,-.107694,.007999987,.015576,-.121439,.007999985,.021439,-.115576,-1.377773e-8,.021439,-.115576,.007999986,.015576,-.121439,-1.447666e-8,.025203,-.108189,-1.289713e-8,.025203,-.108189,.007999987,.021439,-.115576,-1.377773e-8,.0265,-.1,-1.192093e-8,.0265,-.1,.007999988,.025203,-.108189,-1.289713e-8,-.0025,-.101816,.007999988,-.021439,-.115576,.007999986,-.0025,-.103441,.007999988,.021439,-.084424,.00799999,.0025,-.098184,.007999988,.025203,-.091811,.007999989,-.025203,-.108189,.007999987,-.0025,-.100812,.007999988,-.0265,-.1,.007999988,-.0025,-.103441,.007999988,-.015576,-.121439,.007999985,-.0025,-.107694,.007999987,-.0025,-.098184,.007999988,-.0025,-.096559,.007999989,-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,-.0025,-.099188,.007999988,-.008189,-.074797,.007999991,-.0025,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.096559,.007999989,-.0025,-.092306,.007999989,-.015576,-.078561,.007999991,-.0025,-.0875,.0008419896,-.0025,-.1125,.0008419866,.0025,-.0875,.0008419896,-.0025,-.1125,.0008419866,-.0025,-.1125,.007999987,0,-.1125,.007999987,0,-.1125,.007999987,.0025,-.1125,.0008419866,-.0025,-.1125,.0008419866,.0025,-.100812,.007999988,.0025,-.101816,.007999988,.025203,-.108189,.007999987,.0025,-.0875,.0008419896,.0025,-.096559,.007999989,.0025,-.092306,.007999989,.0025,-.0875,.0008419896,.0025,-.1,.007999988,.0025,-.098184,.007999988,.0025,-.1125,.0008419866,.0025,-.101816,.007999988,.0025,-.100812,.007999988,.0025,-.1125,.0008419866,.0025,-.1125,.007999987,.0025,-.107694,.007999987,.0025,-.1125,.0008419866,.0025,-.103441,.007999988,.0025,-.101816,.007999988,.0025,-.092306,.007999989,.0025,-.0875,.00799999,.0025,-.0875,.0008419896,.0025,-.0875,.0008419896,.0025,-.1125,.0008419866,.0025,-.1,.007999988,.0025,-.098184,.007999988,.0025,-.096559,.007999989,.0025,-.0875,.0008419896,.0025,-.103441,.007999988,.0025,-.1125,.0008419866,.0025,-.107694,.007999987,-.0025,-.1,.007999988,-.0025,-.1125,.0008419866,-.0025,-.0875,.0008419896,-.0025,-.1125,.0008419866,-.0025,-.103441,.007999988,-.0025,-.107694,.007999987,-.0025,-.107694,.007999987,-.0025,-.1125,.007999987,-.0025,-.1125,.0008419866,-.0025,-.0875,.0008419896,-.0025,-.0875,.00799999,-.0025,-.092306,.007999989,-.0025,-.0875,.0008419896,-.0025,-.096559,.007999989,-.0025,-.098184,.007999988,-.0025,-.0875,.0008419896,-.0025,-.099188,.007999988,-.0025,-.1,.007999988,-.0025,-.1125,.0008419866,-.0025,-.100812,.007999988,-.0025,-.101816,.007999988,-.0025,-.101816,.007999988,-.0025,-.103441,.007999988,-.0025,-.1125,.0008419866,-.0025,-.0875,.0008419896,-.0025,-.092306,.007999989,-.0025,-.096559,.007999989,-.0025,-.1125,.0008419866,-.0025,-.1,.007999988,-.0025,-.100812,.007999988,.025203,-.108189,.007999987,.0265,-.1,.007999988,.0025,-.100812,.007999988,.0025,-.0875,.0008419896,.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0875,.00799999,-.0025,-.0875,.0008419896,.0025,-.0875,.0008419896,-.008189,-.125203,.007999985,0,-.1265,.007999985,-.0025,-.1125,.007999987,.0025,-.101816,.007999988,.0025,-.103441,.007999988,.021439,-.115576,.007999986,.008189,-.074797,.007999991,0,-.0735,.007999992,.0025,-.0875,.00799999,.0025,-.098184,.007999988,.021439,-.084424,.00799999,.0025,-.096559,.007999989,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.0025,-.092306,.007999989,.0265,-2.630541e-9,.033,.0265,-4.53789e-9,.049,.024483,-.010141,.033,-.010141,-.024483,.033,0,-.0265,.033,-.010141,-.024483,.049,-.01,-2.630541e-9,.033,-.007071,-.007071002,.033,-.024483,-.010141,.033,.007071,.007070998,.033,0,.009999997,.033,.010141,.024483,.033,.018738,-.018738,.033,.024483,-.010141,.033,.018738,-.018738,.049,-.024483,.010141,.033,-.024483,.010141,.049,-.018738,.018738,.033,-.024483,.010141,.033,-.0265,-2.630541e-9,.033,-.024483,.010141,.049,-.007071,-.007071002,.033,0,-.01,.033,-.010141,-.024483,.033,-.0265,-2.630541e-9,.033,-.024483,.010141,.033,-.01,-2.630541e-9,.033,.010141,-.024483,.033,.010141,-.024483,.049,0,-.0265,.033,-.018738,.018738,.033,-.010141,.024483,.033,-.007071,.007070998,.033,.024483,.010141,.033,.024483,.010141,.049,.0265,-2.630541e-9,.033,.018738,-.018738,.033,.018738,-.018738,.049,.010141,-.024483,.033,.024483,.010141,.033,.018738,.018738,.033,.024483,.010141,.049,.010141,.024483,.033,.010141,.024483,.04900001,.018738,.018738,.033,0,.0265,.033,0,.0265,.04900001,.010141,.024483,.033,-.010141,.024483,.033,-.010141,.024483,.04900001,0,.0265,.033,.01,-2.630541e-9,.033,.007071,.007070998,.033,.024483,.010141,.033,-.010141,.024483,.04900001,-.010141,.024483,.033,-.018738,.018738,.04900001,.007071,-.007071002,.033,.01,-2.630541e-9,.033,.024483,-.010141,.033,-.0265,-2.630541e-9,.033,-.024483,-.010141,.033,-.0265,-4.53789e-9,.049,0,-.01,.033,.007071,-.007071002,.033,.010141,-.024483,.033,-.018738,-.018738,.033,-.018738,-.018738,.049,-.024483,-.010141,.033,-.010141,-.024483,.033,-.010141,-.024483,.049,-.018738,-.018738,.033,.025203,.008189,9.762049e-10,.025203,.008188999,.008000001,.0265,0,0,.021439,.015576,1.856804e-9,.021439,.015576,.008000002,.025203,.008189,9.762049e-10,.021439,.015576,.008000002,.007071,.007071001,.008000001,.025203,.008188999,.008000001,.015576,.021439,2.555728e-9,.015576,.021439,.008000003,.021439,.015576,1.856804e-9,.008189,.025203,3.004432e-9,.008189,.025203,.008000003,.015576,.021439,2.555728e-9,0,.0265,3.159046e-9,0,.0265,.008000003,.008189,.025203,3.004432e-9,-.008189,.025203,3.004432e-9,-.008189,.025203,.008000003,0,.0265,3.159046e-9,-.015576,.021439,2.555728e-9,-.015576,.021439,.008000003,-.008189,.025203,3.004432e-9,-.021439,.015576,1.856804e-9,-.021439,.015576,.008000002,-.015576,.021439,2.555728e-9,-.025203,.008189,9.762049e-10,-.025203,.008188999,.008000001,-.021439,.015576,1.856804e-9,-.025203,.008189,9.762049e-10,-.0265,0,0,-.025203,.008188999,.008000001,-.025203,-.008189,-9.762049e-10,-.025203,-.008189001,.007999999,-.0265,0,0,-.021439,-.015576,-1.856804e-9,-.021439,-.015576,.007999999,-.025203,-.008189,-9.762049e-10,-.015576,-.021439,-2.555728e-9,-.015576,-.021439,.007999998,-.021439,-.015576,-1.856804e-9,-.008189,-.025203,-3.004432e-9,-.008189,-.025203,.007999998,-.015576,-.021439,-2.555728e-9,0,-.0265,-3.159046e-9,0,-.0265,.007999998,-.008189,-.025203,-3.004432e-9,.008189,-.025203,-3.004432e-9,.008189,-.025203,.007999998,0,-.0265,-3.159046e-9,.015576,-.021439,-2.555728e-9,.015576,-.021439,.007999998,.008189,-.025203,-3.004432e-9,.015576,-.021439,-2.555728e-9,.021439,-.015576,-1.856804e-9,.015576,-.021439,.007999998,.025203,-.008189,-9.762049e-10,.025203,-.008189001,.007999999,.021439,-.015576,-1.856804e-9,.0265,0,0,.0265,-9.536744e-10,.008,.025203,-.008189,-9.762049e-10,.007071,.007071001,.008000001,.007071,.007070998,.033,.01,-9.536744e-10,.008,0,.01,.008000001,0,.009999997,.033,.007071,.007071001,.008000001,0,.01,.008000001,-.007071,.007071,.008,0,.009999997,.033,-.01,-1.186505e-9,.008,-.01,-2.630541e-9,.033,-.007071,.007071,.008,-.007071,-.007071,.007999999,-.007071,-.007071002,.033,-.01,-1.186505e-9,.008,-.007071,-.007071,.007999999,0,-.01,.007999999,-.007071,-.007071002,.033,0,-.01,.007999999,.007071,-.007071,.007999999,0,-.01,.033,.007071,-.007071,.007999999,.01,-9.536744e-10,.008,.007071,-.007071002,.033,.015576,.021439,.008000003,.008189,.025203,.008000003,.007071,.007071001,.008000001,0,.0265,.008000003,-.008189,.025203,.008000003,0,.01,.008000001,-.021439,.015576,.008000002,-.025203,.008188999,.008000001,-.007071,.007071,.008,-.0265,-9.536744e-10,.008,-.025203,-.008189001,.007999999,-.01,-1.186505e-9,.008,-.015576,-.021439,.007999998,-.008189,-.025203,.007999998,-.007071,-.007071,.007999999,0,-.01,.007999999,.008189,-.025203,.007999998,.007071,-.007071,.007999999,.0265,-9.536744e-10,.008,.01,-9.536744e-10,.008,.025203,-.008189001,.007999999]),oe=f;oe<Q.length-2;oe+=3)Q[oe]+=_,Q[oe+1]+=b,Q[oe+2]+=k;else if("round"===e.handleType)for(Q=Q.concat([-.12,.005877995,.04491,-.12,-5.126e-9,.043,-.12,-6.318092e-9,.053,-.12,.005877995,.04491,-.00809,.005877995,.04491,-.01,-5.126e-9,.043,-.12,.009510994,.04991,-.12,.005877995,.04491,-.12,-6.318092e-9,.053,-.12,.009510993,.05609,-.12,.009510994,.04991,-.12,-6.318092e-9,.053,-.12,.005877993,.06109,-.12,.009510993,.05609,-.12,-6.318092e-9,.053,-.12,-7.510185e-9,.063,-.12,.005877993,.06109,-.12,-6.318092e-9,.053,-.12,-.005878008,.06109,-.12,-7.510185e-9,.063,-.12,-6.318092e-9,.053,-.12,-7.510185e-9,.063,-.12,-.005878008,.06109,.00809,-.005878008,.06109,-.12,-.009511006,.05609,-.12,-.005878008,.06109,-.12,-6.318092e-9,.053,-.12,-.009511005,.04991,-.12,-.009511006,.05609,-.12,-6.318092e-9,.053,-.12,-.005878005,.04491,-.12,-.009511005,.04991,-.12,-6.318092e-9,.053,-.12,-.009511005,.04991,-.12,-.005878005,.04491,-.00809,-.005878005,.04491,-.12,-5.126e-9,.043,-.12,-.005878005,.04491,-.12,-6.318092e-9,.053,-.12,-.005878005,.04491,-.12,-5.126e-9,.043,-.01,-5.126e-9,.043,.00809,.005878,.008,.00309,.009511,.008,.00309,.009510993,.05609,.00309,.009511,.008,-.00309,.009511,.008,-.00309,.009510994,.04991,-.00809,.005877995,.04491,-.12,.005877995,.04491,-.12,.009510994,.04991,-.00309,.009510994,.04991,-.12,.009510994,.04991,-.12,.009510993,.05609,.00309,.009510993,.05609,-.12,.009510993,.05609,-.12,.005877993,.06109,.00809,.005877993,.06109,-.12,.005877993,.06109,-.12,-7.510185e-9,.063,-.12,-.005878008,.06109,-.12,-.009511006,.05609,.00309,-.009511006,.05609,-.12,-.009511006,.05609,-.12,-.009511005,.04991,-.00309,-.009511005,.04991,.01,-1.390709e-10,.007999999,.00809,.005878,.008,.00809,.005877993,.06109,-.00309,.009511,.008,-.00809,.005878,.008,-.00809,.005877995,.04491,-.00809,.005878,.008,-.01,-1.390709e-10,.007999999,-.01,-5.126e-9,.043,-.00309,-.009511005,.04991,-.00309,-.009511,.007999999,.00309,-.009511,.007999999,.025203,-.091811,-1.094472e-8,.025203,-.091811,.007999989,.0265,-.1,.007999988,.0025,-.099188,.007999988,.0025,-.1,.007999988,.0265,-.1,.007999988,.025203,-.091811,-1.094472e-8,.021439,-.084424,-1.006412e-8,.021439,-.084424,.00799999,.015576,-.078561,-9.365201e-9,.015576,-.078561,.007999991,.021439,-.084424,.00799999,.008189,-.074797,-8.916497e-9,.008189,-.074797,.007999991,.015576,-.078561,.007999991,0,-.0735,.007999992,.008189,-.074797,.007999991,.008189,-.074797,-8.916497e-9,.0025,-.0875,.00799999,.0025,-.092306,.007999989,.008189,-.074797,.007999991,-.008189,-.074797,-8.916497e-9,-.008189,-.074797,.007999991,0,-.0735,.007999992,-.015576,-.078561,.007999991,-.008189,-.074797,.007999991,-.008189,-.074797,-8.916497e-9,-.021439,-.084424,.00799999,-.015576,-.078561,.007999991,-.015576,-.078561,-9.365201e-9,-.025203,-.091811,.007999989,-.021439,-.084424,.00799999,-.021439,-.084424,-1.006412e-8,-.0025,-.098184,.007999988,-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,-.025203,-.091811,.007999989,-.025203,-.091811,-1.094472e-8,-.025203,-.108189,.007999987,-.0265,-.1,.007999988,-.0265,-.1,-1.192093e-8,-.021439,-.115576,.007999986,-.025203,-.108189,.007999987,-.025203,-.108189,-1.289713e-8,-.0025,-.101816,.007999988,-.0025,-.100812,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,.007999985,-.021439,-.115576,.007999986,-.021439,-.115576,-1.377773e-8,-.008189,-.125203,.007999985,-.015576,-.121439,.007999985,-.015576,-.121439,-1.447666e-8,0,-.1265,.007999985,-.008189,-.125203,.007999985,-.008189,-.125203,-1.492536e-8,.008189,-.125203,.007999985,0,-.1265,.007999985,0,-.1265,-1.507997e-8,.0025,-.1125,.007999987,0,-.1125,.007999987,0,-.1265,.007999985,.008189,-.125203,.007999985,.0025,-.107694,.007999987,.0025,-.1125,.007999987,.015576,-.121439,.007999985,.008189,-.125203,.007999985,.008189,-.125203,-1.492536e-8,.0025,-.107694,.007999987,.008189,-.125203,.007999985,.015576,-.121439,.007999985,.021439,-.115576,.007999986,.015576,-.121439,.007999985,.015576,-.121439,-1.447666e-8,.025203,-.108189,.007999987,.021439,-.115576,.007999986,.021439,-.115576,-1.377773e-8,.0265,-.1,.007999988,.025203,-.108189,.007999987,.025203,-.108189,-1.289713e-8,-.021439,-.115576,.007999986,-.015576,-.121439,.007999985,-.0025,-.103441,.007999988,.0025,-.098184,.007999988,.0025,-.099188,.007999988,.025203,-.091811,.007999989,-.0025,-.100812,.007999988,-.0025,-.1,.007999988,-.0265,-.1,.007999988,-.008189,-.074797,.007999991,-.0025,-.092306,.007999989,-.0025,-.0875,.00799999,-.015576,-.121439,.007999985,-.008189,-.125203,.007999985,-.0025,-.107694,.007999987,-.0025,-.096559,.007999989,-.015576,-.078561,.007999991,-.021439,-.084424,.00799999,-.0265,-.1,.007999988,-.0025,-.1,.007999988,-.0025,-.099188,.007999988,-.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.092306,.007999989,-.008189,-.074797,.007999991,-.015576,-.078561,.007999991,-.0025,-.1125,.0008419866,.0025,-.1125,.0008419866,.0025,-.0875,.0008419896,0,-.1125,.007999987,.0025,-.1125,.007999987,.0025,-.1125,.0008419866,.0025,-.101816,.007999988,.021439,-.115576,.007999986,.025203,-.108189,.007999987,-.0025,-.1125,.007999987,-.0025,-.107694,.007999987,-.008189,-.125203,.007999985,.0025,-.1,.007999988,.0025,-.1125,.0008419866,.0025,-.100812,.007999988,-.0025,-.0875,.0008419896,-.0025,-.098184,.007999988,-.0025,-.099188,.007999988,.0265,-.1,.007999988,.0025,-.1,.007999988,.0025,-.100812,.007999988,0,-.0875,.00799999,-.0025,-.0875,.00799999,-.0025,-.0875,.0008419896,0,-.1265,.007999985,0,-.1125,.007999987,-.0025,-.1125,.007999987,.0025,-.103441,.007999988,.015576,-.121439,.007999985,.021439,-.115576,.007999986,0,-.0735,.007999992,0,-.0875,.00799999,.0025,-.0875,.00799999,.021439,-.084424,.00799999,.015576,-.078561,.007999991,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.008189,-.074797,.007999991,.0025,-.092306,.007999989,.025203,.008188999,.008000001,.0265,-9.536744e-10,.008,.0265,0,0,.021439,.015576,.008000002,.025203,.008188999,.008000001,.025203,.008189,9.762049e-10,.015576,.021439,.008000003,.021439,.015576,.008000002,.021439,.015576,1.856804e-9,.008189,.025203,.008000003,.015576,.021439,.008000003,.015576,.021439,2.555728e-9,0,.0265,.008000003,.008189,.025203,.008000003,.008189,.025203,3.004432e-9,-.008189,.025203,.008000003,0,.0265,.008000003,0,.0265,3.159046e-9,-.015576,.021439,.008000003,-.008189,.025203,.008000003,-.008189,.025203,3.004432e-9,-.021439,.015576,.008000002,-.015576,.021439,.008000003,-.015576,.021439,2.555728e-9,-.025203,.008188999,.008000001,-.021439,.015576,.008000002,-.021439,.015576,1.856804e-9,-.0265,0,0,-.0265,-9.536744e-10,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.0265,-9.536744e-10,.008,-.0265,0,0,-.021439,-.015576,.007999999,-.025203,-.008189001,.007999999,-.025203,-.008189,-9.762049e-10,-.00809,-.005878001,.007999999,-.009045,-.002939001,.008,-.025203,-.008189001,.007999999,-.015576,-.021439,.007999998,-.021439,-.015576,.007999999,-.021439,-.015576,-1.856804e-9,-.015576,-.021439,.007999998,-.00559,-.007694001,.007999999,-.00809,-.005878001,.007999999,-.008189,-.025203,.007999998,-.015576,-.021439,.007999998,-.015576,-.021439,-2.555728e-9,0,-.0265,.007999998,-.008189,-.025203,.007999998,-.008189,-.025203,-3.004432e-9,.008189,-.025203,.007999998,0,-.0265,.007999998,0,-.0265,-3.159046e-9,.015576,-.021439,.007999998,.008189,-.025203,.007999998,.008189,-.025203,-3.004432e-9,.021439,-.015576,-1.856804e-9,.021439,-.015576,.007999999,.015576,-.021439,.007999998,.00809,-.005878001,.007999999,.00559,-.007694001,.007999999,.015576,-.021439,.007999998,.025203,-.008189001,.007999999,.021439,-.015576,.007999999,.021439,-.015576,-1.856804e-9,.025203,-.008189001,.007999999,.009045,-.002939001,.008,.00809,-.005878001,.007999999,.0265,-9.536744e-10,.008,.025203,-.008189001,.007999999,.025203,-.008189,-9.762049e-10,-.01,-5.126e-9,.043,-.01,-1.390709e-10,.007999999,-.00809,-.005878001,.007999999,-.00809,-.005878005,.04491,-.00809,-.005878001,.007999999,-.00309,-.009511,.007999999,.00309,-.009511006,.05609,.00309,-.009511,.007999999,.00809,-.005878001,.007999999,.00809,-.005878008,.06109,.00809,-.005878001,.007999999,.01,-1.390709e-10,.007999999,.025203,.008188999,.008000001,.009045,.002938999,.008,.01,-1.390709e-10,.007999999,.00809,.005878,.008,.009045,.002938999,.008,.025203,.008188999,.008000001,.015576,.021439,.008000003,.00559,.007693999,.008000001,.00809,.005878,.008,.00309,.009511,.008,.00559,.007693999,.008000001,.015576,.021439,.008000003,0,.0265,.008000003,0,.009510999,.008000001,.00309,.009511,.008,-.00309,.009511,.008,0,.009510999,.008000001,0,.0265,.008000003,-.015576,.021439,.008000003,-.00559,.007693999,.008000001,-.00309,.009511,.008,-.00809,.005878,.008,-.00559,.007693999,.008000001,-.015576,.021439,.008000003,-.025203,.008188999,.008000001,-.009045,.002938999,.008,-.00809,.005878,.008,-.01,-1.390709e-10,.007999999,-.009045,.002938999,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.009045,-.002939001,.008,-.01,-1.390709e-10,.007999999,-.00309,-.009511,.007999999,-.00559,-.007694001,.007999999,-.015576,-.021439,.007999998,0,-.0265,.007999998,0,-.009511,.007999999,-.00309,-.009511,.007999999,.00309,-.009511,.007999999,0,-.009511,.007999999,0,-.0265,.007999998,.015576,-.021439,.007999998,.00559,-.007694001,.007999999,.00309,-.009511,.007999999,.01,-1.390709e-10,.007999999,.009045,-.002939001,.008,.025203,-.008189001,.007999999,-.12,-5.126e-9,.043,-.12,.005877995,.04491,-.01,-5.126e-9,.043,.01,-7.510185e-9,.063,-.12,-7.510185e-9,.063,.00809,-.005878008,.06109,-.00309,-.009511005,.04991,-.12,-.009511005,.04991,-.00809,-.005878005,.04491,-.00809,-.005878005,.04491,-.12,-.005878005,.04491,-.01,-5.126e-9,.043,.00809,.005877993,.06109,.00809,.005878,.008,.00309,.009510993,.05609,.00309,.009510993,.05609,.00309,.009511,.008,-.00309,.009510994,.04991,-.00309,.009510994,.04991,-.00809,.005877995,.04491,-.12,.009510994,.04991,.00309,.009510993,.05609,-.00309,.009510994,.04991,-.12,.009510993,.05609,.00809,.005877993,.06109,.00309,.009510993,.05609,-.12,.005877993,.06109,.01,-7.510185e-9,.063,.00809,.005877993,.06109,-.12,-7.510185e-9,.063,.00809,-.005878008,.06109,-.12,-.005878008,.06109,.00309,-.009511006,.05609,.00309,-.009511006,.05609,-.12,-.009511006,.05609,-.00309,-.009511005,.04991,.01,-7.510185e-9,.063,.01,-1.390709e-10,.007999999,.00809,.005877993,.06109,-.00309,.009510994,.04991,-.00309,.009511,.008,-.00809,.005877995,.04491,-.00809,.005877995,.04491,-.00809,.005878,.008,-.01,-5.126e-9,.043,.00309,-.009511006,.05609,-.00309,-.009511005,.04991,.00309,-.009511,.007999999,.0265,-.1,-1.192093e-8,.025203,-.091811,-1.094472e-8,.0265,-.1,.007999988,.025203,-.091811,.007999989,.0025,-.099188,.007999988,.0265,-.1,.007999988,.025203,-.091811,.007999989,.025203,-.091811,-1.094472e-8,.021439,-.084424,.00799999,.021439,-.084424,-1.006412e-8,.015576,-.078561,-9.365201e-9,.021439,-.084424,.00799999,.015576,-.078561,-9.365201e-9,.008189,-.074797,-8.916497e-9,.015576,-.078561,.007999991,0,-.0735,-8.761883e-9,0,-.0735,.007999992,.008189,-.074797,-8.916497e-9,0,-.0735,-8.761883e-9,-.008189,-.074797,-8.916497e-9,0,-.0735,.007999992,-.015576,-.078561,-9.365201e-9,-.015576,-.078561,.007999991,-.008189,-.074797,-8.916497e-9,-.021439,-.084424,-1.006412e-8,-.021439,-.084424,.00799999,-.015576,-.078561,-9.365201e-9,-.025203,-.091811,-1.094472e-8,-.025203,-.091811,.007999989,-.021439,-.084424,-1.006412e-8,-.0025,-.099188,.007999988,-.0025,-.098184,.007999988,-.025203,-.091811,.007999989,-.0265,-.1,-1.192093e-8,-.0265,-.1,.007999988,-.025203,-.091811,-1.094472e-8,-.025203,-.108189,-1.289713e-8,-.025203,-.108189,.007999987,-.0265,-.1,-1.192093e-8,-.021439,-.115576,-1.377773e-8,-.021439,-.115576,.007999986,-.025203,-.108189,-1.289713e-8,-.021439,-.115576,.007999986,-.0025,-.101816,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,-1.447666e-8,-.015576,-.121439,.007999985,-.021439,-.115576,-1.377773e-8,-.008189,-.125203,-1.492536e-8,-.008189,-.125203,.007999985,-.015576,-.121439,-1.447666e-8,0,-.1265,-1.507997e-8,0,-.1265,.007999985,-.008189,-.125203,-1.492536e-8,.008189,-.125203,-1.492536e-8,.008189,-.125203,.007999985,0,-.1265,-1.507997e-8,.008189,-.125203,.007999985,.0025,-.1125,.007999987,0,-.1265,.007999985,.015576,-.121439,-1.447666e-8,.015576,-.121439,.007999985,.008189,-.125203,-1.492536e-8,.0025,-.103441,.007999988,.0025,-.107694,.007999987,.015576,-.121439,.007999985,.021439,-.115576,-1.377773e-8,.021439,-.115576,.007999986,.015576,-.121439,-1.447666e-8,.025203,-.108189,-1.289713e-8,.025203,-.108189,.007999987,.021439,-.115576,-1.377773e-8,.0265,-.1,-1.192093e-8,.0265,-.1,.007999988,.025203,-.108189,-1.289713e-8,-.0025,-.101816,.007999988,-.021439,-.115576,.007999986,-.0025,-.103441,.007999988,.021439,-.084424,.00799999,.0025,-.098184,.007999988,.025203,-.091811,.007999989,-.025203,-.108189,.007999987,-.0025,-.100812,.007999988,-.0265,-.1,.007999988,-.0025,-.103441,.007999988,-.015576,-.121439,.007999985,-.0025,-.107694,.007999987,-.0025,-.098184,.007999988,-.0025,-.096559,.007999989,-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,-.0025,-.099188,.007999988,-.008189,-.074797,.007999991,-.0025,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.096559,.007999989,-.0025,-.092306,.007999989,-.015576,-.078561,.007999991,-.0025,-.0875,.0008419896,-.0025,-.1125,.0008419866,.0025,-.0875,.0008419896,-.0025,-.1125,.0008419866,-.0025,-.1125,.007999987,0,-.1125,.007999987,0,-.1125,.007999987,.0025,-.1125,.0008419866,-.0025,-.1125,.0008419866,.0025,-.100812,.007999988,.0025,-.101816,.007999988,.025203,-.108189,.007999987,.0025,-.0875,.0008419896,.0025,-.096559,.007999989,.0025,-.092306,.007999989,.0025,-.0875,.0008419896,.0025,-.1,.007999988,.0025,-.098184,.007999988,.0025,-.1125,.0008419866,.0025,-.101816,.007999988,.0025,-.100812,.007999988,.0025,-.1125,.0008419866,.0025,-.1125,.007999987,.0025,-.107694,.007999987,.0025,-.1125,.0008419866,.0025,-.103441,.007999988,.0025,-.101816,.007999988,.0025,-.092306,.007999989,.0025,-.0875,.00799999,.0025,-.0875,.0008419896,.0025,-.0875,.0008419896,.0025,-.1125,.0008419866,.0025,-.1,.007999988,.0025,-.098184,.007999988,.0025,-.096559,.007999989,.0025,-.0875,.0008419896,.0025,-.103441,.007999988,.0025,-.1125,.0008419866,.0025,-.107694,.007999987,-.0025,-.1,.007999988,-.0025,-.1125,.0008419866,-.0025,-.0875,.0008419896,-.0025,-.1125,.0008419866,-.0025,-.103441,.007999988,-.0025,-.107694,.007999987,-.0025,-.107694,.007999987,-.0025,-.1125,.007999987,-.0025,-.1125,.0008419866,-.0025,-.0875,.0008419896,-.0025,-.0875,.00799999,-.0025,-.092306,.007999989,-.0025,-.0875,.0008419896,-.0025,-.096559,.007999989,-.0025,-.098184,.007999988,-.0025,-.0875,.0008419896,-.0025,-.099188,.007999988,-.0025,-.1,.007999988,-.0025,-.1125,.0008419866,-.0025,-.100812,.007999988,-.0025,-.101816,.007999988,-.0025,-.101816,.007999988,-.0025,-.103441,.007999988,-.0025,-.1125,.0008419866,-.0025,-.0875,.0008419896,-.0025,-.092306,.007999989,-.0025,-.096559,.007999989,-.0025,-.1125,.0008419866,-.0025,-.1,.007999988,-.0025,-.100812,.007999988,.025203,-.108189,.007999987,.0265,-.1,.007999988,.0025,-.100812,.007999988,.0025,-.0875,.0008419896,.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0875,.00799999,-.0025,-.0875,.0008419896,.0025,-.0875,.0008419896,-.008189,-.125203,.007999985,0,-.1265,.007999985,-.0025,-.1125,.007999987,.0025,-.101816,.007999988,.0025,-.103441,.007999988,.021439,-.115576,.007999986,.008189,-.074797,.007999991,0,-.0735,.007999992,.0025,-.0875,.00799999,.0025,-.098184,.007999988,.021439,-.084424,.00799999,.0025,-.096559,.007999989,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.0025,-.092306,.007999989,.025203,.008189,9.762049e-10,.025203,.008188999,.008000001,.0265,0,0,.021439,.015576,1.856804e-9,.021439,.015576,.008000002,.025203,.008189,9.762049e-10,.015576,.021439,2.555728e-9,.015576,.021439,.008000003,.021439,.015576,1.856804e-9,.008189,.025203,3.004432e-9,.008189,.025203,.008000003,.015576,.021439,2.555728e-9,0,.0265,3.159046e-9,0,.0265,.008000003,.008189,.025203,3.004432e-9,-.008189,.025203,3.004432e-9,-.008189,.025203,.008000003,0,.0265,3.159046e-9,-.015576,.021439,2.555728e-9,-.015576,.021439,.008000003,-.008189,.025203,3.004432e-9,-.021439,.015576,1.856804e-9,-.021439,.015576,.008000002,-.015576,.021439,2.555728e-9,-.025203,.008189,9.762049e-10,-.025203,.008188999,.008000001,-.021439,.015576,1.856804e-9,-.025203,.008189,9.762049e-10,-.0265,0,0,-.025203,.008188999,.008000001,-.025203,-.008189,-9.762049e-10,-.025203,-.008189001,.007999999,-.0265,0,0,-.021439,-.015576,-1.856804e-9,-.021439,-.015576,.007999999,-.025203,-.008189,-9.762049e-10,-.021439,-.015576,.007999999,-.00809,-.005878001,.007999999,-.025203,-.008189001,.007999999,-.015576,-.021439,-2.555728e-9,-.015576,-.021439,.007999998,-.021439,-.015576,-1.856804e-9,-.021439,-.015576,.007999999,-.015576,-.021439,.007999998,-.00809,-.005878001,.007999999,-.008189,-.025203,-3.004432e-9,-.008189,-.025203,.007999998,-.015576,-.021439,-2.555728e-9,0,-.0265,-3.159046e-9,0,-.0265,.007999998,-.008189,-.025203,-3.004432e-9,.008189,-.025203,-3.004432e-9,.008189,-.025203,.007999998,0,-.0265,-3.159046e-9,.015576,-.021439,-2.555728e-9,.015576,-.021439,.007999998,.008189,-.025203,-3.004432e-9,.015576,-.021439,-2.555728e-9,.021439,-.015576,-1.856804e-9,.015576,-.021439,.007999998,.021439,-.015576,.007999999,.00809,-.005878001,.007999999,.015576,-.021439,.007999998,.025203,-.008189,-9.762049e-10,.025203,-.008189001,.007999999,.021439,-.015576,-1.856804e-9,.021439,-.015576,.007999999,.025203,-.008189001,.007999999,.00809,-.005878001,.007999999,.0265,0,0,.0265,-9.536744e-10,.008,.025203,-.008189,-9.762049e-10,-.00809,-.005878005,.04491,-.01,-5.126e-9,.043,-.00809,-.005878001,.007999999,-.00309,-.009511005,.04991,-.00809,-.005878005,.04491,-.00309,-.009511,.007999999,.00809,-.005878008,.06109,.00309,-.009511006,.05609,.00809,-.005878001,.007999999,.01,-7.510185e-9,.063,.00809,-.005878008,.06109,.01,-1.390709e-10,.007999999,.0265,-9.536744e-10,.008,.025203,.008188999,.008000001,.01,-1.390709e-10,.007999999,.021439,.015576,.008000002,.00809,.005878,.008,.025203,.008188999,.008000001,.021439,.015576,.008000002,.015576,.021439,.008000003,.00809,.005878,.008,.008189,.025203,.008000003,.00309,.009511,.008,.015576,.021439,.008000003,.008189,.025203,.008000003,0,.0265,.008000003,.00309,.009511,.008,-.008189,.025203,.008000003,-.00309,.009511,.008,0,.0265,.008000003,-.008189,.025203,.008000003,-.015576,.021439,.008000003,-.00309,.009511,.008,-.021439,.015576,.008000002,-.00809,.005878,.008,-.015576,.021439,.008000003,-.021439,.015576,.008000002,-.025203,.008188999,.008000001,-.00809,.005878,.008,-.0265,-9.536744e-10,.008,-.01,-1.390709e-10,.007999999,-.025203,.008188999,.008000001,-.0265,-9.536744e-10,.008,-.025203,-.008189001,.007999999,-.01,-1.390709e-10,.007999999,-.008189,-.025203,.007999998,-.00309,-.009511,.007999999,-.015576,-.021439,.007999998,-.008189,-.025203,.007999998,0,-.0265,.007999998,-.00309,-.009511,.007999999,.008189,-.025203,.007999998,.00309,-.009511,.007999999,0,-.0265,.007999998,.008189,-.025203,.007999998,.015576,-.021439,.007999998,.00309,-.009511,.007999999,.0265,-9.536744e-10,.008,.01,-1.390709e-10,.007999999,.025203,-.008189001,.007999999]),oe=f;oe<Q.length-2;oe+=3)Q[oe]+=_,Q[oe+1]+=b,Q[oe+2]+=k;else if("classic"===e.handleType)for(Q=Q.concat([-.019075,.060079,.002000007,-.02,.06,.002000007,-.019047,-.120065,.001999986,.016353,-.121573,-1.449263e-8,.016978,-.121042,-1.442933e-8,.016978,-.121042,.001999986,-.02,-.12,.001999986,-.019047,-.120065,.001999986,-.02,.06,.002000007,.015764,-.122191,.001999985,.015764,-.122191,-1.45663e-8,.016353,-.121573,-1.449263e-8,.014929,-.123252,-1.469278e-8,.015764,-.122191,-1.45663e-8,.015764,-.122191,.001999985,-.018231,.060289,.002000007,-.019075,.060079,.002000007,.019137,.060079,.002000007,.002936,-.134721,.001999984,.007464,-.132813,.001999984,.008788,-.131752,.001999984,.0015,-.077781,.001999991,.019137,.060079,.002000007,-.019075,.060079,.002000007,-.018604,-.120148,.001999986,-.0015,-.097781,.001999988,-.0015,-.077781,.001999991,-.018604,-.120148,.001999986,.019149,-.120075,.001999986,.0015,-.097781,.001999988,.0015,-.077781,.001999991,.0015,-.097781,.001999988,.019149,-.120075,.001999986,0,-.135,.001999984,.009953,-.130562,.001999984,-.010391,-.129722,.001999985,-.017458,.060619,.002000007,-.018231,.060289,.002000007,.018344,.060288,.002000007,.001531,-.134926,.001999984,.008788,-.131752,.001999984,.009953,-.130562,.001999984,-.016747,.061058,.002000007,-.017458,.060619,.002000007,.017614,.060617,.002000007,.009953,-.130562,.001999984,.014929,-.123252,.001999985,-.011868,-.127496,.001999985,-.016089,.061593,.002000008,-.016747,.061058,.002000007,.016937,.061053,.002000007,.014929,-.123252,.001999985,.015764,-.122191,.001999985,-.014802,-.122855,.001999985,-.015475,.062214,.002000008,-.016089,.061593,.002000008,.016304,.061587,.002000008,.015764,-.122191,.001999985,.016353,-.121573,.001999986,-.015686,-.121844,.001999986,-.014617,.063281,.002000008,-.015475,.062214,.002000008,.015421,.062543,.002000008,-.007335,.072848,.002000009,-.008209,.072159,.002000009,-.004169,.074417,.002000009,-.005324,.073988,.002000009,-.006376,.073461,.002000009,-.007335,.072848,.002000009,.009953,-.130562,-1.55642e-8,.014929,-.123252,-1.469278e-8,.014929,-.123252,.001999985,.016978,-.121042,.001999986,.017646,-.120607,.001999986,-.017021,-.120787,.001999986,.016353,-.121573,.001999986,.016978,-.121042,.001999986,-.016327,-.121269,.001999986,-.009384,.071011,.002000008,-.014617,.063281,.002000008,.012136,.067516,.002000008,.009512,.070979,.002000008,0,.075,.002000009,-.009384,.071011,.002000008,-.008209,.072159,.002000009,-.009384,.071011,.002000008,-.002903,.074736,.002000009,-.001517,.074934,.002000009,-.002903,.074736,.002000009,-.009384,.071011,.002000008,.001519,.074926,.002000009,0,.075,.002000009,.009512,.070979,.002000008,.002913,.074722,.002000009,.001519,.074926,.002000009,.008304,.072129,.002000009,.017646,-.120607,.001999986,.018367,-.120281,.001999986,-.017776,-.120409,.001999986,.007408,.072818,.002000009,.00536,.073964,.002000009,.004191,.074397,.002000009,.007408,.072818,.002000009,.00643,.073434,.002000009,.00536,.073964,.002000009,-.018604,-.120148,.001999986,-.017776,-.120409,.001999986,.018367,-.120281,.001999986,.02,.06,.002000007,.019137,.060079,.002000007,.019149,-.120075,.001999986,.005401,-.133961,.001999984,.006479,-.13343,.001999984,.007464,-.132813,.001999984,.008788,-.131752,-1.570606e-8,.009953,-.130562,-1.55642e-8,.009953,-.130562,.001999984,.004223,-.134395,.001999984,.005401,-.133961,.001999984,.007464,-.132813,.001999984,-.001527,-.134934,.001999984,0,-.135,.001999984,-.009371,-.130983,.001999984,-.00821,-.132139,.001999984,-.004188,-.134412,.001999984,-.002919,-.134734,.001999984,.007464,-.132813,-1.583254e-8,.008788,-.131752,-1.570606e-8,.008788,-.131752,.001999984,-.007343,-.132832,.001999984,-.005342,-.13398,.001999984,-.004188,-.134412,.001999984,.006479,-.13343,-1.59061e-8,.007464,-.132813,-1.583254e-8,.007464,-.132813,.001999984,-.007343,-.132832,.001999984,-.00639,-.13345,.001999984,-.005342,-.13398,.001999984,.005401,-.133961,.001999984,.005401,-.133961,-1.59694e-8,.006479,-.13343,-1.59061e-8,.004223,-.134395,-1.602113e-8,.005401,-.133961,-1.59694e-8,.005401,-.133961,.001999984,.002936,-.134721,-1.605999e-8,.004223,-.134395,-1.602113e-8,.004223,-.134395,.001999984,.001531,-.134926,-1.608443e-8,.002936,-.134721,-1.605999e-8,.002936,-.134721,.001999984,0,-.135,-1.609325e-8,.001531,-.134926,-1.608443e-8,.001531,-.134926,.001999984,-.001527,-.134934,-1.608539e-8,0,-.135,-1.609325e-8,0,-.135,.001999984,-.002919,-.134734,-1.606154e-8,-.001527,-.134934,-1.608539e-8,-.001527,-.134934,.001999984,-.004188,-.134412,-1.602316e-8,-.002919,-.134734,-1.606154e-8,-.002919,-.134734,.001999984,-.005342,-.13398,-1.597166e-8,-.004188,-.134412,-1.602316e-8,-.004188,-.134412,.001999984,-.00639,-.13345,-1.590848e-8,-.005342,-.13398,-1.597166e-8,-.005342,-.13398,.001999984,-.007343,-.132832,-1.583481e-8,-.00639,-.13345,-1.590848e-8,-.00639,-.13345,.001999984,-.00821,-.132139,-1.57522e-8,-.007343,-.132832,-1.583481e-8,-.007343,-.132832,.001999984,-.009371,-.130983,-1.561439e-8,-.00821,-.132139,-1.57522e-8,-.00821,-.132139,.001999984,-.010391,-.129722,-1.546407e-8,-.009371,-.130983,-1.561439e-8,-.009371,-.130983,.001999984,-.011868,-.127496,-1.519871e-8,-.010391,-.129722,-1.546407e-8,-.010391,-.129722,.001999985,-.014802,-.122855,-1.464546e-8,-.011868,-.127496,-1.519871e-8,-.011868,-.127496,.001999985,-.015686,-.121844,-1.452494e-8,-.014802,-.122855,-1.464546e-8,-.014802,-.122855,.001999985,-.016327,-.121269,-1.445639e-8,-.015686,-.121844,-1.452494e-8,-.015686,-.121844,.001999986,-.017021,-.120787,-1.439893e-8,-.016327,-.121269,-1.445639e-8,-.016327,-.121269,.001999986,-.017776,-.120409,-1.435387e-8,-.017021,-.120787,-1.439893e-8,-.017021,-.120787,.001999986,-.018604,-.120148,-1.432276e-8,-.017776,-.120409,-1.435387e-8,-.017776,-.120409,.001999986,-.018604,-.120148,-1.432276e-8,-.018604,-.120148,.001999986,-.019047,-.120065,.001999986,-.02,-.12,-1.430511e-8,-.019047,-.120065,-1.431286e-8,-.019047,-.120065,.001999986,-.02,.06,7.152557e-9,-.02,-.12,-1.430511e-8,-.02,-.12,.001999986,-.019075,.060079,7.161975e-9,-.02,.06,7.152557e-9,-.02,.06,.002000007,-.018231,.060289,7.187009e-9,-.019075,.060079,7.161975e-9,-.019075,.060079,.002000007,-.017458,.060619,7.226348e-9,-.018231,.060289,7.187009e-9,-.018231,.060289,.002000007,-.016747,.061058,7.278681e-9,-.017458,.060619,7.226348e-9,-.017458,.060619,.002000007,-.016089,.061593,7.342458e-9,-.016747,.061058,7.278681e-9,-.016747,.061058,.002000007,-.015475,.062214,7.416487e-9,-.016089,.061593,7.342458e-9,-.016089,.061593,.002000008,-.014617,.063281,7.543683e-9,-.015475,.062214,7.416487e-9,-.015475,.062214,.002000008,-.009384,.071011,8.465171e-9,-.014617,.063281,7.543683e-9,-.014617,.063281,.002000008,-.008209,.072159,8.602023e-9,-.009384,.071011,8.465171e-9,-.009384,.071011,.002000008,-.007335,.072848,8.684158e-9,-.008209,.072159,8.602023e-9,-.008209,.072159,.002000009,-.006376,.073461,8.757234e-9,-.007335,.072848,8.684158e-9,-.007335,.072848,.002000009,-.005324,.073988,8.820057e-9,-.006376,.073461,8.757234e-9,-.006376,.073461,.002000009,-.004169,.074417,8.871198e-9,-.005324,.073988,8.820057e-9,-.005324,.073988,.002000009,-.002903,.074736,8.909225e-9,-.004169,.074417,8.871198e-9,-.004169,.074417,.002000009,-.001517,.074934,8.932829e-9,-.002903,.074736,8.909225e-9,-.002903,.074736,.002000009,0,.075,8.940697e-9,-.001517,.074934,8.932829e-9,-.001517,.074934,.002000009,.001519,.074926,8.931875e-9,0,.075,8.940697e-9,0,.075,.002000009,.002913,.074722,8.907556e-9,.001519,.074926,8.931875e-9,.001519,.074926,.002000009,.004191,.074397,8.868813e-9,.002913,.074722,8.907556e-9,.002913,.074722,.002000009,.00536,.073964,8.817196e-9,.004191,.074397,8.868813e-9,.004191,.074397,.002000009,.00643,.073434,8.754015e-9,.00536,.073964,8.817196e-9,.00536,.073964,.002000009,.007408,.072818,.002000009,.007408,.072818,8.680582e-9,.00643,.073434,8.754015e-9,.008304,.072129,8.598447e-9,.007408,.072818,8.680582e-9,.007408,.072818,.002000009,.009512,.070979,.002000008,.009512,.070979,8.461356e-9,.008304,.072129,8.598447e-9,.010582,.069727,8.312107e-9,.009512,.070979,8.461356e-9,.009512,.070979,.002000008,.012136,.067516,8.048534e-9,.010582,.069727,8.312107e-9,.010582,.069727,.002000008,.015421,.062543,.002000008,.015421,.062543,7.455706e-9,.012136,.067516,8.048534e-9,.016304,.061587,7.341742e-9,.015421,.062543,7.455706e-9,.015421,.062543,.002000008,.016937,.061053,.002000007,.016937,.061053,7.278085e-9,.016304,.061587,7.341742e-9,.017614,.060617,7.226109e-9,.016937,.061053,7.278085e-9,.016937,.061053,.002000007,.018344,.060288,7.18689e-9,.017614,.060617,7.226109e-9,.017614,.060617,.002000007,.019137,.060079,7.161975e-9,.018344,.060288,7.18689e-9,.018344,.060288,.002000007,.02,.06,7.152557e-9,.019137,.060079,7.161975e-9,.019137,.060079,.002000007,.02,-.12,-1.430511e-8,.02,.06,7.152557e-9,.02,.06,.002000007,.019149,-.120075,-1.431406e-8,.02,-.12,-1.430511e-8,.02,-.12,.001999986,.018367,-.120281,.001999986,.018367,-.120281,-1.433861e-8,.019149,-.120075,-1.431406e-8,.017646,-.120607,-1.437748e-8,.018367,-.120281,-1.433861e-8,.018367,-.120281,.001999986,.016978,-.121042,-1.442933e-8,.017646,-.120607,-1.437748e-8,.017646,-.120607,.001999986,.0015,-.097781,.001999988,.0015,-.077781,.001999991,.0015,-.077781,.0002859907,-.0015,-.097781,.0002859883,.0015,-.097781,.0002859883,.0015,-.077781,.0002859907,-.0015,-.077781,.001999991,-.0015,-.097781,.001999988,-.0015,-.097781,.0002859883,.0015,-.077781,.001999991,-.0015,-.077781,.001999991,-.0015,-.077781,.0002859907,-.0015,-.097781,.001999988,.0015,-.097781,.001999988,.0015,-.097781,.0002859883,-.117827,.01488799,.05,-.13022,.01067999,.05,-.12806,.006308994,.05,-.099274,.01439299,.05,-.099431,.01943799,.05,-.117827,.01488799,.05,-.014557,.006875994,.05,-.013731,.006550996,.03,-.025779,.01158599,.05,-.117827,.014888,.03,-.13022,.01068,.03,-.13022,.01067999,.05,-.084271,.016682,.05,-.083361,.02189199,.05,-.099431,.01943799,.05,-.004666,.011094,.03,-.010367,.007194996,.03,-.006544,.01007999,.05,-.07202,.022593,.05,-.083361,.02189199,.05,-.084271,.016682,.05,-.001836,-.011942,.03,.003453,-.011674,.03,.002058,-.01196301,.05,-.041427,.017156,.03,-.036433,.009406996,.03,-.046802,.013694,.03,-.028133,.004891996,.03,-.019128,-.001211004,.03,-.025827,.003515994,.05,-.025779,.011586,.03,-.028133,.004891996,.03,-.036433,.009406996,.03,-.116398,.01016199,.05,-.099274,.01439299,.05,-.117827,.01488799,.05,-.002725,-.01174801,.05,-.006544,.01007999,.05,-.008287,-.009412006,.05,-.061504,.017023,.05,-.063789,.02212399,.05,-.07202,.022593,.05,-.05451,.020603,.03,-.066857,.022477,.03,-.063789,.02212399,.05,-.061504,.017023,.05,-.05451,.02060299,.05,-.063789,.02212399,.05,-.099274,.01439299,.05,-.099274,.014393,.03,-.084271,.016682,.05,-.041427,.01715599,.05,-.05451,.02060299,.05,-.048108,.01411699,.05,.00138,.012095,.03,-.004666,.011094,.03,-.001142,.01205599,.05,-.061504,.017023,.05,-.048108,.01411699,.05,-.05451,.02060299,.05,-.084271,.016682,.03,-.071009,.017476,.03,-.071009,.01747599,.05,-.025779,.011586,.03,-.013731,.006550996,.03,-.028133,.004891996,.03,-.025779,.01158599,.05,-.041427,.01715599,.05,-.036433,.009406994,.05,.008867,.008342994,.05,.008705,.008682996,.03,.004144,.01134299,.05,-.048108,.01411699,.05,-.036433,.009406994,.05,-.041427,.01715599,.05,.002058,-.01196301,.05,.011654,-.003769006,.05,-.002725,-.01174801,.05,-.014557,.006875994,.05,-.025779,.01158599,.05,-.025827,.003515994,.05,-.061504,.017023,.05,-.060622,.016912,.03,-.048108,.01411699,.05,-.041427,.017156,.03,-.025779,.011586,.03,-.036433,.009406996,.03,-.05451,.020603,.03,-.060622,.016912,.03,-.066857,.022477,.03,-.010367,.007194996,.03,-.013731,.006550996,.03,-.011039,.006736994,.05,-.025827,.003515994,.05,-.011039,.006736994,.05,-.014557,.006875994,.05,-.099431,.01943799,.05,-.099431,.019438,.03,-.117827,.01488799,.05,-.084271,.016682,.05,-.084271,.016682,.03,-.071009,.01747599,.05,-.041427,.01715599,.05,-.041427,.017156,.03,-.05451,.02060299,.05,-.05451,.02060299,.05,-.05451,.020603,.03,-.063789,.02212399,.05,.011705,.003085994,.05,.004144,.01134299,.05,.011654,-.003769006,.05,-.036433,.009406994,.05,-.036433,.009406996,.03,-.025827,.003515994,.05,-.008287,-.009412006,.05,-.006544,.01007999,.05,-.011039,.006736994,.05,.008705,.008682996,.03,.00138,.012095,.03,.004144,.01134299,.05,-.011039,.006736994,.05,-.013731,.006550996,.03,-.014557,.006875994,.05,-.013731,.006550996,.03,-.019128,-.001211004,.03,-.028133,.004891996,.03,.004144,.01134299,.05,.00138,.012095,.03,-.001142,.01205599,.05,-.099274,.01439299,.05,-.084271,.016682,.05,-.099431,.01943799,.05,-.025827,.003515994,.05,-.025779,.01158599,.05,-.036433,.009406994,.05,-.081659,.022124,.03,-.099431,.019438,.03,-.099431,.01943799,.05,-.002725,-.01174801,.05,.011654,-.003769006,.05,-.006544,.01007999,.05,-.099274,.014393,.03,-.084271,.016682,.03,-.084271,.016682,.05,-.13022,.01068,.03,-.12806,.006308996,.03,-.12806,.006308994,.05,-.013731,.006550996,.03,-.025779,.011586,.03,-.025779,.01158599,.05,-.081659,.022124,.03,-.084271,.016682,.03,-.099431,.019438,.03,-.025827,.003515994,.05,-.008287,-.009412006,.05,-.011039,.006736994,.05,-.019128,-.001211004,.03,-.007621,-.009812004,.03,-.008287,-.009412006,.05,-.025827,.003515994,.05,-.019128,-.001211004,.03,-.008287,-.009412006,.05,-.071009,.01747599,.05,-.07202,.022593,.05,-.084271,.016682,.05,-.063789,.02212399,.05,-.066857,.022477,.03,-.07202,.022593,.05,-.07202,.022593,.05,-.081659,.022124,.03,-.083361,.02189199,.05,.004144,.01134299,.05,-.001142,.01205599,.05,.011654,-.003769006,.05,-.116398,.010162,.03,-.099274,.014393,.03,-.099274,.01439299,.05,-.116398,.01016199,.05,-.117827,.01488799,.05,-.12806,.006308994,.05,-.002725,-.01174801,.05,-.001836,-.011942,.03,.002058,-.01196301,.05,.008867,.008342994,.05,.004144,.01134299,.05,.011705,.003085994,.05,-.071009,.01747599,.05,-.061504,.017023,.05,-.07202,.022593,.05,-.048108,.01411699,.05,-.046802,.013694,.03,-.036433,.009406994,.05,-.025779,.01158599,.05,-.025779,.011586,.03,-.041427,.01715599,.05,-.099431,.019438,.03,-.117827,.014888,.03,-.117827,.01488799,.05,-.066857,.022477,.03,-.081659,.022124,.03,-.07202,.022593,.05,-.099431,.019438,.03,-.099274,.014393,.03,-.117827,.014888,.03,-.117827,.01488799,.05,-.117827,.014888,.03,-.13022,.01067999,.05,-.116398,.01016199,.05,-.116398,.010162,.03,-.099274,.01439299,.05,-.041427,.017156,.03,-.05451,.020603,.03,-.05451,.02060299,.05,-.006544,.01007999,.05,-.010367,.007194996,.03,-.011039,.006736994,.05,-.025779,.011586,.03,-.041427,.017156,.03,-.041427,.01715599,.05,-.12806,.006308996,.03,-.116398,.010162,.03,-.116398,.01016199,.05,-.13022,.01067999,.05,-.13022,.01068,.03,-.12806,.006308994,.05,-.007621,-.009812004,.03,-.019128,-.001211004,.03,-.013731,.006550996,.03,-.05451,.020603,.03,-.046802,.013694,.03,-.060622,.016912,.03,.002058,-.01196301,.05,.003453,-.011674,.03,.007522,-.009724005,.05,-.046802,.013694,.03,-.036433,.009406996,.03,-.036433,.009406994,.05,.012011,.001776996,.03,.008705,.008682996,.03,.011705,.003085994,.05,-.060622,.016912,.03,-.046802,.013694,.03,-.048108,.01411699,.05,-.071009,.017476,.03,-.060622,.016912,.03,-.061504,.017023,.05,-.001142,.01205599,.05,-.006544,.01007999,.05,.011654,-.003769006,.05,.011654,-.003769006,.05,.012011,.001776996,.03,.011705,.003085994,.05,-.008287,-.009412006,.05,-.007621,-.009812004,.03,-.002725,-.01174801,.05,-.071009,.01747599,.05,-.071009,.017476,.03,-.061504,.017023,.05,-.001142,.01205599,.05,-.004666,.011094,.03,-.006544,.01007999,.05,-.05451,.020603,.03,-.041427,.017156,.03,-.046802,.013694,.03,.011131,-.005043004,.03,.012011,.001776996,.03,.011654,-.003769006,.05,.007522,-.009724005,.05,.011654,-.003769006,.05,.002058,-.01196301,.05,.003453,-.011674,.03,.007132,-.009824004,.03,.007522,-.009724005,.05,-.116398,.010162,.03,-.12806,.006308996,.03,-.117827,.014888,.03,-.099274,.014393,.03,-.116398,.010162,.03,-.117827,.014888,.03,-.12806,.006308996,.03,-.13022,.01068,.03,-.117827,.014888,.03,-.084271,.016682,.03,-.099274,.014393,.03,-.099431,.019438,.03,-.081659,.022124,.03,-.071009,.017476,.03,-.084271,.016682,.03,-.083361,.02189199,.05,-.081659,.022124,.03,-.099431,.01943799,.05,-.060622,.016912,.03,-.071009,.017476,.03,-.066857,.022477,.03,.011705,.003085994,.05,.008705,.008682996,.03,.008867,.008342994,.05,.007132,-.009824004,.03,.011131,-.005043004,.03,.007522,-.009724005,.05,-.081659,.022124,.03,-.066857,.022477,.03,-.071009,.017476,.03,-.036433,.009406996,.03,-.028133,.004891996,.03,-.025827,.003515994,.05,-.12806,.006308994,.05,-.12806,.006308996,.03,-.116398,.01016199,.05,-.007621,-.009812004,.03,-.001836,-.011942,.03,-.002725,-.01174801,.05,.007522,-.009724005,.05,.011131,-.005043004,.03,.011654,-.003769006,.05,.008705,.008682996,.03,.006472,.004701996,.03,.002472,.007607996,.03,.00138,.012095,.03,.002472,.007607996,.03,-.002472,.007607996,.03,.012011,.001776996,.03,.008,-3.576279e-9,.03,.006472,.004701996,.03,.011131,-.005043004,.03,.006472,-.004702004,.03,.008,-3.576279e-9,.03,.007132,-.009824004,.03,.002472,-.007608004,.03,.006472,-.004702004,.03,-.002472,-.007608004,.03,-.001836,-.011942,.03,-.007621,-.009812004,.03,-.007621,-.009812004,.03,-.013731,.006550996,.03,-.008,-3.576279e-9,.03,-.010367,.007194996,.03,-.006472,.004701996,.03,-.008,-3.576279e-9,.03,-.004666,.011094,.03,-.002472,.007607996,.03,-.006472,.004701996,.03,-.006472,.004701996,.03,-.002472,.007607996,.03,-.002472,.007608,.002000001,.006472,.004701996,.03,.008,-3.576279e-9,.03,.008,-2.384186e-10,.002,.006472,-.004702004,.03,.002472,-.007608004,.03,.002472,-.007608001,.001999999,-.008,-2.384186e-10,.002,-.008,-3.576279e-9,.03,-.006472,.004701996,.03,.002472,.007607996,.03,.006472,.004701996,.03,.006472,.004701999,.002000001,.002472,-.007608004,.03,-.002472,-.007608004,.03,-.002472,-.007608001,.001999999,-.006472,-.004702,.002,-.006472,-.004702004,.03,-.008,-3.576279e-9,.03,-.002472,.007607996,.03,.002472,.007607996,.03,.002472,.007608,.002000001,.008,-3.576279e-9,.03,.006472,-.004702004,.03,.006472,-.004702,.002,-.002472,-.007608004,.03,-.006472,-.004702004,.03,-.006472,-.004702,.002,.002472,-.007608004,.03,.003453,-.011674,.03,-.001836,-.011942,.03,-.018604,-.120148,.001999986,-.019075,.060079,.002000007,-.019047,-.120065,.001999986,.016353,-.121573,.001999986,.016353,-.121573,-1.449263e-8,.016978,-.121042,.001999986,.016353,-.121573,.001999986,.015764,-.122191,.001999985,.016353,-.121573,-1.449263e-8,.014929,-.123252,.001999985,.014929,-.123252,-1.469278e-8,.015764,-.122191,.001999985,.018344,.060288,.002000007,-.018231,.060289,.002000007,.019137,.060079,.002000007,.001531,-.134926,.001999984,.002936,-.134721,.001999984,.008788,-.131752,.001999984,-.0015,-.077781,.001999991,.0015,-.077781,.001999991,-.019075,.060079,.002000007,-.019075,.060079,.002000007,-.018604,-.120148,.001999986,-.0015,-.077781,.001999991,-.0015,-.097781,.001999988,-.018604,-.120148,.001999986,.0015,-.097781,.001999988,.019137,.060079,.002000007,.0015,-.077781,.001999991,.019149,-.120075,.001999986,-.009371,-.130983,.001999984,0,-.135,.001999984,-.010391,-.129722,.001999985,.017614,.060617,.002000007,-.017458,.060619,.002000007,.018344,.060288,.002000007,0,-.135,.001999984,.001531,-.134926,.001999984,.009953,-.130562,.001999984,.016937,.061053,.002000007,-.016747,.061058,.002000007,.017614,.060617,.002000007,-.010391,-.129722,.001999985,.009953,-.130562,.001999984,-.011868,-.127496,.001999985,.016304,.061587,.002000008,-.016089,.061593,.002000008,.016937,.061053,.002000007,-.011868,-.127496,.001999985,.014929,-.123252,.001999985,-.014802,-.122855,.001999985,.015421,.062543,.002000008,-.015475,.062214,.002000008,.016304,.061587,.002000008,-.014802,-.122855,.001999985,.015764,-.122191,.001999985,-.015686,-.121844,.001999986,.012136,.067516,.002000008,-.014617,.063281,.002000008,.015421,.062543,.002000008,-.005324,.073988,.002000009,-.007335,.072848,.002000009,-.004169,.074417,.002000009,.009953,-.130562,.001999984,.009953,-.130562,-1.55642e-8,.014929,-.123252,.001999985,-.016327,-.121269,.001999986,.016978,-.121042,.001999986,-.017021,-.120787,.001999986,-.015686,-.121844,.001999986,.016353,-.121573,.001999986,-.016327,-.121269,.001999986,.010582,.069727,.002000008,-.009384,.071011,.002000008,.012136,.067516,.002000008,.010582,.069727,.002000008,.009512,.070979,.002000008,-.009384,.071011,.002000008,-.004169,.074417,.002000009,-.008209,.072159,.002000009,-.002903,.074736,.002000009,0,.075,.002000009,-.001517,.074934,.002000009,-.009384,.071011,.002000008,.008304,.072129,.002000009,.001519,.074926,.002000009,.009512,.070979,.002000008,.004191,.074397,.002000009,.002913,.074722,.002000009,.008304,.072129,.002000009,-.017021,-.120787,.001999986,.017646,-.120607,.001999986,-.017776,-.120409,.001999986,.008304,.072129,.002000009,.007408,.072818,.002000009,.004191,.074397,.002000009,.019149,-.120075,.001999986,-.018604,-.120148,.001999986,.018367,-.120281,.001999986,.02,-.12,.001999986,.02,.06,.002000007,.019149,-.120075,.001999986,.008788,-.131752,.001999984,.008788,-.131752,-1.570606e-8,.009953,-.130562,.001999984,.002936,-.134721,.001999984,.004223,-.134395,.001999984,.007464,-.132813,.001999984,-.002919,-.134734,.001999984,-.001527,-.134934,.001999984,-.009371,-.130983,.001999984,-.009371,-.130983,.001999984,-.00821,-.132139,.001999984,-.002919,-.134734,.001999984,.007464,-.132813,.001999984,.007464,-.132813,-1.583254e-8,.008788,-.131752,.001999984,-.00821,-.132139,.001999984,-.007343,-.132832,.001999984,-.004188,-.134412,.001999984,.006479,-.13343,.001999984,.006479,-.13343,-1.59061e-8,.007464,-.132813,.001999984,.006479,-.13343,.001999984,.005401,-.133961,.001999984,.006479,-.13343,-1.59061e-8,.004223,-.134395,.001999984,.004223,-.134395,-1.602113e-8,.005401,-.133961,.001999984,.002936,-.134721,.001999984,.002936,-.134721,-1.605999e-8,.004223,-.134395,.001999984,.001531,-.134926,.001999984,.001531,-.134926,-1.608443e-8,.002936,-.134721,.001999984,0,-.135,.001999984,0,-.135,-1.609325e-8,.001531,-.134926,.001999984,-.001527,-.134934,.001999984,-.001527,-.134934,-1.608539e-8,0,-.135,.001999984,-.002919,-.134734,.001999984,-.002919,-.134734,-1.606154e-8,-.001527,-.134934,.001999984,-.004188,-.134412,.001999984,-.004188,-.134412,-1.602316e-8,-.002919,-.134734,.001999984,-.005342,-.13398,.001999984,-.005342,-.13398,-1.597166e-8,-.004188,-.134412,.001999984,-.00639,-.13345,.001999984,-.00639,-.13345,-1.590848e-8,-.005342,-.13398,.001999984,-.007343,-.132832,.001999984,-.007343,-.132832,-1.583481e-8,-.00639,-.13345,.001999984,-.00821,-.132139,.001999984,-.00821,-.132139,-1.57522e-8,-.007343,-.132832,.001999984,-.009371,-.130983,.001999984,-.009371,-.130983,-1.561439e-8,-.00821,-.132139,.001999984,-.010391,-.129722,.001999985,-.010391,-.129722,-1.546407e-8,-.009371,-.130983,.001999984,-.011868,-.127496,.001999985,-.011868,-.127496,-1.519871e-8,-.010391,-.129722,.001999985,-.014802,-.122855,.001999985,-.014802,-.122855,-1.464546e-8,-.011868,-.127496,.001999985,-.015686,-.121844,.001999986,-.015686,-.121844,-1.452494e-8,-.014802,-.122855,.001999985,-.016327,-.121269,.001999986,-.016327,-.121269,-1.445639e-8,-.015686,-.121844,.001999986,-.017021,-.120787,.001999986,-.017021,-.120787,-1.439893e-8,-.016327,-.121269,.001999986,-.017776,-.120409,.001999986,-.017776,-.120409,-1.435387e-8,-.017021,-.120787,.001999986,-.018604,-.120148,.001999986,-.018604,-.120148,-1.432276e-8,-.017776,-.120409,.001999986,-.019047,-.120065,-1.431286e-8,-.018604,-.120148,-1.432276e-8,-.019047,-.120065,.001999986,-.02,-.12,.001999986,-.02,-.12,-1.430511e-8,-.019047,-.120065,.001999986,-.02,.06,.002000007,-.02,.06,7.152557e-9,-.02,-.12,.001999986,-.019075,.060079,.002000007,-.019075,.060079,7.161975e-9,-.02,.06,.002000007,-.018231,.060289,.002000007,-.018231,.060289,7.187009e-9,-.019075,.060079,.002000007,-.017458,.060619,.002000007,-.017458,.060619,7.226348e-9,-.018231,.060289,.002000007,-.016747,.061058,.002000007,-.016747,.061058,7.278681e-9,-.017458,.060619,.002000007,-.016089,.061593,.002000008,-.016089,.061593,7.342458e-9,-.016747,.061058,.002000007,-.015475,.062214,.002000008,-.015475,.062214,7.416487e-9,-.016089,.061593,.002000008,-.014617,.063281,.002000008,-.014617,.063281,7.543683e-9,-.015475,.062214,.002000008,-.009384,.071011,.002000008,-.009384,.071011,8.465171e-9,-.014617,.063281,.002000008,-.008209,.072159,.002000009,-.008209,.072159,8.602023e-9,-.009384,.071011,.002000008,-.007335,.072848,.002000009,-.007335,.072848,8.684158e-9,-.008209,.072159,.002000009,-.006376,.073461,.002000009,-.006376,.073461,8.757234e-9,-.007335,.072848,.002000009,-.005324,.073988,.002000009,-.005324,.073988,8.820057e-9,-.006376,.073461,.002000009,-.004169,.074417,.002000009,-.004169,.074417,8.871198e-9,-.005324,.073988,.002000009,-.002903,.074736,.002000009,-.002903,.074736,8.909225e-9,-.004169,.074417,.002000009,-.001517,.074934,.002000009,-.001517,.074934,8.932829e-9,-.002903,.074736,.002000009,0,.075,.002000009,0,.075,8.940697e-9,-.001517,.074934,.002000009,.001519,.074926,.002000009,.001519,.074926,8.931875e-9,0,.075,.002000009,.002913,.074722,.002000009,.002913,.074722,8.907556e-9,.001519,.074926,.002000009,.004191,.074397,.002000009,.004191,.074397,8.868813e-9,.002913,.074722,.002000009,.00536,.073964,.002000009,.00536,.073964,8.817196e-9,.004191,.074397,.002000009,.00643,.073434,.002000009,.00643,.073434,8.754015e-9,.00536,.073964,.002000009,.00643,.073434,.002000009,.007408,.072818,.002000009,.00643,.073434,8.754015e-9,.008304,.072129,.002000009,.008304,.072129,8.598447e-9,.007408,.072818,.002000009,.008304,.072129,.002000009,.009512,.070979,.002000008,.008304,.072129,8.598447e-9,.010582,.069727,.002000008,.010582,.069727,8.312107e-9,.009512,.070979,.002000008,.012136,.067516,.002000008,.012136,.067516,8.048534e-9,.010582,.069727,.002000008,.012136,.067516,.002000008,.015421,.062543,.002000008,.012136,.067516,8.048534e-9,.016304,.061587,.002000008,.016304,.061587,7.341742e-9,.015421,.062543,.002000008,.016304,.061587,.002000008,.016937,.061053,.002000007,.016304,.061587,7.341742e-9,.017614,.060617,.002000007,.017614,.060617,7.226109e-9,.016937,.061053,.002000007,.018344,.060288,.002000007,.018344,.060288,7.18689e-9,.017614,.060617,.002000007,.019137,.060079,.002000007,.019137,.060079,7.161975e-9,.018344,.060288,.002000007,.02,.06,.002000007,.02,.06,7.152557e-9,.019137,.060079,.002000007,.02,-.12,.001999986,.02,-.12,-1.430511e-8,.02,.06,.002000007,.019149,-.120075,.001999986,.019149,-.120075,-1.431406e-8,.02,-.12,.001999986,.019149,-.120075,.001999986,.018367,-.120281,.001999986,.019149,-.120075,-1.431406e-8,.017646,-.120607,.001999986,.017646,-.120607,-1.437748e-8,.018367,-.120281,.001999986,.016978,-.121042,.001999986,.016978,-.121042,-1.442933e-8,.017646,-.120607,.001999986,.0015,-.097781,.0002859883,.0015,-.097781,.001999988,.0015,-.077781,.0002859907,-.0015,-.077781,.0002859907,-.0015,-.097781,.0002859883,.0015,-.077781,.0002859907,-.0015,-.077781,.0002859907,-.0015,-.077781,.001999991,-.0015,-.097781,.0002859883,.0015,-.077781,.0002859907,.0015,-.077781,.001999991,-.0015,-.077781,.0002859907,-.0015,-.097781,.0002859883,-.0015,-.097781,.001999988,.0015,-.097781,.0002859883,.00138,.012095,.03,.008705,.008682996,.03,.002472,.007607996,.03,-.004666,.011094,.03,.00138,.012095,.03,-.002472,.007607996,.03,.008705,.008682996,.03,.012011,.001776996,.03,.006472,.004701996,.03,.012011,.001776996,.03,.011131,-.005043004,.03,.008,-3.576279e-9,.03,.011131,-.005043004,.03,.007132,-.009824004,.03,.006472,-.004702004,.03,-.006472,-.004702004,.03,-.002472,-.007608004,.03,-.007621,-.009812004,.03,-.006472,-.004702004,.03,-.007621,-.009812004,.03,-.008,-3.576279e-9,.03,-.013731,.006550996,.03,-.010367,.007194996,.03,-.008,-3.576279e-9,.03,-.010367,.007194996,.03,-.004666,.011094,.03,-.006472,.004701996,.03,-.006472,.004701999,.002000001,-.006472,.004701996,.03,-.002472,.007608,.002000001,.006472,.004701999,.002000001,.006472,.004701996,.03,.008,-2.384186e-10,.002,.006472,-.004702,.002,.006472,-.004702004,.03,.002472,-.007608001,.001999999,-.006472,.004701999,.002000001,-.008,-2.384186e-10,.002,-.006472,.004701996,.03,.002472,.007608,.002000001,.002472,.007607996,.03,.006472,.004701999,.002000001,.002472,-.007608001,.001999999,.002472,-.007608004,.03,-.002472,-.007608001,.001999999,-.008,-2.384186e-10,.002,-.006472,-.004702,.002,-.008,-3.576279e-9,.03,-.002472,.007608,.002000001,-.002472,.007607996,.03,.002472,.007608,.002000001,.008,-2.384186e-10,.002,.008,-3.576279e-9,.03,.006472,-.004702,.002,-.002472,-.007608001,.001999999,-.002472,-.007608004,.03,-.006472,-.004702,.002,.003453,-.011674,.03,.002472,-.007608004,.03,.007132,-.009824004,.03,.002472,-.007608004,.03,-.001836,-.011942,.03,-.002472,-.007608004,.03]),oe=f;oe<Q.length-2;oe+=3)Q[oe]+=_,Q[oe+1]+=b,Q[oe+2]+=k;else Q[U]=Q[U+9]=g,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=v,Q[U+3]=g,Q[U+4]=y,Q[U+5]=v,Q[U+6]=Q[U+12]=_,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=w,Q[U+15]=_,Q[U+16]=b,Q[U+17]=w,Q[U+=18]=Q[U+9]=g,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=S,Q[U+3]=g,Q[U+4]=y,Q[U+5]=S,Q[U+6]=Q[U+12]=g,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=v,Q[U+15]=g,Q[U+16]=b,Q[U+17]=v,Q[U+=18]=Q[U+9]=j,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=S,Q[U+3]=j,Q[U+4]=y,Q[U+5]=S,Q[U+6]=Q[U+12]=g,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=S,Q[U+15]=g,Q[U+16]=b,Q[U+17]=S,Q[U+=18]=Q[U+9]=j,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=k,Q[U+3]=j,Q[U+4]=y,Q[U+5]=k,Q[U+6]=Q[U+12]=j,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=S,Q[U+15]=j,Q[U+16]=b,Q[U+17]=S,Q[U+=18]=Q[U+9]=_,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=w,Q[U+3]=_,Q[U+4]=y,Q[U+5]=w,Q[U+6]=Q[U+12]=_,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=k,Q[U+15]=_,Q[U+16]=b,Q[U+17]=k,Q[U+=18]=Q[U+9]=g,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=S,Q[U+3]=g,Q[U+4]=b,Q[U+5]=v,Q[U+6]=Q[U+12]=_,Q[U+7]=Q[U+13]=b,Q[U+8]=Q[U+14]=w,Q[U+15]=j,Q[U+16]=b,Q[U+17]=S,Q[U+=18]=Q[U+9]=_,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=k,Q[U+3]=j,Q[U+4]=b,Q[U+5]=k,Q[U+6]=Q[U+12]=j,Q[U+7]=Q[U+13]=b,Q[U+8]=Q[U+14]=S,Q[U+15]=_,Q[U+16]=b,Q[U+17]=w,Q[U+=18]=Q[U+9]=g,Q[U+1]=Q[U+10]=y,Q[U+2]=Q[U+11]=v,Q[U+3]=g,Q[U+4]=y,Q[U+5]=S,Q[U+6]=Q[U+12]=j,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=S,Q[U+15]=_,Q[U+16]=y,Q[U+17]=w,Q[U+=18]=Q[U+9]=_,Q[U+1]=Q[U+10]=y,Q[U+2]=Q[U+11]=w,Q[U+3]=j,Q[U+4]=y,Q[U+5]=S,Q[U+6]=Q[U+12]=j,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=k,Q[U+15]=_,Q[U+16]=y,Q[U+17]=k,U+=18,g=K+I+R-(.06+.009-.02)-.04,b=1.06,v=o+e.leafWidth+.002,y=1.06-.21,_=K+I+R-(.06+.009-.02),S=o-.002,Q[U]=Q[U+9]=g,Q[U+1]=Q[U+10]=b,Q[U+2]=Q[U+11]=v,Q[U+3]=g,Q[U+4]=y,Q[U+5]=v,Q[U+6]=Q[U+12]=_,Q[U+7]=Q[U+13]=y,Q[U+8]=Q[U+14]=v,Q[U+15]=_,Q[U+16]=b,Q[U+17]=v,U+=18;d=Q.length,m=Q.slice(f,d);var ae;for(ae=0;ae<m.length-2;ae+=3)m[ae+2]=-m[ae+2]+2*(E+e.leafWidth-D-N)-e.leafWidth;for(ae=0;ae<m.length-8;ae+=9)Y[1]=m[ae+3],Y[2]=m[ae+4],Y[3]=m[ae+5],m[ae+3]=m[ae+6],m[ae+4]=m[ae+7],m[ae+5]=m[ae+8],m[ae+6]=Y[1],m[ae+7]=Y[2],m[ae+8]=Y[3];if(Q=Q.concat(m),U+=m.length,h=Q.length,n[ne].flipLeaf||"left"===e.hinge&&"doubleSwing"!==O&&"doubleSwingDoubleFix"!==O)for(se=f;se<h-2;se+=3)a=Q[se]-I-R/2-M,Q[se+2]=Q[se+2]-E-e.leafWidth/2+D+N,Q[se]=-a+I+R/2+M,Q[se+2]=-Q[se+2]+E+e.leafWidth/2-D-N}if(n[ne].angle>0){for(a=0,c=Math.cos(n[ne].angle/180*Math.PI),s=Math.sin(n[ne].angle/180*Math.PI),n[ne].flipLeaf||"left"===e.hinge&&"doubleSwing"!==O&&"doubleSwingDoubleFix"!==O?l=-I-R-M:(l=-I-M,s=-s),se=u;se<p-2;se+=3)a=X[se]+l,X[se+2]=X[se+2]-E+D+N,X[se]=a*c-X[se+2]*s-l,X[se+2]=X[se+2]*c+a*s+E-D-N;for(se=f;se<h-2;se+=3)a=Q[se]+l,Q[se+2]=Q[se+2]-E+D+N,Q[se]=a*c-Q[se+2]*s-l,Q[se+2]=Q[se+2]*c+a*s+E-D-N}K+=R}var se,ce=X.length,le=Q.length;if("front"===e.side){for(se=0;se<ce;se+=3)a=X[se]-I-V/2,X[se+2]=X[se+2]-E-D/2-N/2-F/2,X[se]=-a+I+V/2,X[se+2]=-X[se+2]+E-D/2-N/2+F/2;for(se=0;se<le;se+=3)a=Q[se]-I-V/2,Q[se+2]=Q[se+2]-E-D/2-N/2-F/2,Q[se]=-a+I+V/2,Q[se+2]=-Q[se+2]+E-D/2-N/2+F/2}return Promise.resolve({frame:{positions:$,normals:Yc.flat($),material:"frame"},handle:{positions:new Float32Array(Q),normals:Yc.flat(Q),material:"handle"},leaf:{positions:new Float32Array(X),normals:Yc.flat(X),uvs:new Float32Array(J),material:"leaf"},threshold:{positions:ee,normals:Yc.flat(ee),uvs:te,material:"threshold"}})}(e,t),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i,e).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.el.parentEl.removeEventListener("wall-changed",this.updateFromWall),this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)},generateMeshes3d:function(){}},al={schema:G("floor"),init:function(){},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.materials=J(r),function(e){return e.materials=Jc(e.materials,{top:"wood_parquet_oak",side:"basic-wall",ceiling:"basic-ceiling"}),Promise.all([function(e){var t,r=[0,0,0,e.w,e.l,e.w,e.l,0],i=rl({outline:r,y:0,uvx:e.x,uvz:e.z});t=e.hasCeiling?rl({outline:r,y:e.hCeiling,uvx:e.x,uvz:e.z,flipSide:!0}):{vertices:new Float32Array(0),uvs:new Float32Array(0)};var n=il({outline:r,y:-e.h,flipSide:!0});return Promise.resolve({top:{positions:i.vertices,normals:Yc.flat(i.vertices),uvs:i.uvs,material:"top"},sides:{positions:n.vertices,normals:Yc.flat(n.vertices),uvs:n.uvs,material:"side"},ceiling:{positions:t.vertices,normals:Yc.flat(t.vertices),uvs:t.uvs,material:"ceiling"}})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},sl=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,cl={parse:function(e){if("string"!=typeof e)throw new TypeError("Parameter 'path' must be a string, not "+(void 0===e?"undefined":Yr(e)));var t=sl.exec(e).slice(1);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}}};ue.prototype.parse=function(e,t,r,i){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+(void 0===e?"undefined":Yr(e)));"undefined"==typeof window||e.match(/^[^:]+:\/\//)||"//"===e.substr(0,2)||("/"===e[0]&&(e=e.slice(1)),e=window.location.protocol+"//"+window.location.host+window.location.pathname+e,console.error("mutated",e)),"//"===e.substr(0,2)&&"undefined"!=typeof window&&window.location&&window.location.protocol&&(e=window.location.protocol+e);for(var n=0,o=e.length-1;e.charCodeAt(n)<=32;)n++;for(;e.charCodeAt(o)<=32;)o--;if(n=this._parseProtocol(e,n,o),"javascript"!==this._protocol){n=this._parseHost(e,n,o,r);var a=this._protocol;!this.hostname&&(this.slashes||a&&!vl[a])&&(this.hostname=this.host="")}if(n<=o){var s=e.charCodeAt(n);47===s||92===s?this._parsePath(e,n,o,i):63===s?this._parseQuery(e,n,o,i):35===s?this._parseHash(e,n,o,i):"javascript"!==this._protocol?this._parsePath(e,n,o,i):this.pathname=e.slice(n,o+1)}if(!this.pathname&&this.hostname&&this._slashProtocols[this._protocol]&&(this.pathname="/"),t){var c=this.search;null==c&&(c=this.search=""),63===c.charCodeAt(0)&&(c=c.slice(1)),this.query=ue.queryString.parse(c)}},ue.prototype.resolve=function(e){return this.resolveObject(ue.parse(e,!1,!0)).format()},ue.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=this.search||"",o="",a=this.hostname||"",s=this.port||"",c=!1,l="",u=this.query;u&&"object"===(void 0===u?"undefined":Yr(u))&&(o=ue.queryString.stringify(u)),n||(n=o?"?"+o:""),t&&58!==t.charCodeAt(t.length-1)&&(t+=":"),this.host?c=e+this.host:a&&(a.indexOf(":")>-1&&(a="["+a+"]"),c=e+a+(s?":"+s:""));var p=this.slashes||(!t||vl[t])&&!1!==c;return t?l=t+(p?"//":""):p&&(l="//"),p&&r&&47!==r.charCodeAt(0)&&(r="/"+r),n&&63!==n.charCodeAt(0)&&(n="?"+n),i&&35!==i.charCodeAt(0)&&(i="#"+i),r=ll(r),n=ul(n),l+(!1===c?"":c)+r+n+i},ue.prototype.resolveObject=function(e){"string"==typeof e&&(e=ue.parse(e,!1,!0));var t=this._clone();if(t.hash=e.hash,!e.href)return t._href="",t;if(e.slashes&&!e._protocol)return e._copyPropsTo(t,!0),vl[t._protocol]&&t.hostname&&!t.pathname&&(t.pathname="/"),t._href="",t;if(e._protocol&&e._protocol!==t._protocol){if(!vl[e._protocol])return e._copyPropsTo(t,!1),t._href="",t;if(t._protocol=e._protocol,e.host||"javascript"===e._protocol)t.pathname=e.pathname;else{for(s=(e.pathname||"").split("/");s.length&&!(e.host=s.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==s[0]&&s.unshift(""),s.length<2&&s.unshift(""),t.pathname=s.join("/")}return t.search=e.search,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t._port=e._port,t.slashes=t.slashes||e.slashes,t._href="",t}var r=t.pathname&&47===t.pathname.charCodeAt(0),i=e.host||e.pathname&&47===e.pathname.charCodeAt(0),n=i||r||t.host&&e.pathname,o=n,a=t.pathname&&t.pathname.split("/")||[],s=e.pathname&&e.pathname.split("/")||[],c=t._protocol&&!vl[t._protocol];if(c&&(t.hostname="",t._port=-1,t.host&&(""===a[0]?a[0]=t.host:a.unshift(t.host)),t.host="",e._protocol&&(e.hostname="",e._port=-1,e.host&&(""===s[0]?s[0]=e.host:s.unshift(e.host)),e.host=""),n=n&&(""===s[0]||""===a[0])),i)t.host=e.host?e.host:t.host,t.hostname=e.hostname?e.hostname:t.hostname,t.search=e.search,a=s;else if(s.length)a||(a=[]),a.pop(),a=a.concat(s),t.search=e.search;else if(e.search)return c&&(t.hostname=t.host=a.shift(),(h=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"))&&(t.auth=h.shift(),t.host=t.hostname=h.shift())),t.search=e.search,t._href="",t;if(!a.length)return t.pathname=null,t._href="",t;for(var l=a.slice(-1)[0],u=(t.host||e.host)&&("."===l||".."===l)||""===l,p=0,f=a.length;f>=0;f--)"."===(l=a[f])?a.splice(f,1):".."===l?(a.splice(f,1),p++):p&&(a.splice(f,1),p--);if(!n&&!o)for(;p--;p)a.unshift("..");!n||""===a[0]||a[0]&&47===a[0].charCodeAt(0)||a.unshift(""),u&&"/"!==a.join("/").substr(-1)&&a.push("");var d=""===a[0]||a[0]&&47===a[0].charCodeAt(0);if(c){t.hostname=t.host=d?"":a.length?a.shift():"";var h=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@");h&&(t.auth=h.shift(),t.host=t.hostname=h.shift())}return(n=n||t.host&&a.length)&&!d&&a.unshift(""),t.pathname=0===a.length?null:a.join("/"),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t._href="",t};var ll=ue.prototype._escapePathName=function(e){return pe(e,35,63)?function(e){return e.replace(/[?#]/g,function(e){return encodeURIComponent(e)})}(e):e},ul=ue.prototype._escapeSearch=function(e){return pe(e,35,-1)?function(e){return e.replace(/#/g,function(e){return encodeURIComponent(e)})}(e):e};ue.prototype._parseProtocol=function(e,t,r){for(var i=!1,n=this._protocolCharacters,o=t;o<=r;++o){var a=e.charCodeAt(o);if(58===a){var s=e.slice(t,o);return i&&(s=s.toLowerCase()),this._protocol=s,o+1}if(1!==n[a])return t;a<97&&(i=!0)}return t},ue.prototype._parseAuth=function(e,t,r,i){var n=e.slice(t,r+1);i&&(n=decodeURIComponent(n)),this.auth=n},ue.prototype._parsePort=function(e,t,r){for(var i=0,n=!1,o=!0,a=t;a<=r;++a){var s=e.charCodeAt(a);if(!(48<=s&&s<=57)){o=!1,92!==s&&47!==s||(o=!0);break}i=10*i+(s-48),n=!0}return 0===i&&!n||!o?(o||(this._port=-2),0):(this._port=i,a-t)},ue.prototype._parseHost=function(e,t,r,i){var n=this._hostEndingCharacters,o=e.charCodeAt(t),a=e.charCodeAt(t+1);if(47!==o&&92!==o||47!==a&&92!==a){if(!this._protocol||vl[this._protocol])return t}else{if(this.slashes=!0,0===t){if(r<2)return t;if(!function(e,t,r,i){for(var n=e.length,o=2;o<n;++o){var a=e.charCodeAt(o);if(64===a)return!0;if(1===i[a])return!1}return!1}(e,0,0,n)&&!i)return this.slashes=null,t}t+=2}for(var s=!1,c=t,l=r,u=0,p=0,f=!1,d=-1,h=t;h<=r;++h)if(64===(m=e.charCodeAt(h)))d=h;else if(37===m)f=!0;else if(1===n[m])break;if(d>-1&&(this._parseAuth(e,t,d-1,f),t=c=d+1),91===e.charCodeAt(t)){for(h=t+1;h<=r;++h)if(93===(m=e.charCodeAt(h)))return 58===e.charCodeAt(h+1)&&(u=this._parsePort(e,h+2,r)+1),g=e.slice(t+1,h).toLowerCase(),this.hostname=g,this.host=this._port>0?"["+g+"]:"+this._port:"["+g+"]",this.pathname="/",h+u+1;return t}for(h=t;h<=r;++h){if(p>62)return this.hostname=this.host=e.slice(t,h),h;var m=e.charCodeAt(h);if(58===m){u=this._parsePort(e,h+1,r)+1,l=h-1;break}if(m<97){if(46===m)p=-1;else if(65<=m&&m<=90)s=!0;else if(!(45===m||95===m||43===m||48<=m&&m<=57)){0===n[m]&&0===this._noPrependSlashHostEnders[m]&&(this._prependSlash=!0),l=h-1;break}}else if(m>=123&&m<=126){0===this._noPrependSlashHostEnders[m]&&(this._prependSlash=!0),l=h-1;break}p++}if(l+1!==t&&l-c<=256){var g=e.slice(c,l+1);s&&(g=g.toLowerCase()),this.hostname=g,this.host=this._port>0?g+":"+this._port:g}return l+1+u},ue.prototype._copyPropsTo=function(e,t){t||(e._protocol=this._protocol),e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname},ue.prototype._clone=function(){var e=new ue;return e._protocol=this._protocol,e._href=this._href,e._port=this._port,e._prependSlash=this._prependSlash,e.auth=this.auth,e.slashes=this.slashes,e.host=this.host,e.hostname=this.hostname,e.hash=this.hash,e.search=this.search,e.pathname=this.pathname,e},ue.prototype._getComponentEscaped=function(e,t,r,i){for(var n=t,o=t,a="",s=i?this._afterQueryAutoEscapeMap:this._autoEscapeMap;o<=r;++o){var c=s[e.charCodeAt(o)];""!==c&&void 0!==c&&(n<o&&(a+=e.slice(n,o)),a+=c,n=o+1)}return n<o+1&&(a+=e.slice(n,o)),a},ue.prototype._parsePath=function(e,t,r,i){for(var n=t,o=r,a=!1,s=this._autoEscapeCharacters,c=-2===this._port?"/:":"",l=t;l<=r;++l){var u=e.charCodeAt(l);if(35===u){this._parseHash(e,l,r,i),o=l-1;break}if(63===u){this._parseQuery(e,l,r,i),o=l-1;break}i||a||1!==s[u]||(a=!0)}if(n>o)this.pathname=""===c?"/":c;else{var p;p=a?this._getComponentEscaped(e,n,o,!1):e.slice(n,o+1),this.pathname=""===c?this._prependSlash?"/"+p:p:c+p}},ue.prototype._parseQuery=function(e,t,r,i){for(var n=t,o=r,a=!1,s=this._autoEscapeCharacters,c=t;c<=r;++c){var l=e.charCodeAt(c);if(35===l){this._parseHash(e,c,r,i),o=c-1;break}i||a||1!==s[l]||(a=!0)}if(n>o)this.search="";else{var u;u=a?this._getComponentEscaped(e,n,o,!0):e.slice(n,o+1),this.search=u}},ue.prototype._parseHash=function(e,t,r,i){this.hash=t>r?"":i?e.slice(t,r+1):this._getComponentEscaped(e,t,r,!0)},Object.defineProperty(ue.prototype,"port",{get:function(){return this._port>=0?""+this._port:null},set:function(e){this._port=null==e?-1:parseInt(e,10)}}),Object.defineProperty(ue.prototype,"query",{get:function(){var e=this._query;if(null!=e)return e;var t=this.search;return t&&(63===t.charCodeAt(0)&&(t=t.slice(1)),""!==t)?(this._query=t,t):t},set:function(e){this._query=e}}),Object.defineProperty(ue.prototype,"path",{get:function(){var e=this.pathname||"",t=this.search||"";return e||t?e+t:null==e&&t?"/"+t:null},set:function(){}}),Object.defineProperty(ue.prototype,"protocol",{get:function(){var e=this._protocol;return e?e+":":e},set:function(e){if("string"==typeof e){var t=e.length-1;58===e.charCodeAt(t)?this._protocol=e.slice(0,t):this._protocol=e}else null==e&&(this._protocol=null)}}),Object.defineProperty(ue.prototype,"href",{get:function(){var e=this._href;return e||(e=this._href=this.format()),e},set:function(e){this._href=e}}),ue.parse=function(e,t,r,i){if(e instanceof ue)return e;var n=new ue;return n.parse(e,!!t,!!r,!!i),n},ue.format=function(e){return"string"==typeof e&&(e=ue.parse(e)),e instanceof ue?e.format():ue.prototype.format.call(e)},ue.resolve=function(e,t){return ue.parse(e,!1,!0).resolve(t)},ue.resolveObject=function(e,t){return e?ue.parse(e,!1,!0).resolveObject(t):t};for(var pl=["<",">",'"',"`"," ","\r","\n","\t","{","}","|","\\","^","`","'"],fl=new Array(128),dl=0,hl=fl.length;dl<hl;++dl)fl[dl]="";for(var dl=0,hl=pl.length;dl<hl;++dl){var ml=pl[dl],gl=encodeURIComponent(ml);gl===ml&&(gl=escape(ml)),fl[ml.charCodeAt(0)]=gl}var bl=fl.slice();fl[92]="/";var vl=ue.prototype._slashProtocols={http:!0,https:!0,gopher:!0,file:!0,ftp:!0,"http:":!0,"https:":!0,"gopher:":!0,"file:":!0,"ftp:":!0};ue.prototype._protocolCharacters=fe([[97,122],[65,90],46,43,45]),ue.prototype._hostEndingCharacters=fe([35,63,47,92]),ue.prototype._autoEscapeCharacters=fe(pl.map(function(e){return e.charCodeAt(0)})),ue.prototype._noPrependSlashHostEnders=fe(["<",">","'","`"," ","\r","\n","\t","{","}","|","^","`",'"',"%",";"].map(function(e){return e.charCodeAt(0)})),ue.prototype._autoEscapeMap=fl,ue.prototype._afterQueryAutoEscapeMap=bl;for(var yl,_l=new RegExp("^http:\\/\\/.*$|^https:\\/\\/.*$"),wl=16,xl=1094988612,Cl=1,Sl=["mapDiffuseSource","mapSpecularSource","mapNormalSource","mapAlphaSource","mapLightSource","mapDiffuse","mapSpecular","mapNormal","mapAlpha","mapLight","mapDiffusePreview","mapSpecularPreview","mapNormalPreview","mapAlphaPreview","mapLightPreview"],jl=new B,kl={schema:G("kitchen"),init:function(){},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.materials=J(r),function(e){return e.materials=Jc(e.materials,{kitchen:"cabinet_paint_white",counter:"counter_granite_black",tab:"chrome",oven:"oven_miele_60-60",cooktop:"cooktop_westinghouse_60",microwave:"microwave_samsung",chrome:"chrome",black_metal:{specularCoef:24,colorDiffuse:[.02,.02,.02],colorSpecular:[.7,.7,.7]}}),Promise.all([function(e){function t(e){for(var t=0,r=0;r<e-1;r++)t+=w[r];return t}function r(t){var r="flat"===f,i="style1"===f?.01:"style2"===f?-.01:e.doorWidth,n="style1"===f?.04:"style2"===f?.005:0,o="style1"===f?-.01:"style2"===f?.02:0,a="style1"===f?.015:"style2"===f?.03:0;if(P=t.aX,A=t.aY,E=t.aZ,T=t.bY,I=t.cX,R=A-e.doorWidth/2,L=E+i,N=T+e.doorWidth/2,!(A<=T||I<=P)){var s=(H=F+n)+a,l=(U=R-n)-a;Y=L+o;var p=(G=N+n)+a,d=(K=M-n)-a;if(0===t.i&&(ie[ne]=ie[ne+9]=P,ie[ne+1]=ie[ne+10]=e.baseBoard,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=P,ie[ne+4]=0,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=I,ie[ne+7]=ie[ne+13]=0,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=I,ie[ne+16]=e.baseBoard,ie[ne+17]=E,ne+=18),I-P<.1||A-T<.1)return ie[ne]=ie[ne+9]=P,ie[ne+1]=ie[ne+10]=A,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=P,ie[ne+4]=T,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=I,ie[ne+7]=ie[ne+13]=T,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=I,ie[ne+16]=A,ie[ne+17]=E,void(ne+=18);var h=!1,m=!1;u&&xe+1===e.microwavePos&&(6===t.k&&0===t.i?h=!0:8===t.k&&2===t.i?h=!0:9===t.k&&3===t.i&&(h=!0)),c&&xe+1===e.ovenPos&&(1===t.k&&(1===t.i||2===t.i&&"double"===e.ovenType)?m=!0:4!==t.k&&9!==t.k||(1===t.i||2===t.i&&"double"===e.ovenType)&&(m=!0)),ie[ne]=ie[ne+9]=P,ie[ne+1]=ie[ne+10]=A,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=P,ie[ne+4]=T,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=F,ie[ne+7]=ie[ne+13]=N,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=F,ie[ne+16]=R,ie[ne+17]=E,ie[ne+=18]=ie[ne+9]=F,ie[ne+1]=ie[ne+10]=N,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=P,ie[ne+4]=T,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=I,ie[ne+7]=ie[ne+13]=T,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=M,ie[ne+16]=N,ie[ne+17]=E,ie[ne+=18]=ie[ne+9]=M,ie[ne+1]=ie[ne+10]=R,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=M,ie[ne+4]=N,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=I,ie[ne+7]=ie[ne+13]=T,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=I,ie[ne+16]=A,ie[ne+17]=E,ie[ne+=18]=ie[ne+9]=P,ie[ne+1]=ie[ne+10]=A,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=F,ie[ne+4]=R,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=M,ie[ne+7]=ie[ne+13]=R,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=I,ie[ne+16]=A,ie[ne+17]=E,ie[ne+=18]=ie[ne+9]=F,ie[ne+1]=ie[ne+10]=R,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=F,ie[ne+4]=N,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=F,ie[ne+7]=ie[ne+13]=N,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=F,ie[ne+16]=R,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=F,ie[ne+1]=ie[ne+10]=N,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=F,ie[ne+4]=N,ie[ne+5]=E,ie[ne+6]=ie[ne+12]=M,ie[ne+7]=ie[ne+13]=N,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=M,ie[ne+16]=N,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=M,ie[ne+1]=ie[ne+10]=R,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=M,ie[ne+4]=N,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=M,ie[ne+7]=ie[ne+13]=N,ie[ne+8]=ie[ne+14]=E,ie[ne+15]=M,ie[ne+16]=R,ie[ne+17]=E,ie[ne+=18]=ie[ne+9]=F,ie[ne+1]=ie[ne+10]=R,ie[ne+2]=ie[ne+11]=E,ie[ne+3]=F,ie[ne+4]=R,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=M,ie[ne+7]=ie[ne+13]=R,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=M,ie[ne+16]=R,ie[ne+17]=E,ne+=18,m?(le[ue]=le[ue+9]=F,le[ue+1]=le[ue+10]=R,le[ue+2]=le[ue+11]=L,le[ue+3]=F,le[ue+4]=N,le[ue+5]=L,le[ue+6]=le[ue+12]=M,le[ue+7]=le[ue+13]=N,le[ue+8]=le[ue+14]=L,le[ue+15]=M,le[ue+16]=R,le[ue+17]=L,ue+=18,pe[fe]=pe[fe+6]=0,pe[fe+1]=pe[fe+7]=1,pe[fe+2]=0,pe[fe+3]=0,pe[fe+4]=pe[fe+8]=1,pe[fe+5]=pe[fe+9]=0,pe[fe+10]=1,pe[fe+11]=1,fe+=12):h?(ye[0]=ye[9]=F,ye[1]=ye[10]=R,ye[2]=ye[11]=L,ye[3]=F,ye[4]=N,ye[5]=L,ye[6]=ye[12]=M,ye[7]=ye[13]=N,ye[8]=ye[14]=L,ye[15]=M,ye[16]=R,ye[17]=L,_e=[0,1,0,0,1,0,0,1,1,0,1,1]):r||I-P<=.15||A-T<=.15?(ie[ne]=ie[ne+9]=F,ie[ne+1]=ie[ne+10]=R,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=F,ie[ne+4]=N,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=M,ie[ne+7]=ie[ne+13]=N,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=M,ie[ne+16]=R,ie[ne+17]=L,ne+=18):(ie[ne]=ie[ne+9]=F,ie[ne+1]=ie[ne+10]=R,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=F,ie[ne+4]=N,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=H,ie[ne+7]=ie[ne+13]=G,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=H,ie[ne+16]=U,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=H,ie[ne+1]=ie[ne+10]=G,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=F,ie[ne+4]=N,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=M,ie[ne+7]=ie[ne+13]=N,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=K,ie[ne+16]=G,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=K,ie[ne+1]=ie[ne+10]=U,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=K,ie[ne+4]=G,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=M,ie[ne+7]=ie[ne+13]=N,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=M,ie[ne+16]=R,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=F,ie[ne+1]=ie[ne+10]=R,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=H,ie[ne+4]=U,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=K,ie[ne+7]=ie[ne+13]=U,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=M,ie[ne+16]=R,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=H,ie[ne+1]=ie[ne+10]=U,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=H,ie[ne+4]=G,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=s,ie[ne+7]=ie[ne+13]=p,ie[ne+8]=ie[ne+14]=Y,ie[ne+15]=s,ie[ne+16]=l,ie[ne+17]=Y,ie[ne+=18]=ie[ne+9]=s,ie[ne+1]=ie[ne+10]=p,ie[ne+2]=ie[ne+11]=Y,ie[ne+3]=H,ie[ne+4]=G,ie[ne+5]=L,ie[ne+6]=ie[ne+12]=K,ie[ne+7]=ie[ne+13]=G,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=d,ie[ne+16]=p,ie[ne+17]=Y,ie[ne+=18]=ie[ne+9]=d,ie[ne+1]=ie[ne+10]=l,ie[ne+2]=ie[ne+11]=Y,ie[ne+3]=d,ie[ne+4]=p,ie[ne+5]=Y,ie[ne+6]=ie[ne+12]=K,ie[ne+7]=ie[ne+13]=G,ie[ne+8]=ie[ne+14]=L,ie[ne+15]=K,ie[ne+16]=U,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=H,ie[ne+1]=ie[ne+10]=U,ie[ne+2]=ie[ne+11]=L,ie[ne+3]=s,ie[ne+4]=l,ie[ne+5]=Y,ie[ne+6]=ie[ne+12]=d,ie[ne+7]=ie[ne+13]=l,ie[ne+8]=ie[ne+14]=Y,ie[ne+15]=K,ie[ne+16]=U,ie[ne+17]=L,ie[ne+=18]=ie[ne+9]=s,ie[ne+1]=ie[ne+10]=l,ie[ne+2]=ie[ne+11]=Y,ie[ne+3]=s,ie[ne+4]=p,ie[ne+5]=Y,ie[ne+6]=ie[ne+12]=d,ie[ne+7]=ie[ne+13]=p,ie[ne+8]=ie[ne+14]=Y,ie[ne+15]=d,ie[ne+16]=l,ie[ne+17]=Y,ne+=18)}}function i(){var r="integrated"===e.extractorType,i=t(e.cooktopPos)+(e.wallCabinet&&!r?.05:0),n=m+d,o=e.wallCabinet&&r?g:e.w-.6+g,a=t(e.cooktopPos+1)-(e.wallCabinet&&!r?.05:0),s=e.wallCabinet&&r?e.wallCabinetWidth:e.w-.6,c=m;if(se[ce]=se[ce+9]=i,se[ce+1]=se[ce+10]=n,se[ce+2]=se[ce+11]=o,se[ce+3]=i,se[ce+4]=c,se[ce+5]=o,se[ce+6]=se[ce+12]=a,se[ce+7]=se[ce+13]=c,se[ce+8]=se[ce+14]=o,se[ce+15]=a,se[ce+16]=n,se[ce+17]=o,ce+=18,e.wallCabinet&&r&&(se[ce]=se[ce+9]=i,se[ce+1]=se[ce+10]=n,se[ce+2]=se[ce+11]=s,se[ce+3]=i,se[ce+4]=n,se[ce+5]=o,se[ce+6]=se[ce+12]=a,se[ce+7]=se[ce+13]=n,se[ce+8]=se[ce+14]=o,se[ce+15]=a,se[ce+16]=n,se[ce+17]=s,ce+=18),se[ce]=se[ce+9]=i,se[ce+1]=se[ce+10]=n,se[ce+2]=se[ce+11]=s,se[ce+3]=i,se[ce+4]=c,se[ce+5]=s,se[ce+6]=se[ce+12]=i,se[ce+7]=se[ce+13]=c,se[ce+8]=se[ce+14]=o,se[ce+15]=i,se[ce+16]=n,se[ce+17]=o,ce+=18,se[ce]=se[ce+9]=a,se[ce+1]=se[ce+10]=n,se[ce+2]=se[ce+11]=o,se[ce+3]=a,se[ce+4]=c,se[ce+5]=o,se[ce+6]=se[ce+12]=a,se[ce+7]=se[ce+13]=c,se[ce+8]=se[ce+14]=s,se[ce+15]=a,se[ce+16]=n,se[ce+17]=s,ce+=18,se[ce]=se[ce+9]=i,se[ce+1]=se[ce+10]=c,se[ce+2]=se[ce+11]=o,se[ce+3]=i,se[ce+4]=c,se[ce+5]=s,se[ce+6]=se[ce+12]=a,se[ce+7]=se[ce+13]=c,se[ce+8]=se[ce+14]=s,se[ce+15]=a,se[ce+16]=c,se[ce+17]=o,ce+=18,se[ce]=se[ce+9]=a,se[ce+1]=se[ce+10]=n,se[ce+2]=se[ce+11]=s,se[ce+3]=a,se[ce+4]=c,se[ce+5]=s,se[ce+6]=se[ce+12]=i,se[ce+7]=se[ce+13]=c,se[ce+8]=se[ce+14]=s,se[ce+15]=i,se[ce+16]=n,se[ce+17]=s,ce+=18,!e.wallCabinet||"integrated"!==e.extractorType){var l=e.w>=.7&&!e.wallCabinet||e.barCounter;O=i+(a-i)/2-.12,z=e.h+v,L=l?e.w-.25:e.w-.4,V=n+("pyramid"===e.extractorType?h:0),W=O+.24,Z=l?e.w-.45:e.w-.6,se[ce]=se[ce+9]=i,se[ce+1]=se[ce+10]=n,se[ce+2]=se[ce+11]=s,se[ce+3]=i,se[ce+4]=n,se[ce+5]=o,se[ce+6]=se[ce+12]=O,se[ce+7]=se[ce+13]=V,se[ce+8]=se[ce+14]=L,se[ce+15]=O,se[ce+16]=V,se[ce+17]=Z,se[ce+=18]=se[ce+9]=O,se[ce+1]=se[ce+10]=V,se[ce+2]=se[ce+11]=L,se[ce+3]=i,se[ce+4]=n,se[ce+5]=o,se[ce+6]=se[ce+12]=a,se[ce+7]=se[ce+13]=n,se[ce+8]=se[ce+14]=o,se[ce+15]=W,se[ce+16]=V,se[ce+17]=L,se[ce+=18]=se[ce+9]=W,se[ce+1]=se[ce+10]=V,se[ce+2]=se[ce+11]=Z,se[ce+3]=W,se[ce+4]=V,se[ce+5]=L,se[ce+6]=se[ce+12]=a,se[ce+7]=se[ce+13]=n,se[ce+8]=se[ce+14]=o,se[ce+15]=a,se[ce+16]=n,se[ce+17]=s,ce+=18,("pyramid"===e.extractorType||e.w>.6||e.barCounter)&&(se[ce]=se[ce+9]=i,se[ce+1]=se[ce+10]=n,se[ce+2]=se[ce+11]=s,se[ce+3]=O,se[ce+4]=V,se[ce+5]=Z,se[ce+6]=se[ce+12]=W,se[ce+7]=se[ce+13]=V,se[ce+8]=se[ce+14]=Z,se[ce+15]=a,se[ce+16]=n,se[ce+17]=s,ce+=18),se[ce]=se[ce+9]=O,se[ce+1]=se[ce+10]=z,se[ce+2]=se[ce+11]=L,se[ce+3]=O,se[ce+4]=V,se[ce+5]=L,se[ce+6]=se[ce+12]=W,se[ce+7]=se[ce+13]=V,se[ce+8]=se[ce+14]=L,se[ce+15]=W,se[ce+16]=z,se[ce+17]=L,se[ce+=18]=se[ce+9]=O,se[ce+1]=se[ce+10]=z,se[ce+2]=se[ce+11]=Z,se[ce+3]=O,se[ce+4]=z,se[ce+5]=L,se[ce+6]=se[ce+12]=W,se[ce+7]=se[ce+13]=z,se[ce+8]=se[ce+14]=L,se[ce+15]=W,se[ce+16]=z,se[ce+17]=Z,se[ce+=18]=se[ce+9]=O,se[ce+1]=se[ce+10]=z,se[ce+2]=se[ce+11]=Z,se[ce+3]=O,se[ce+4]=V,se[ce+5]=Z,se[ce+6]=se[ce+12]=O,se[ce+7]=se[ce+13]=V,se[ce+8]=se[ce+14]=L,se[ce+15]=O,se[ce+16]=z,se[ce+17]=L,se[ce+=18]=se[ce+9]=W,se[ce+1]=se[ce+10]=z,se[ce+2]=se[ce+11]=L,se[ce+3]=W,se[ce+4]=V,se[ce+5]=L,se[ce+6]=se[ce+12]=W,se[ce+7]=se[ce+13]=V,se[ce+8]=se[ce+14]=Z,se[ce+15]=W,se[ce+16]=z,se[ce+17]=Z,se[ce+=18]=se[ce+9]=W,se[ce+1]=se[ce+10]=z,se[ce+2]=se[ce+11]=Z,se[ce+3]=W,se[ce+4]=V,se[ce+5]=Z,se[ce+6]=se[ce+12]=O,se[ce+7]=se[ce+13]=V,se[ce+8]=se[ce+14]=Z,se[ce+15]=O,se[ce+16]=z,se[ce+17]=Z,ce+=18}s=o=e.w,L=e.w+e.doorWidth}function n(e,t,r,i,n,o,a){1!==a&&(ie[ne]=ie[ne+9]=e,ie[ne+1]=ie[ne+10]=t,ie[ne+2]=ie[ne+11]=o,ie[ne+3]=e,ie[ne+4]=t,ie[ne+5]=r,ie[ne+6]=ie[ne+12]=n,ie[ne+7]=ie[ne+13]=t,ie[ne+8]=ie[ne+14]=r,ie[ne+15]=n,ie[ne+16]=t,ie[ne+17]=o,ne+=18),ie[ne]=ie[ne+9]=e,ie[ne+1]=ie[ne+10]=t,ie[ne+2]=ie[ne+11]=o,ie[ne+3]=e,ie[ne+4]=i,ie[ne+5]=o,ie[ne+6]=ie[ne+12]=e,ie[ne+7]=ie[ne+13]=i,ie[ne+8]=ie[ne+14]=r,ie[ne+15]=e,ie[ne+16]=t,ie[ne+17]=r,ie[ne+=18]=ie[ne+9]=e,ie[ne+1]=ie[ne+10]=t,ie[ne+2]=ie[ne+11]=o,ie[ne+3]=e,ie[ne+4]=i,ie[ne+5]=o,ie[ne+6]=ie[ne+12]=e,ie[ne+7]=ie[ne+13]=i,ie[ne+8]=ie[ne+14]=r,ie[ne+15]=e,ie[ne+16]=t,ie[ne+17]=r,ie[ne+=18]=ie[ne+9]=n,ie[ne+1]=ie[ne+10]=t,ie[ne+2]=ie[ne+11]=r,ie[ne+3]=n,ie[ne+4]=i,ie[ne+5]=r,ie[ne+6]=ie[ne+12]=n,ie[ne+7]=ie[ne+13]=i,ie[ne+8]=ie[ne+14]=o,ie[ne+15]=n,ie[ne+16]=t,ie[ne+17]=o,ie[ne+=18]=ie[ne+9]=n,ie[ne+1]=ie[ne+10]=t,ie[ne+2]=ie[ne+11]=o,ie[ne+3]=n,ie[ne+4]=i,ie[ne+5]=o,ie[ne+6]=ie[ne+12]=e,ie[ne+7]=ie[ne+13]=i,ie[ne+8]=ie[ne+14]=o,ie[ne+15]=e,ie[ne+16]=t,ie[ne+17]=o,ne+=18,2===a&&(ie[ne]=ie[ne+9]=e,ie[ne+1]=ie[ne+10]=i,ie[ne+2]=ie[ne+11]=r,ie[ne+3]=e,ie[ne+4]=i,ie[ne+5]=o,ie[ne+6]=ie[ne+12]=n,ie[ne+7]=ie[ne+13]=i,ie[ne+8]=ie[ne+14]=o,ie[ne+15]=n,ie[ne+16]=i,ie[ne+17]=r,ne+=18)}var o,a={singleSink:"https://storage.3d.io/535e624259ee6b0200000484/170429-0355-60hukz/bf4e4a56-ed95-4b58-a214-4b1a0a84ae0e.gz.data3d.buffer",doubleSink:"https://storage.3d.io/535e624259ee6b0200000484/170429-2156-7ufbnv/df481313-8fb4-48da-bc28-0369b08a2c6a.gz.data3d.buffer",gas60:"https://storage.3d.io/535e624259ee6b0200000484/170428-2318-1ayck9/ece0ead0-d27f-4cf9-b137-2021f25ad4ee.gz.data3d.buffer",gas90:"https://storage.3d.io/535e624259ee6b0200000484/170429-0114-jxswhr/523bb9dc-0103-4c93-aba8-ad0882123550.gz.data3d.buffer",fridge:"https://storage.3d.io/535e624259ee6b0200000484/170429-1020-5zimgz/4cec6215-9d5c-4f38-b714-e62fdab6d892.gz.data3d.buffer"},s="none"!==e.sinkType,c="none"!==e.ovenType,l="none"!==e.cooktopType,u=e.microwave,p="none"!==l&&"90"===e.cooktopType.slice(-2),f=e.cabinetType,d=.04,h=p?.18:.12,m=e.wallCabinetHeight+.1,g=.5,b=p&&e.ovenPos===e.cooktopPos?.48:.6,v=-.01,y=[[e.baseBoard,.7,1.9,e.h+v],[e.baseBoard,.7,1.3,1.9,e.h+v],[e.baseBoard,.4,.7,e.counterHeight-e.counterThickness],[e.baseBoard,.7,e.counterHeight-e.counterThickness],[e.baseBoard,e.counterHeight-e.counterThickness-b,e.counterHeight-e.counterThickness],[e.wallCabinetHeight,e.h+v],[e.wallCabinetHeight,e.wallCabinetHeight+.33,e.h+v],[e.baseBoard+1.95,e.h+v],[e.baseBoard,.7,1.9-.33,1.9,e.h+v],[e.baseBoard,.7,1.3,1.9,2.23,e.h+v]],_=e.elementLength,w=[];e.highCabinetLeft<0&&(e.highCabinetLeft=0),e.highCabinetRight<0&&(e.highCabinetRight=0),e.fridgePos<=0&&(e.fridgePos=1),e.ovenPos===e.cooktopPos&&"string"==typeof e.materials.oven&&(p&&e.materials.oven.indexOf("_60")>-1&&(e.materials.oven="oven_miele_90-48"),!p&&e.materials.oven.indexOf("_90")>-1&&(e.materials.oven="oven_miele_60-60")),"string"==typeof e.materials.cooktop&&(p&&e.materials.cooktop.indexOf("_60")>-1&&(e.materials.cooktop="cooktop_westinghouse_90"),!p&&e.materials.cooktop.indexOf("_90")>-1&&(e.materials.cooktop="cooktop_westinghouse_60")),(e.highCabinetLeft||e.highCabinetRight)&&e.barCounter&&(e.barCounter=!1),e.wallCabinet||"integrated"!==e.extractorType||(e.extractorType="box"),o=ge(e).elementNum;var x=ge(e).remainder;e.fridge&&e.highCabinetLeft<e.fridgePos+1&&(console.log(o-e.highCabinetRight-1),e.fridgePos<o-e.highCabinetRight-1?e.highCabinetLeft=e.fridgePos+1:e.fridgePos=e.highCabinetLeft-1),l&&e.cooktopPos>=o-e.highCabinetRight&&"90"===e.cooktopType.slice(-2)&&(console.log("Large cooktop does not fit"),e.cooktopType=e.cooktopType.substring(0,e.cooktopType.length-2)+"60",o=ge(e).elementNum,x=ge(e).remainder),w=be(e,{elementNum:o,remainder:x});var C=e.highCabinetLeft,S=o-e.highCabinetRight,j=S-C-(x>0?1:0),k=[];for(Se=C;Se<S;Se++)l&&Se===e.cooktopPos-1||s&&Se===e.sinkPos-1||!(w[Se]>=_)||k.push(Se);j||(e.sinkType="none",e.cooktopType="none"),e.highCabinetLeft&&e.highCabinetRight+e.highCabinetLeft>o?e.highCabinetLeft-=1:e.highCabinetRight*_>e.l&&(e.highCabinetRight-=1),k.length>0&&(l&&e.cooktopPos<=C&&(e.cooktopPos=k[0]+1),l&&e.cooktopPos>S&&(e.cooktopPos=k[k.length-1]+1),s&&e.sinkPos<=C&&(e.sinkPos=k[0]+1),s&&e.sinkPos>S&&(e.sinkPos=k[k.length-1]+1)),c&&"double"===e.ovenType&&e.ovenPos>C&&e.ovenPos<S&&(e.ovenType="single"),c&&s&&e.ovenPos===e.sinkPos&&(e.ovenPos-=1),c&&e.ovenPos<=0&&(e.ovenPos=C+1),c&&e.ovenPos>o&&(e.ovenPos=S-1),l&&w[e.cooktopPos-1]<_&&(e.cooktopPos-=1),s&&w[e.sinkPos-1]<_&&(e.sinkPos-=1),s&&"double"===e.sinkType&&w[e.sinkPos]<_&&(e.sinkType="single"),c&&w[e.ovenPos-1]<_&&(e.highCabinetRight>0?e.ovenPos+=1:e.ovenPos-=1),u&&w[e.microwavePos-1]<_&&(e.microwavePos-=1),s&&"double"===e.sinkType&&l&&e.sinkPos+1===e.cooktopPos&&(e.sinkType="single"),s&&l&&e.sinkPos===e.cooktopPos&&k.length>0&&(k.length>1&&k[k.length-1]+1===e.sinkPos?e.sinkPos=k[0]+1:e.sinkPos=k[k.length-1]+1),s&&l&&e.sinkPos===e.cooktopPos&&(e.sinkType="none"),(e.sinkPos<=C||e.sinkPos>S)&&(e.sinkType="none"),(e.cooktopType<=C||e.cooktopType>S)&&(e.cooktopType="none"),w=be(e,{elementNum:o,remainder:x}),s="none"!==e.sinkType,c="none"!==e.ovenType,l="none"!==e.cooktopType;var P,A,E,T,I,F,R,D,N,M,O,z,L,V,B,W,H,U,Z,G,q,K,Y,X="single"===e.sinkType?.54:1.16,Q="single"===e.sinkType?.03:.02,J="none"!==e.extractorType,$=0,ee=0,te=o-e.highCabinetLeft-e.highCabinetRight,re=0,ie=[],ne=0,oe=[],ae=0,se=[],ce=0,le=[],ue=0,pe=[],fe=0,de=[],he=[],ye=[],_e=[],we=t(e.highCabinetLeft+1);P=$,A=e.counterHeight-e.counterThickness,E=e.w,T=0,I=$+w[0],F=$+e.doorWidth/2,R=A-e.doorWidth,D=E,N=e.baseBoard,M=I-e.doorWidth/2,L=e.w+e.doorWidth;for(var xe=0;xe<o;xe++){P=$,I=$+w[xe],F=$+e.doorWidth/2,M=$+w[xe]-e.doorWidth/2;var Ce=(xe===e.sinkPos-1||xe===e.sinkPos&&"double"===e.sinkType)&&s;xe<e.highCabinetLeft?re=!e.fridge||e.fridgePos-1!==xe&&e.fridgePos!==xe?xe+1===e.ovenPos&&c&&xe+1===e.microwavePos&&u?9:xe+1===e.ovenPos&&c?1:xe+1===e.microwavePos&&u?8:0:7:xe<e.highCabinetLeft+te&&xe+1===e.ovenPos&&c?re=4:xe>e.highCabinetLeft+te-1?(re=xe+1===e.ovenPos&&c&&xe+1===e.microwavePos&&u?9:xe+1===e.ovenPos?1:xe+1===e.microwavePos&&u?8:0,P=e.l-e.highCabinetRight*_+ee,F=e.l-e.highCabinetRight*_+e.doorWidth/2+ee,I=e.l-(e.highCabinetRight-1)*_+ee,M=e.l-(e.highCabinetRight-1)*_+ee-e.doorWidth/2,ee+=w[xe]):re=Ce||xe===e.highCabinetLeft||xe===e.highCabinetLeft+te-1?3:2,xe===o-e.highCabinetRight-1&&(I=e.l-e.highCabinetRight*_,M=e.l-e.highCabinetRight*_-e.doorWidth/2),xe===e.cooktopPos-1&&l&&J&&i();for(var Se=0;Se<y[re].length-1;Se++)r({i:Se,aX:P,aY:y[re][Se+1],aZ:e.w,bY:y[re][Se],cX:I,k:re});if(e.wallCabinet&&xe>=e.highCabinetLeft&&xe<e.highCabinetLeft+te){re=5,u&&xe===e.microwavePos-1&&(re=6);for(var je,ke=0;ke<y[re].length-1;ke++){if(J&&l&&"integrated"!==e.extractorType){if(xe===e.cooktopPos-1)continue;if(w[xe]<.3&&xe===e.cooktopPos)continue}je=xe===e.cooktopPos-1&&l&&J?d+m-e.wallCabinetHeight:0,r({i:ke,aX:P,aY:ve(y[re][ke+1]+(y[re].length>2&&0===ke?je:0),100),aZ:e.wallCabinetWidth,bY:ve(y[re][ke]+je,100),cX:I,k:re})}}E=e.w,L=E+e.doorWidth,$+=w[xe]}if(te>0&&n(we,e.counterHeight-e.counterThickness,e.w,0,e.l-e.highCabinetRight*_,0,1),e.wallCabinet&&te>0){var Pe=e.cooktopPos>e.highCabinetLeft+1,Ae=w[e.cooktopPos]>=.3||"integrated"===e.extractorType;J&&"none"!==e.cooktopType?J&&"integrated"!==e.extractorType?(Pe&&n(we,e.h+v,e.wallCabinetWidth,e.wallCabinetHeight,t(e.cooktopPos),0,2),Ae&&n(t(e.cooktopPos+1),e.h+v,e.wallCabinetWidth,e.wallCabinetHeight,e.l-e.highCabinetRight*_,0,2)):(Pe&&n(we,e.h+v,e.wallCabinetWidth,e.wallCabinetHeight,t(e.cooktopPos),0,2),n(t(e.cooktopPos),e.h+v,e.wallCabinetWidth,m,t(e.cooktopPos+1),0,2),Ae&&n(t(e.cooktopPos+1),e.h+v,e.wallCabinetWidth,e.wallCabinetHeight,e.l-e.highCabinetRight*_,0,2)):n(we,e.h+v,e.wallCabinetWidth,e.wallCabinetHeight,e.l-e.highCabinetRight*_,0,2)}if(0!==e.highCabinetLeft&&te>0&&n(0,e.h+v,e.w,0,we,0,3),0!==e.highCabinetLeft&&te<1&&n(0,e.h+v,e.w,0,e.l,0,3),0!==e.highCabinetRight&&o-e.highCabinetLeft>0&&n(e.l-e.highCabinetRight*_,e.h+v,e.w,0,e.l,0,4),te>0){P=t(e.highCabinetLeft+1),A=e.counterHeight,E=e.w+e.doorWidth,T=e.counterHeight-e.counterThickness,I=e.l-e.highCabinetRight*_,D=e.barCounter?-.25:0;var Ee=[[t(e.cooktopPos)+.02,e.w+e.doorWidth-.55,e.w+e.doorWidth-.02,t(e.cooktopPos+1)-.02],[t(e.sinkPos)+Q,e.w+e.doorWidth-.02-.47,e.w+e.doorWidth-.02,t(e.sinkPos)+Q+X]];l&&s?(e.cooktopPos<e.sinkPos?(O=Ee[0][0],L=Ee[0][1],B=Ee[0][2],W=Ee[0][3],H=Ee[1][0],Z=Ee[1][1],q=Ee[1][2],K=Ee[1][3]):(O=Ee[1][0],L=Ee[1][1],B=Ee[1][2],W=Ee[1][3],H=Ee[0][0],Z=Ee[0][1],q=Ee[0][2],K=Ee[0][3]),oe[ae]=oe[ae+9]=P,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=P,oe[ae+4]=A,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=O,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=B,oe[ae+15]=O,oe[ae+16]=A,oe[ae+17]=L,oe[ae+=18]=oe[ae+9]=O,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=B,oe[ae+3]=P,oe[ae+4]=A,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=H,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=W,oe[ae+16]=A,oe[ae+17]=B,oe[ae+=18]=oe[ae+9]=W,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=L,oe[ae+3]=W,oe[ae+4]=A,oe[ae+5]=B,oe[ae+6]=oe[ae+12]=H,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=H,oe[ae+16]=A,oe[ae+17]=D,oe[ae+=18]=oe[ae+9]=P,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=O,oe[ae+4]=A,oe[ae+5]=L,oe[ae+6]=oe[ae+12]=W,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=L,oe[ae+15]=H,oe[ae+16]=A,oe[ae+17]=D,oe[ae+=18]=oe[ae+9]=H,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=q,oe[ae+3]=H,oe[ae+4]=A,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=I,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=K,oe[ae+16]=A,oe[ae+17]=q,oe[ae+=18]=oe[ae+9]=K,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=Z,oe[ae+3]=K,oe[ae+4]=A,oe[ae+5]=q,oe[ae+6]=oe[ae+12]=I,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=I,oe[ae+16]=A,oe[ae+17]=D,oe[ae+=18]=oe[ae+9]=H,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=H,oe[ae+4]=A,oe[ae+5]=Z,oe[ae+6]=oe[ae+12]=K,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=Z,oe[ae+15]=I,oe[ae+16]=A,oe[ae+17]=D,ae+=18,O=Ee[0][0],L=Ee[0][1],B=Ee[0][2],W=Ee[0][3],de[0]=de[9]=O,de[1]=de[10]=A,de[2]=de[11]=L,de[3]=O,de[4]=A,de[5]=B,de[6]=de[12]=W,de[7]=de[13]=A,de[8]=de[14]=B,de[15]=W,de[16]=A,de[17]=L,he=[0,1,0,0,1,0,0,1,1,0,1,1]):l||s?(!1===s?(O=Ee[0][0],L=Ee[0][1],B=Ee[0][2],W=Ee[0][3]):(O=Ee[1][0],L=Ee[1][1],B=Ee[1][2],W=Ee[1][3]),oe[ae]=oe[ae+9]=P,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=P,oe[ae+4]=A,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=O,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=B,oe[ae+15]=O,oe[ae+16]=A,oe[ae+17]=L,oe[ae+=18]=oe[ae+9]=O,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=B,oe[ae+3]=P,oe[ae+4]=A,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=I,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=W,oe[ae+16]=A,oe[ae+17]=B,oe[ae+=18]=oe[ae+9]=W,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=L,oe[ae+3]=W,oe[ae+4]=A,oe[ae+5]=B,oe[ae+6]=oe[ae+12]=I,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=I,oe[ae+16]=A,oe[ae+17]=D,oe[ae+=18]=oe[ae+9]=P,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=O,oe[ae+4]=A,oe[ae+5]=L,oe[ae+6]=oe[ae+12]=W,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=L,oe[ae+15]=I,oe[ae+16]=A,oe[ae+17]=D,ae+=18,l&&(de[0]=de[9]=O,de[1]=de[10]=A,de[2]=de[11]=L,de[3]=O,de[4]=A,de[5]=B,de[6]=de[12]=W,de[7]=de[13]=A,de[8]=de[14]=B,de[15]=W,de[16]=A,de[17]=L,he=[0,1,0,0,1,0,0,1,1,0,1,1])):(oe[ae]=oe[ae+9]=P,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=P,oe[ae+4]=A,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=I,oe[ae+7]=oe[ae+13]=A,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=I,oe[ae+16]=A,oe[ae+17]=D,ae+=18),oe[ae]=oe[ae+9]=P,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=E,oe[ae+3]=P,oe[ae+4]=T,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=I,oe[ae+7]=oe[ae+13]=T,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=I,oe[ae+16]=A,oe[ae+17]=E,oe[ae+=18]=oe[ae+9]=P,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=P,oe[ae+4]=T,oe[ae+5]=D,oe[ae+6]=oe[ae+12]=P,oe[ae+7]=oe[ae+13]=T,oe[ae+8]=oe[ae+14]=E,oe[ae+15]=P,oe[ae+16]=A,oe[ae+17]=E,oe[ae+=18]=oe[ae+9]=I,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=E,oe[ae+3]=I,oe[ae+4]=T,oe[ae+5]=E,oe[ae+6]=oe[ae+12]=I,oe[ae+7]=oe[ae+13]=T,oe[ae+8]=oe[ae+14]=D,oe[ae+15]=I,oe[ae+16]=A,oe[ae+17]=D,oe[ae+=18]=oe[ae+9]=I,oe[ae+1]=oe[ae+10]=A,oe[ae+2]=oe[ae+11]=D,oe[ae+3]=I,oe[ae+4]=T,oe[ae+5]=D,oe[ae+6]=oe[ae+12]=P,oe[ae+7]=oe[ae+13]=T,oe[ae+8]=oe[ae+14]=D,oe[ae+15]=P,oe[ae+16]=A,oe[ae+17]=D}var Te=[];return"none"!==e.sinkType&&Te.push({name:"sink",key:"single"===e.sinkType?a.singleSink:a.doubleSink}),e.fridge&&Te.push({name:"fridge",key:a.fridge}),"gas60"!==e.cooktopType&&"gas90"!==e.cooktopType||Te.push({name:"cooktop",key:a[e.cooktopType]}),Promise.all(Te.map(function(e){return me(e.key).then(function(t){return e.data3d=t,e})})).then(function(r){var i=t(e.sinkPos)+Q,n=t(e.cooktopPos)+w[e.cooktopPos-1]/2,o={};return r.forEach(function(r){Object.keys(r.data3d.meshes).forEach(function(a,s){var c=r.name+"_"+s;o[c]=r.data3d.meshes[a],"sink"===r.name?o[c].position=[i,e.counterHeight,e.w+e.doorWidth-.02]:"cooktop"===r.name?o[c].position=[n,e.counterHeight,e.w+e.doorWidth-.02]:"fridge"===r.name&&(o[c].position=[t(e.fridgePos),e.baseBoard,e.w+e.doorWidth-.02])})}),o}).then(function(e){return e.kitchen={positions:new Float32Array(ie),normals:Yc.flat(ie),uvs:Xc.architectural(ie),material:"kitchen"},e.counter={positions:new Float32Array(oe),normals:Yc.flat(oe),uvs:Xc.architectural(oe),material:"counter"},e.oven={positions:new Float32Array(le),normals:Yc.flat(le),uvs:new Float32Array(pe),material:"oven"},e.cooktop={positions:new Float32Array(de),normals:Yc.flat(de),uvs:new Float32Array(he),material:"cooktop"},e.extractor={positions:new Float32Array(se),normals:Yc.flat(se),material:"tab"},e.microwave={positions:new Float32Array(ye),normals:Yc.flat(ye),uvs:new Float32Array(_e),material:"microwave"},e})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},Pl={schema:G("polyfloor"),init:function(){},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.materials=J(r),function(e){return e.materials=Jc(e.materials,{top:"wood_parquet_oak",side:"basic-wall",ceiling:"basic-ceiling"}),Promise.all([function(e){if(e.polygon.length<3)return console.warn("Invalid Polyfloor: Less than 3   "),this.model&&this.model.a.parent.remove(this.model),Promise.resolve({meshes:{}});for(var t=[],r=0,i=e.polygon.length;r<i;r++)t[2*r]=e.polygon[r][0],t[2*r+1]=e.polygon[r][1];var n,o=rl({outline:t,y:0,uvx:e.x,uvz:e.z});n=e.hasCeiling?rl({outline:t,y:e.hCeiling,uvx:e.x,uvz:e.z,flipSide:!0}):{vertices:new Float32Array(0),uvs:new Float32Array(0)};var a=il({outline:t,y:-e.h,flipSide:!0});return Promise.resolve({top:{positions:o.vertices,normals:Yc.flat(o.vertices),uvs:o.uvs,material:"top"},sides:{positions:a.vertices,normals:Yc.flat(a.vertices),uvs:a.uvs,material:"side"},ceiling:{positions:n.vertices,normals:Yc.flat(n.vertices),uvs:n.uvs,material:"ceiling"}})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},Al={schema:G("railing"),init:function(){},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.materials=J(r),function(e){return e.materials=Jc(e.materials,{railing:{colorDiffuse:[.85,.85,.85]}}),Promise.all([function(e){var t=[],r=0,i=e.segmentation,n=(e.l-e.pailing)/((e.l-e.pailing)/e.segmentDistance>>0),o=e.l/n,a=Math.max(parseInt(e.railCount),1),s=(e.h-a*e.pailing)/Math.max(a-1,1);"number"===i&&(o=e.segments,n=(e.l-e.pailing)/o);var c,l=0,u=e.w,p=a>1?e.pailing:0,f=e.pailing,d=0;if("none"!==i)for(var h=0;h<Math.max(a-1,1);h++){for(c=p+s,b=0;b<=o;b++){var m=b*n;l=m,f=m+e.pailing,t[r]=t[r+9]=l,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=u,t[r+3]=l,t[r+4]=p,t[r+5]=u,t[r+6]=t[r+12]=f,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=u,t[r+15]=f,t[r+16]=c,t[r+17]=u,t[r+=18]=t[r+9]=l,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=d,t[r+3]=l,t[r+4]=p,t[r+5]=d,t[r+6]=t[r+12]=l,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=u,t[r+15]=l,t[r+16]=c,t[r+17]=u,t[r+=18]=t[r+9]=f,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=u,t[r+3]=f,t[r+4]=p,t[r+5]=u,t[r+6]=t[r+12]=f,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=d,t[r+15]=f,t[r+16]=c,t[r+17]=d,t[r+=18]=t[r+9]=f,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=d,t[r+3]=f,t[r+4]=p,t[r+5]=d,t[r+6]=t[r+12]=l,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=d,t[r+15]=l,t[r+16]=c,t[r+17]=d,r+=18}p+=e.pailing+s}var g="none"!==i&&1===a?e.h-e.pailing:0;a="none"!==i?a:1;for(var b=0;b<a;b++)l=0,c="none"!==i?g+e.pailing:e.h,u=e.w,p=g,f=e.l,d=0,t[r]=t[r+9]=l,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=d,t[r+3]=l,t[r+4]=c,t[r+5]=u,t[r+6]=t[r+12]=f,t[r+7]=t[r+13]=c,t[r+8]=t[r+14]=u,t[r+15]=f,t[r+16]=c,t[r+17]=d,t[r+=18]=t[r+9]=l,t[r+1]=t[r+10]=p,t[r+2]=t[r+11]=u,t[r+3]=l,t[r+4]=p,t[r+5]=d,t[r+6]=t[r+12]=f,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=d,t[r+15]=f,t[r+16]=p,t[r+17]=u,t[r+=18]=t[r+9]=l,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=u,t[r+3]=l,t[r+4]=p,t[r+5]=u,t[r+6]=t[r+12]=f,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=u,t[r+15]=f,t[r+16]=c,t[r+17]=u,t[r+=18]=t[r+9]=l,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=d,t[r+3]=l,t[r+4]=p,t[r+5]=d,t[r+6]=t[r+12]=l,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=u,t[r+15]=l,t[r+16]=c,t[r+17]=u,t[r+=18]=t[r+9]=f,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=u,t[r+3]=f,t[r+4]=p,t[r+5]=u,t[r+6]=t[r+12]=f,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=d,t[r+15]=f,t[r+16]=c,t[r+17]=d,t[r+=18]=t[r+9]=f,t[r+1]=t[r+10]=c,t[r+2]=t[r+11]=d,t[r+3]=f,t[r+4]=p,t[r+5]=d,t[r+6]=t[r+12]=l,t[r+7]=t[r+13]=p,t[r+8]=t[r+14]=d,t[r+15]=l,t[r+16]=c,t[r+17]=d,r+=18,g+=e.pailing+s;return Promise.resolve({railing:{positions:new Float32Array(t),normals:Yc.flat(t),material:"railing"}})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},El={schema:G("stairs"),init:function(){},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r);i.materials=J(r),function(e){return e.materials=Jc(e.materials,{steps:"basic-wall",tread:"wood_parquet_oak",railing:{colorDiffuse:[.85,.85,.85]}}),Promise.all([function(e){function t(t,r,n,d,y,_){var w,x,C,S,j,k,P,A,E=t,T=n;w=O.length,C=L.length,j=B.length,"left"!==e.railing&&"both"!==e.railing||o(t,r+R,n+H+.01,t+d*y,r+d*R+R,n+H+.01),"right"!==e.railing&&"both"!==e.railing||o(t,r+R,n+q-.01,t+d*y,r+d*R+R,n+q-.01);for(var I=0;I<d;I++)a=t,s=r+R-e.treadHeight,i(a,s,c=n+q,l=r,p=r+R-X,u=t+y,f=c,h=r-X,m=a,g=n,b=u,v=g),t+=y,r+=R;if(x=O.length,S=L.length,k=B.length,_){var F=Math.cos(_/180*Math.PI),D=Math.sin(_/180*Math.PI);for(A=w;A<x-2;A+=3)P=O[A]-E,O[A+2]=O[A+2]-T,O[A]=P*F-O[A+2]*D+E,O[A+2]=O[A+2]*F+P*D+T;for(A=C;A<S-2;A+=3)P=L[A]-E,L[A+2]=L[A+2]-T,L[A]=P*F-L[A+2]*D+E,L[A+2]=L[A+2]*F+P*D+T;for(A=j;A<k-2;A+=3)P=B[A]-E,B[A+2]=B[A+2]-T,B[A]=P*F-B[A+2]*D+E,B[A+2]=B[A+2]*F+P*D+T}}function r(t,r,i,n,p,f){var m,b,v,S,j,P,A,E,T=p,I=t,F=i;if(m=O.length,v=L.length,j=B.length,a=t,s=r-e.treadHeight,c=i+n,l=r-X,u=t+T,d=a,h=r-X,g=i,"straightLanding"===e.stairType&&("left"!==e.railing&&"both"!==e.railing||o(t,r+R,i+H+.01,t+p,r+R,i+H+.01),"right"!==e.railing&&"both"!==e.railing||o(t,r+R,i+n-.01,t+p,r+R,i+n-.01)),"lShaped"!==e.stairType&&"2QuarterLanding"!==e.stairType||("left"===e.railing&&!G||"right"===e.railing&&G||"both"===e.railing)&&(o(t,r+R,i+H+.01,t+p-H-.01,r+R,i+H+.01,0,!0),o(t+p-H-.01,r+R,i+.01,t+p+n-H-.02,r+R,i+.01,90,!0)),"halfLanding"===e.stairType&&(("left"===e.railing&&!G||"right"===e.railing&&G||"both"===e.railing)&&(o(t,r+R,i+H+.01,t+p-H-.01,r+R,i+H+.01,0,!0),o(t+p-H-.01,r+R,i+.01,t+p+n-2*H-.03,r+R,i+.01,90,!0),o(t+p-.01,r+R,i+n-.01-H,t+p+p-H,r+R,i+n-.01-H,180,!0)),("left"===e.railing&&G||"right"===e.railing&&!G||"both"===e.railing)&&o(t,r+R,i+q-.01-H,t+n-2*q+2*(.01+H),r+R,i+q-.01-H,90)),"halfLanding"===e.stairType&&K&&(O[z]=O[z+9]=a,O[z+1]=O[z+10]=s,O[z+2]=O[z+11]=g+q,O[z+3]=a,O[z+4]=l,O[z+5]=g+q,O[z+6]=O[z+12]=a,O[z+7]=O[z+13]=l,O[z+8]=O[z+14]=c-q,O[z+15]=a,O[z+16]=s,O[z+17]=c-q,z+=18),"lShaped"!==e.stairType&&"halfLanding"!==e.stairType&&"2QuarterLanding"!==e.stairType||(O[z]=O[z+9]=u,O[z+1]=O[z+10]=s,O[z+2]=O[z+11]=c,O[z+3]=u,O[z+4]=l,O[z+5]=c,O[z+6]=O[z+12]=u,O[z+7]=O[z+13]=l,O[z+8]=O[z+14]=g,O[z+15]=u,O[z+16]=s,O[z+17]=g,z+=18),O[z]=O[z+9]=a,O[z+1]=O[z+10]=s,O[z+2]=O[z+11]=c,O[z+3]=a,O[z+4]=l,O[z+5]=c,O[z+6]=O[z+12]=u,O[z+7]=O[z+13]=l,O[z+8]=O[z+14]=c,O[z+15]=u,O[z+16]=s,O[z+17]=c,z+=18,O[z]=O[z+9]=u,O[z+1]=O[z+10]=s,O[z+2]=O[z+11]=g,O[z+3]=u,O[z+4]=l,O[z+5]=g,O[z+6]=O[z+12]=a,O[z+7]=O[z+13]=l,O[z+8]=O[z+14]=g,O[z+15]=a,O[z+16]=s,O[z+17]=g,z+=18,O[z]=O[z+9]=u,O[z+1]=O[z+10]=l,O[z+2]=O[z+11]=c,O[z+3]=a,O[z+4]=l,O[z+5]=c,O[z+6]=O[z+12]=a,O[z+7]=O[z+13]=l,O[z+8]=O[z+14]=g,O[z+15]=u,O[z+16]=l,O[z+17]=g,z+=18,e.treadHeight||(O[z]=O[z+9]=a,O[z+1]=O[z+10]=s,O[z+2]=O[z+11]=c,O[z+3]=u,O[z+4]=s,O[z+5]=c,O[z+6]=O[z+12]=u,O[z+7]=O[z+13]=s,O[z+8]=O[z+14]=g,O[z+15]=a,O[z+16]=s,O[z+17]=g,z+=18),e.treadHeight>0&&(y=a,_=s+e.treadHeight,w=i+n,x=s,C=a+T,k=i,"lShaped"!==e.stairType&&"halfLanding"!==e.stairType&&"2QuarterLanding"!==e.stairType||(L[V]=L[V+9]=C,L[V+1]=L[V+10]=_,L[V+2]=L[V+11]=w,L[V+3]=C,L[V+4]=x,L[V+5]=w,L[V+6]=L[V+12]=C,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=k,L[V+15]=C,L[V+16]=_,L[V+17]=k,V+=18),L[V]=L[V+9]=C,L[V+1]=L[V+10]=_,L[V+2]=L[V+11]=k,L[V+3]=y,L[V+4]=_,L[V+5]=k,L[V+6]=L[V+12]=y,L[V+7]=L[V+13]=_,L[V+8]=L[V+14]=w,L[V+15]=C,L[V+16]=_,L[V+17]=w,V+=18,L[V]=L[V+9]=y,L[V+1]=L[V+10]=_,L[V+2]=L[V+11]=w,L[V+3]=y,L[V+4]=x,L[V+5]=w,L[V+6]=L[V+12]=C,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=w,L[V+15]=C,L[V+16]=_,L[V+17]=w,V+=18,L[V]=L[V+9]=y,L[V+1]=L[V+10]=_,L[V+2]=L[V+11]=k,L[V+3]=y,L[V+4]=x,L[V+5]=k,L[V+6]=L[V+12]=y,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=w,L[V+15]=y,L[V+16]=_,L[V+17]=w,V+=18,L[V]=L[V+9]=C,L[V+1]=L[V+10]=_,L[V+2]=L[V+11]=k,L[V+3]=C,L[V+4]=x,L[V+5]=k,L[V+6]=L[V+12]=y,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=k,L[V+15]=y,L[V+16]=_,L[V+17]=k,V+=18,b=O.length,S=L.length,P=B.length,f)){var D=Math.cos(f/180*Math.PI),N=Math.sin(f/180*Math.PI);for(E=m;E<b-2;E+=3)A=O[E]-I,O[E+2]=O[E+2]-F,O[E]=A*D-O[E+2]*N+I,O[E+2]=O[E+2]*D+A*N+F;for(E=v;E<S-2;E+=3)A=L[E]-I,L[E+2]=L[E+2]-F,L[E]=A*D-L[E+2]*N+I,L[E+2]=L[E+2]*D+A*N+F;for(E=j;E<P-2;E+=3)A=B[E]-I,B[E+2]=B[E+2]-F,B[E]=A*D-B[E+2]*N+I,B[E+2]=B[E+2]*D+A*N+F}}function i(t,r,i,n,o,a,s,c,l,u,p,f){var d=n-e.treadHeight;if(r>=e.h-R&&(O[z]=O[z+9]=a,O[z+1]=O[z+10]=r,O[z+2]=O[z+11]=s,O[z+3]=a,O[z+4]=o,O[z+5]=s,O[z+6]=O[z+12]=p,O[z+7]=O[z+13]=o,O[z+8]=O[z+14]=f,O[z+15]=p,O[z+16]=r,O[z+17]=f,z+=18),e.treadHeight||(O[z]=O[z+9]=p,O[z+1]=O[z+10]=r,O[z+2]=O[z+11]=f,O[z+3]=l,O[z+4]=r,O[z+5]=u,O[z+6]=O[z+12]=t,O[z+7]=O[z+13]=r,O[z+8]=O[z+14]=i,O[z+15]=a,O[z+16]=r,O[z+17]=s,z+=18),O[z]=O[z+9]=t,O[z+1]=O[z+10]=r,O[z+2]=O[z+11]=i,O[z+3]=t,O[z+4]=n,O[z+5]=i,O[z+6]=O[z+12]=a,O[z+7]=O[z+13]=o,O[z+8]=O[z+14]=s,O[z+15]=a,O[z+16]=r,O[z+17]=s,z+=18,n===d?(O[z]=t,O[z+1]=n,O[z+2]=i,O[z+3]=t,O[z+4]=c,O[z+5]=i,O[z+6]=a,O[z+7]=o,O[z+8]=s,z+=9):(O[z]=O[z+9]=a,O[z+1]=O[z+10]=o,O[z+2]=O[z+11]=s,O[z+3]=t,O[z+4]=n,O[z+5]=i,O[z+6]=O[z+12]=t,O[z+7]=O[z+13]=d,O[z+8]=O[z+14]=i,O[z+15]=t,O[z+16]=c,O[z+17]=i,z+=18),O[z]=O[z+9]=l,O[z+1]=O[z+10]=r,O[z+2]=O[z+11]=u,O[z+3]=l,O[z+4]=n,O[z+5]=u,O[z+6]=O[z+12]=t,O[z+7]=O[z+13]=n,O[z+8]=O[z+14]=i,O[z+15]=t,O[z+16]=r,O[z+17]=i,z+=18,O[z]=O[z+9]=p,O[z+1]=O[z+10]=r,O[z+2]=O[z+11]=f,O[z+3]=p,O[z+4]=o,O[z+5]=f,O[z+6]=O[z+12]=l,O[z+7]=O[z+13]=n,O[z+8]=O[z+14]=u,O[z+15]=l,O[z+16]=r,O[z+17]=u,z+=18,n===d?(O[z]=p,O[z+1]=o,O[z+2]=f,O[z+3]=l,O[z+4]=c,O[z+5]=u,O[z+6]=l,O[z+7]=n,O[z+8]=u,z+=9):(O[z]=O[z+9]=p,O[z+1]=O[z+10]=o,O[z+2]=O[z+11]=f,O[z+3]=l,O[z+4]=c,O[z+5]=u,O[z+6]=O[z+12]=l,O[z+7]=O[z+13]=d,O[z+8]=O[z+14]=u,O[z+15]=l,O[z+16]=n,O[z+17]=u,z+=18),O[z]=O[z+9]=p,O[z+1]=O[z+10]=o,O[z+2]=O[z+11]=f,O[z+3]=a,O[z+4]=o,O[z+5]=s,O[z+6]=O[z+12]=t,O[z+7]=O[z+13]=c,O[z+8]=O[z+14]=i,O[z+15]=l,O[z+16]=c,O[z+17]=u,z+=18,e.treadHeight){if(y=t-Y,d=r+e.treadHeight,w=i,x=r,C=a,S=s,j=l-Y,k=u,P=p,A=f,y!==j&&w!==k){var h=Math.atan2(w-k,y-j),m=Math.round(180*h/Math.PI*100)/100;"winder"===e.stairType||"doubleWinder"===e.stairType?(m>=135&&(y=t,w=i-Y,j=l,k=u-Y),m<=45&&(y=t,w=i+Y,j=l,k=u+Y)):"spiral"===e.stairType&&(y=t-Y*Math.cos(h-Math.PI/2),w=i-Y*Math.sin(h-Math.PI/2),j=l-Y*Math.cos(h-Math.PI/2),k=u-Y*Math.sin(h-Math.PI/2))}r>=e.h-R&&(L[V]=L[V+9]=C,L[V+1]=L[V+10]=d,L[V+2]=L[V+11]=S,L[V+3]=C,L[V+4]=x,L[V+5]=S,L[V+6]=L[V+12]=P,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=A,L[V+15]=P,L[V+16]=d,L[V+17]=A,V+=18),L[V]=L[V+9]=P,L[V+1]=L[V+10]=d,L[V+2]=L[V+11]=A,L[V+3]=j,L[V+4]=d,L[V+5]=k,L[V+6]=L[V+12]=y,L[V+7]=L[V+13]=d,L[V+8]=L[V+14]=w,L[V+15]=C,L[V+16]=d,L[V+17]=S,L[V+=18]=L[V+9]=y,L[V+1]=L[V+10]=d,L[V+2]=L[V+11]=w,L[V+3]=y,L[V+4]=x,L[V+5]=w,L[V+6]=L[V+12]=C,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=S,L[V+15]=C,L[V+16]=d,L[V+17]=S,L[V+=18]=L[V+9]=j,L[V+1]=L[V+10]=d,L[V+2]=L[V+11]=k,L[V+3]=j,L[V+4]=x,L[V+5]=k,L[V+6]=L[V+12]=y,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=w,L[V+15]=y,L[V+16]=d,L[V+17]=w,L[V+=18]=L[V+9]=P,L[V+1]=L[V+10]=d,L[V+2]=L[V+11]=A,L[V+3]=P,L[V+4]=x,L[V+5]=A,L[V+6]=L[V+12]=j,L[V+7]=L[V+13]=x,L[V+8]=L[V+14]=k,L[V+15]=j,L[V+16]=d,L[V+17]=k,V+=18}}function n(t,r,n,d,y,_){var w,x,C,S,j,k,P,A,E=t,T=n;w=O.length,C=L.length,j=B.length;var I=K,F=d/2,D=(q+I)/F,N=I/F,M=0,z=0;for(_?("left"!==e.railing&&"both"!==e.railing||o(t,r+R,n+H+.01,t+F*N,r+F*R+R,n+H+.01,0,!0),"right"!==e.railing&&"both"!==e.railing||o(t,r+R,n+q-.01,t+F*D-.01,r+F*R+R,n+q-.01,0,!0)):("left"!==e.railing&&"both"!==e.railing||o(t,r+R,n+H+.01,t+F*D-.01,r+F*R+R,n+H+.01,0,!0),"right"!==e.railing&&"both"!==e.railing||o(t,r+R,n+q-.01,t+F*N,r+F*R+R,n+q-.01,0,!0)),V=0;V<F;V++)a=_?t+z:t+M,s=r+R-e.treadHeight,i(a,s,c=n+q,l=r,p=r+R-X,u=_?t+z+D:t+M+N,f=c,h=r-X,m=_?t+M:t+z,g=n,b=_?t+M+N:t+z+D,v=g),r+=R,M+=N,z+=D;t+=M,M=0,z=0,_?("left"!==e.railing&&"both"!==e.railing||o(t+.01,r+R,n+.01,t+F*N+.01,r+F*R+R,n+.01,-90,!0),"right"!==e.railing&&"both"!==e.railing||o(E+F*D-H-.01,r+R,n+q-.01,E+F*D*2-H-.01,r+F*R+R,n+q-.01,-90,!0)):("left"!==e.railing&&"both"!==e.railing||o(E+F*D-H-.01,r+R,n+.01,E+F*D*2-H-.01,r+F*R+R,n+.01,90,!0),"right"!==e.railing&&"both"!==e.railing||o(t+.01,r+R,n+q-.01,t+F*N+.01,r+F*R+R,n+q-.01,90,!0));for(var V=0;V<F;V++)_?(a=t+q,s=r+R-e.treadHeight,l=r,p=r+R-X,u=a,f=(c=n+q-z)-D,h=r-X,b=m=t,v=(g=n-M)-N):(a=t,s=r+R-e.treadHeight,l=r,p=r+R-X,u=a,f=(c=n+q+M)+N,h=r-X,g=n+z,b=m=t+q,v=n+z+D),i(a,s,c,l,p,u,f,h,m,g,b,v),r+=R,M+=N,z+=D;if(x=O.length,S=L.length,k=B.length,y){var W=Math.cos(y/180*Math.PI),U=Math.sin(y/180*Math.PI);for(A=w;A<x-2;A+=3)P=O[A]-E,O[A+2]=O[A+2]-T,O[A]=P*W-O[A+2]*U+E,O[A+2]=O[A+2]*W+P*U+T;for(A=C;A<S-2;A+=3)P=L[A]-E,L[A+2]=L[A+2]-T,L[A]=P*W-L[A+2]*U+E,L[A+2]=L[A+2]*W+P*U+T;for(A=j;A<k-2;A+=3)P=B[A]-E,B[A+2]=B[A+2]-T,B[A]=P*W-B[A+2]*U+E,B[A+2]=B[A+2]*W+P*U+T}}function o(t,r,i,n,o,a,s,c){var l,u,p,f,d,h,m,g,b,v,y,_,w,x,C,S,j,k,P,A,E,T,I,F,D,N;w=B.length;var M=H*(o-r)/Math.abs(n-t),O=Math.sqrt(H*H+M*M);if("verticalBars"===e.railingType?(d=2,h=.9-(g=.05),y=.9-g,b=.12,_=g,v=.02):"horizontalBars"===e.railingType?(h=(.9-(g=.05))/(d=4),b=.9,y=.9,_=0,v=.02):"filling"===e.railingType?(d=1,m=.9-(g=.05),b=.9,y=g,_=0,v=.02):"handrailOnly"===e.railingType&&(d=1,g=.9,b=.9,y=.9,_=0,v=.02),"filling"!==e.railingType){var z=c?Math.abs(n-t-v)+H:Math.abs(n-t-v),L=Math.floor(z/b),V=z/L,U=(o-r)/L;for(L=c&&L>1?L-1:L,u=t,p=r,f=i,l=0;l<=L;l++)S=u,k=f,A=u+v,E=(j=p+_+y)+M,I=(P="verticalBars"!==e.railingType?p+_-R:p+_+O)+M,D=f-v,B[W]=B[W+9]=S,B[W+1]=B[W+10]=j,B[W+2]=B[W+11]=k,B[W+3]=S,B[W+4]=P,B[W+5]=k,B[W+6]=B[W+12]=A,B[W+7]=B[W+13]=I,B[W+8]=B[W+14]=k,B[W+15]=A,B[W+16]=E,B[W+17]=k,B[W+=18]=B[W+9]=S,B[W+1]=B[W+10]=j,B[W+2]=B[W+11]=D,B[W+3]=S,B[W+4]=P,B[W+5]=D,B[W+6]=B[W+12]=S,B[W+7]=B[W+13]=P,B[W+8]=B[W+14]=k,B[W+15]=S,B[W+16]=j,B[W+17]=k,B[W+=18]=B[W+9]=A,B[W+1]=B[W+10]=E,B[W+2]=B[W+11]=k,B[W+3]=A,B[W+4]=I,B[W+5]=k,B[W+6]=B[W+12]=A,B[W+7]=B[W+13]=I,B[W+8]=B[W+14]=D,B[W+15]=A,B[W+16]=E,B[W+17]=D,B[W+=18]=B[W+9]=A,B[W+1]=B[W+10]=E,B[W+2]=B[W+11]=D,B[W+3]=A,B[W+4]=I,B[W+5]=D,B[W+6]=B[W+12]=S,B[W+7]=B[W+13]=P,B[W+8]=B[W+14]=D,B[W+15]=S,B[W+16]=j,B[W+17]=D,W+=18,u+=V,p+=U}for(p=g,l=0;l<d;l++)S=t,j="filling"===e.railingType?p+r+m:p+r+O,k=i,P=p+r,A=n,E="filling"===e.railingType?p+o+m:p+o+O,T=a,I=p+o,N=a-H,F=i-H,B[W]=B[W+9]=S,B[W+1]=B[W+10]=j,B[W+2]=B[W+11]=F,B[W+3]=S,B[W+4]=j,B[W+5]=k,B[W+6]=B[W+12]=A,B[W+7]=B[W+13]=E,B[W+8]=B[W+14]=T,B[W+15]=A,B[W+16]=E,B[W+17]=N,B[W+=18]=B[W+9]=S,B[W+1]=B[W+10]=P,B[W+2]=B[W+11]=k,B[W+3]=S,B[W+4]=P,B[W+5]=F,B[W+6]=B[W+12]=A,B[W+7]=B[W+13]=I,B[W+8]=B[W+14]=N,B[W+15]=A,B[W+16]=E,B[W+17]=T,B[W+=18]=B[W+9]=S,B[W+1]=B[W+10]=j,B[W+2]=B[W+11]=k,B[W+3]=S,B[W+4]=P,B[W+5]=k,B[W+6]=B[W+12]=A,B[W+7]=B[W+13]=I,B[W+8]=B[W+14]=T,B[W+15]=A,B[W+16]=E,B[W+17]=T,B[W+=18]=B[W+9]=S,B[W+1]=B[W+10]=j,B[W+2]=B[W+11]=F,B[W+3]=S,B[W+4]=P,B[W+5]=F,B[W+6]=B[W+12]=S,B[W+7]=B[W+13]=P,B[W+8]=B[W+14]=k,B[W+15]=S,B[W+16]=j,B[W+17]=k,B[W+=18]=B[W+9]=A,B[W+1]=B[W+10]=E,B[W+2]=B[W+11]=T,B[W+3]=A,B[W+4]=I,B[W+5]=T,B[W+6]=B[W+12]=A,B[W+7]=B[W+13]=I,B[W+8]=B[W+14]=N,B[W+15]=A,B[W+16]=E,B[W+17]=N,B[W+=18]=B[W+9]=A,B[W+1]=B[W+10]=E,B[W+2]=B[W+11]=N,B[W+3]=A,B[W+4]=I,B[W+5]=N,B[W+6]=B[W+12]=S,B[W+7]=B[W+13]=P,B[W+8]=B[W+14]=F,B[W+15]=S,B[W+16]=j,B[W+17]=F,W+=18,p+=h;if(x=B.length,s){var Z=Math.cos(s/180*Math.PI),G=Math.sin(s/180*Math.PI);for(l=w;l<x-2;l+=3)C=B[l]-t,B[l+2]=B[l+2]-i,B[l]=C*Z-B[l+2]*G+t,B[l+2]=B[l+2]*Z+C*G+i}}var a,s,c,l,u,p,f,d,h,m,g,b,v,y,_,w,x,C,S,j,k,P,A,E,T,I,F,R,D,N,M,O=[],z=0,L=[],V=0,B=[],W=0,H=.02,U=e.w,Z=e.l,G="left"===e.circulation,q=e.stepWidth,K=.3,Y=.02,X=e.stepThickness;return"straight"===e.stairType?(e.w=q,q=e.w,e.circulation="right",e.l/e.h<=1.15&&(e.l=1.15*e.h),e.l/e.h>=2.6&&(e.l=2.6*e.h),N=((Z=e.l)/e.h+1.2321)/.10357/100,F=Math.round(Z/N),R=e.h/F,t(0,0,0,E=F,D=Z/F)):"straightLanding"===e.stairType?(e.w=e.stepWidth,q=e.w,e.circulation="right",(e.l-1)/e.h<1.15&&(e.l=1.15*e.h+1),(e.l-1)/e.h>2.6&&(e.l=2.6*e.h+1),N=((M=e.l-1)/e.h+1.2321)/.10357/100,F=Math.round(M/N),R=e.h/F,D=M/F,T=F-(E=Math.ceil(F/2)),t(0,0,0,E,D),r(E*D,E*R,0,q,1),t(E*D+1,E*R,0,T,D)):"lShaped"===e.stairType?(e.w<q+.3&&(e.w=q+.3),e.l<q+.3&&(e.l=q+.3),N=((M=e.l+e.w-2*q)/e.h+1.2321)/.10357/100,F=Math.round(M/N),R=e.h/F,D=M/F,T=F-(E=Math.floor((e.l-q)/D)),G?(t(0,0,e.w-q,E,(e.l-q)/E),r(e.l,E*R,e.w-q,q,q,90),t(e.l-q,E*R,e.w-q,T,D=(e.w-q)/T,-90)):(t(0,0,0,E,(e.l-q)/E),r(e.l-q,E*R,0,q,q),t(e.l,E*R,q,T,D=(e.w-q)/T,90))):"halfLanding"===e.stairType?(e.w<2*q+.05&&(e.w=2*q+.05),U=e.w,2*(e.l-q)/e.h<1.15&&(e.l=e.h/2*1.15+q),2*(e.l-q)/e.h>2.6&&(e.l=e.h/2*2.6+q),N=((M=e.l-q)/(e.h/2)+1.2321)/.10357/100,F=Math.round(M/N),R=e.h/2/F,D=M/F,E=F,T=F,G?(t(0,0,U-q,E,D),r(E*D,E*R,0,U,q),t(E*D,E*R,q,T,D,180)):(t(0,0,0,E,D),r(E*D,E*R,0,U,q),t(E*D,E*R,U,T,D,180))):"2QuarterLanding"===e.stairType?(e.w<2*q+.3&&(e.w=2*q+.3),e.l<q+.3&&(e.l=q+.3),U=e.w,N=((M=2*(e.l-q)+e.w-2*q)/e.h+1.2321)/.10357/100,F=Math.round(M/N),R=e.h/F,D=M/F,I=E=Math.round((e.l-q)/D),T=F-2*E,D=(e.l-q)/E,T<1&&U>2*q&&(T=1,I-=1),G?(t(0,0,U-q,E,(e.l-q)/E),r(e.l-q,(E+T)*R,0,q,q),t(e.l-q,E*R,U-q,T,(e.w-2*q)/T,-90),r(e.l,E*R,U-q,q,q,90),t(E*D,(E+T)*R,q,I,(e.l-q)/E,180)):(t(0,0,0,E,(e.l-q)/E),r(e.l-q,E*R,0,q,q),t(e.l,E*R,q,T,(e.w-2*q)/T,90),r(e.l,(E+T)*R,U-q,q,q,90),t(E*D,(E+T)*R,U,I,(e.l-q)/E,180))):"winder"===e.stairType?(e.w<q+K+.5&&(e.w=q+K+.5),e.l<q+K+.5&&(e.l=q+K+.5),N=((M=e.l+e.w-q)/e.h+1.2321)/.10357/100,F=Math.round(M/N),R=e.h/F,D=M/F,T=2*Math.round((q/2+K)/D),I=F-(E=Math.round((e.l-q-K)/D))-T,G?(t(0,0,e.w-q,E,(e.l-q-K)/E),n(e.l-q-K,E*R,e.w-q,T,0,G),I>0&&t(e.l-q,(E+T)*R,e.w-q-K,I,(e.w-q-K)/I,-90)):(t(0,0,0,E,(e.l-q-K)/E),n(e.l-q-K,E*R,0,T),I>0&&t(e.l,(E+T)*R,q+K,I,(e.w-q-K)/I,90))):"doubleWinder"===e.stairType?(e.w<2*(q+.15)&&(e.w=2*(q+.15)),e.l<q+K&&(e.l=q+K),N=((M=2*e.l+e.w-2*q)/e.h+1.2321)/.10357/100,F=Math.round(M/N),R=e.h/F,D=M/F,T=4*Math.round((q/2+K)/D),I=Math.round((e.w-2*(q+K))/D),(E=Math.round((F-T-I)/2))<1&&(K=e.l-q,E=0),I<1&&(K=e.w/2-q,I=0),G?(E>0&&t(0,0,e.w-q,E,(e.l-q-K)/E),n(e.l-q-K,E*R,e.w-q,T/2,0,G),I>0&&t(e.l-q,(E+T/2)*R,e.w-q-K,I,(e.w-2*(q+K))/I,-90),n(e.l-q,(E+T/2+I)*R,q+K,T/2,-90,G),E>0&&t(e.l-q-K,(E+T+I)*R,q,E,(e.l-q-K)/E,180)):(E>0&&t(0,0,0,E,(e.l-q-K)/E),n(e.l-q-K,E*R,0,T/2),I>0&&t(e.l,(E+T/2)*R,q+K,I,(e.w-2*(q+K))/I,90),n(e.l,(E+T/2+I)*R,e.w-q-K,T/2,90),E>0&&t(e.l-q-K,(E+T+I)*R,e.w,E,(e.l-q-K)/E,180))):"spiral"===e.stairType&&((U=e.w)<q&&(U=q,e.w=q),e.l/e.h<=1.15&&(e.l=1.15*e.h),e.l/e.h>=2.6&&(e.l=2.6*e.h),N=((Z=e.l)/e.h+1.2321)/.10357/100,F=Math.round(Z/N),R=e.h/F,D=Z/F,function(t,r,n,d,y){var _=U-q,w=D/(_+q/2),x=0,C=Math.sqrt(Math.pow(Math.sin(x)*(_+q)-Math.sin(x+w)*(_+q),2)+Math.pow(Math.cos(x)*(_+q)-Math.cos(x+w)*(_+q),2)),S=Math.sqrt(Math.pow(Math.sin(x)*_-Math.sin(x+w)*_,2)+Math.pow(Math.cos(x)*_-Math.cos(x+w)*_,2));y||(x=Math.PI,w=-w,n+=U);for(var j=0;j<d;j++){y?(a=0+Math.sin(x)*(_+q),s=r+R-e.treadHeight,c=n+Math.cos(x)*(_+q),l=r,p=r+R-X,u=0+Math.sin(x+w)*(_+q),f=n+Math.cos(x+w)*(_+q),h=r-X,m=0+Math.sin(x)*_,g=n+Math.cos(x)*_,b=0+Math.sin(x+w)*_,v=n+Math.cos(x+w)*_):(a=0+Math.sin(x)*_,s=r+R-e.treadHeight,c=n+Math.cos(x)*_,l=r,p=r+R-X,u=0+Math.sin(x+w)*_,f=n+Math.cos(x+w)*_,h=r-X,m=0+Math.sin(x)*(_+q),g=n+Math.cos(x)*(_+q),b=0+Math.sin(x+w)*(_+q),v=n+Math.cos(x+w)*(_+q)),i(a,s,c,l,p,u,f,h,m,g,b,v);var k=j<d-1,P=y?(x+w/2)/Math.PI*-180:(x+w/2)/Math.PI*-180+180;y?(q<U&&("left"!==e.railing&&"both"!==e.railing||o(m,r+R,g,m+S,r+2*R,g,P,k)),"right"!==e.railing&&"both"!==e.railing||o(a,r+R,c,a+C,r+2*R,c,P,k)):("left"!==e.railing&&"both"!==e.railing||o(m,r+R,g,m+C,r+2*R,g,P,k),q<U&&("right"!==e.railing&&"both"!==e.railing||o(a,r+R,c,a+S,r+2*R,c,P,k))),r+=R,x+=w}}(0,0,0,E=F,G)),Promise.resolve({steps:{positions:new Float32Array(O),normals:Yc.flat(O),uvs:Xc.architectural(O),material:"steps"},tread:{positions:new Float32Array(L),normals:Yc.flat(L),uvs:Xc.architectural(L),material:"tread"},railing:{positions:new Float32Array(B),normals:Yc.flat(B),material:"railing"}})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},Tl={schema:G("wall"),init:function(){var e=this;this.throttledUpdate=AFRAME.utils.throttle(this.update,10,this),this.updateChildren(),this.el.addEventListener("child-attached",function(t){setTimeout(function(){e.throttledUpdate(),e.updateChildren()},10)}),this.el.addEventListener("child-detached",function(t){setTimeout(function(){e.throttledUpdate()},10)})},updateChildren:function(){var e=this,t=this.el.children;if(t&&t.length)for(var r=0;r<t.length;r++)t[r].addEventListener("componentchanged",function(){setTimeout(function(){e.throttledUpdate()},20)})},updateSchema:q,update:function(e){var t=this,r=t.data;e&&this.data.w===e.w&&this.data.controlLine===e.controlLine||this.el.emit("wall-changed",{w:this.data.w,controlLine:this.data.controlLine}),this.remove();var i=xc(r),n=t.el.children;i.children=[];for(var o=0;o<n.length;o++){var a=n[o].getAttribute("io3d-window")||n[o].getAttribute("io3d-door");if(a){n[o].getAttribute("io3d-window")?a.type="window":n[o].getAttribute("io3d-door")&&(a.type="door");var s=n[o].getAttribute("position");Object.keys(s).forEach(function(e){a[e]=s[e]}),i.children.push(a)}else console.log("invalid child")}i.materials=J(r),function(e){return e.materials=Jc(e.materials,{front:"default_plaster_001",back:"default_plaster_001",base:{colorDiffuse:[.95,.95,.95]},top:"wall_top"}),Promise.all([function(e){var t=e.children;t=fc(t,function(e){return void 0!==e.a?e.a.x:e.x});for(var r,i,n,o,a,s,c,l,u,p,f,d=e.frontHasBase?e.baseHeight:0,h=e.backHasBase?e.baseHeight:0,m=e.controlLine?e.controlLine:"back",g=[],b=0,v=[],y=0,_=[],w=0,x=[],C=0,S=[],j=0,k=[],P=0,A=0,E=e.l,T=e.w,I="front"===m?-T:"center"===m?-T/2:0,F=I+T,R=e.h,D=0,N=t.length;D<N;D++){if(r=t[D].a?t[D].a:t[D],i=t[D-1]?t[D-1].a:null,n=t[D+1]?t[D+1].a:null,o=r.x,a=r.y,c=r.l,r.w,l=r.h,s="front"===r.side?F:"center"===r.side?I+T/2:I,A<o&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=F,v[y+3]=o,v[y+4]=d,v[y+5]=F,v[y+6]=v[y+12]=o,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=R,v[y+17]=F,y+=18,_[w]=_[w+6]=A,_[w+1]=_[w+7]=d,_[w+2]=o,_[w+3]=d,_[w+4]=_[w+8]=o,_[w+5]=_[w+9]=R,_[w+10]=A,_[w+11]=R,w+=12,d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=F,g[b+3]=o,g[b+4]=0,g[b+5]=F,g[b+6]=g[b+12]=o,g[b+7]=g[b+13]=d,g[b+8]=g[b+14]=F,g[b+15]=A,g[b+16]=d,g[b+17]=F,b+=18),x[C]=x[C+9]=A,x[C+1]=x[C+10]=R,x[C+2]=x[C+11]=I,x[C+3]=o,x[C+4]=R,x[C+5]=I,x[C+6]=x[C+12]=o,x[C+7]=x[C+13]=h,x[C+8]=x[C+14]=I,x[C+15]=A,x[C+16]=h,x[C+17]=I,C+=18,S[j]=S[j+6]=A,S[j+1]=S[j+7]=R,S[j+2]=o,S[j+3]=R,S[j+4]=S[j+8]=o,S[j+5]=S[j+9]=h,S[j+10]=A,S[j+11]=h,j+=12,h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=h,g[b+2]=g[b+11]=I,g[b+3]=o,g[b+4]=h,g[b+5]=I,g[b+6]=g[b+12]=o,g[b+7]=g[b+13]=0,g[b+8]=g[b+14]=I,g[b+15]=A,g[b+16]=0,g[b+17]=I,b+=18),k[P]=k[P+9]=A,k[P+1]=k[P+10]=R,k[P+2]=k[P+11]=F,k[P+3]=o,k[P+4]=R,k[P+5]=F,k[P+6]=k[P+12]=o,k[P+7]=k[P+13]=R,k[P+8]=k[P+14]=I,k[P+15]=A,k[P+16]=R,k[P+17]=I,P+=18,0===A&&(F>0&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=0,v[y+3]=A,v[y+4]=d,v[y+5]=F,v[y+6]=v[y+12]=A,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=R,v[y+17]=0,y+=18,_[w]=_[w+6]=0,_[w+1]=_[w+7]=d,_[w+2]=F,_[w+3]=d,_[w+4]=_[w+8]=F,_[w+5]=_[w+9]=R,_[w+10]=0,_[w+11]=R,w+=12,d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=0,g[b+3]=A,g[b+4]=0,g[b+5]=F,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=d,g[b+8]=g[b+14]=F,g[b+15]=A,g[b+16]=d,g[b+17]=0,b+=18)),I<0&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=h,x[C+2]=x[C+11]=I,x[C+3]=A,x[C+4]=h,x[C+5]=0,x[C+6]=x[C+12]=A,x[C+7]=x[C+13]=R,x[C+8]=x[C+14]=0,x[C+15]=A,x[C+16]=R,x[C+17]=I,C+=18,S[j]=S[j+6]=0,S[j+1]=S[j+7]=h,S[j+2]=I,S[j+3]=h,S[j+4]=S[j+8]=I,S[j+5]=S[j+9]=R,S[j+10]=0,S[j+11]=R,j+=12,h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=I,g[b+3]=A,g[b+4]=0,g[b+5]=0,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=h,g[b+8]=g[b+14]=0,g[b+15]=A,g[b+16]=h,g[b+17]=I,b+=18)))),A=o,a>0){var M=h>r.y?r.y:h,O=d>r.y?r.y:d;r.y>d&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=F,v[y+3]=A+c,v[y+4]=d,v[y+5]=F,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=a,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=a,v[y+17]=F,y+=18,_[w]=_[w+6]=A,_[w+1]=_[w+7]=d,_[w+2]=A+c,_[w+3]=d,_[w+4]=_[w+8]=A+c,_[w+5]=_[w+9]=a,_[w+10]=A,_[w+11]=a,w+=12),d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=F,g[b+3]=A+c,g[b+4]=0,g[b+5]=F,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=O,g[b+8]=g[b+14]=F,g[b+15]=A,g[b+16]=O,g[b+17]=F,b+=18),r.y>h&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=a,x[C+2]=x[C+11]=I,x[C+3]=A+c,x[C+4]=a,x[C+5]=I,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=h,x[C+8]=x[C+14]=I,x[C+15]=A,x[C+16]=h,x[C+17]=I,C+=18,S[j]=S[j+6]=A,S[j+1]=S[j+7]=a,S[j+2]=A+c,S[j+3]=a,S[j+4]=S[j+8]=A+c,S[j+5]=S[j+9]=h,S[j+10]=A,S[j+11]=h,j+=12),h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=M,g[b+2]=g[b+11]=I,g[b+3]=A+c,g[b+4]=M,g[b+5]=I,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=0,g[b+8]=g[b+14]=I,g[b+15]=A,g[b+16]=0,g[b+17]=I,b+=18),F>s&&(r.y>d?(v[y]=v[y+9]=A,v[y+1]=v[y+10]=a,v[y+2]=v[y+11]=F,v[y+3]=A+c,v[y+4]=a,v[y+5]=F,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=a,v[y+8]=v[y+14]=s,v[y+15]=A,v[y+16]=a,v[y+17]=s,y+=18,_[w]=_[w+6]=A,_[w+1]=_[w+7]=T,_[w+2]=A+c,_[w+3]=T,_[w+4]=_[w+8]=A+c,_[w+5]=_[w+9]=0,_[w+10]=A,_[w+11]=0,w+=12):(g[b]=g[b+9]=A,g[b+1]=g[b+10]=a,g[b+2]=g[b+11]=F,g[b+3]=A+c,g[b+4]=a,g[b+5]=F,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=a,g[b+8]=g[b+14]=s,g[b+15]=A,g[b+16]=a,g[b+17]=s,b+=18)),s>I&&(r.y>h?(x[C]=x[C+9]=A,x[C+1]=x[C+10]=a,x[C+2]=x[C+11]=s,x[C+3]=A+c,x[C+4]=a,x[C+5]=s,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=a,x[C+8]=x[C+14]=I,x[C+15]=A,x[C+16]=a,x[C+17]=I,C+=18,S[j]=S[j+6]=A,S[j+1]=S[j+7]=T,S[j+2]=A+c,S[j+3]=T,S[j+4]=S[j+8]=A+c,S[j+5]=S[j+9]=0,S[j+10]=A,S[j+11]=0,j+=12):(g[b]=g[b+9]=A,g[b+1]=g[b+10]=a,g[b+2]=g[b+11]=s,g[b+3]=A+c,g[b+4]=a,g[b+5]=s,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=a,g[b+8]=g[b+14]=I,g[b+15]=A,g[b+16]=a,g[b+17]=I,b+=18)),A<=0?(F>s&&(r.y>d&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=s,v[y+3]=A,v[y+4]=d,v[y+5]=F,v[y+6]=v[y+12]=A,v[y+7]=v[y+13]=a,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=a,v[y+17]=s,y+=18,_[w]=_[w+6]=0,_[w+1]=_[w+7]=d,_[w+2]=T,_[w+3]=d,_[w+4]=_[w+8]=T,_[w+5]=_[w+9]=a,_[w+10]=0,_[w+11]=a,w+=12),d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=s,g[b+3]=A,g[b+4]=0,g[b+5]=F,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=O,g[b+8]=g[b+14]=F,g[b+15]=A,g[b+16]=O,g[b+17]=s,b+=18)),s>I&&(r.y>h&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=h,x[C+2]=x[C+11]=I,x[C+3]=A,x[C+4]=h,x[C+5]=s,x[C+6]=x[C+12]=A,x[C+7]=x[C+13]=a,x[C+8]=x[C+14]=s,x[C+15]=A,x[C+16]=a,x[C+17]=I,C+=18,S[j]=S[j+6]=0,S[j+1]=S[j+7]=h,S[j+2]=T,S[j+3]=h,S[j+4]=S[j+8]=T,S[j+5]=S[j+9]=a,S[j+10]=0,S[j+11]=a,j+=12),h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=I,g[b+3]=A,g[b+4]=0,g[b+5]=s,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=M,g[b+8]=g[b+14]=s,g[b+15]=A,g[b+16]=M,g[b+17]=I,b+=18))):i&&o===ye(i.x+i.l)&&i.y<a&&(p=a>d?d:a,f=a>h?h:a,F>s&&(r.y>d&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=p,v[y+2]=v[y+11]=s,v[y+3]=A,v[y+4]=p,v[y+5]=F,v[y+6]=v[y+12]=A,v[y+7]=v[y+13]=a,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=a,v[y+17]=s,y+=18,_[w]=_[w+6]=0,_[w+1]=_[w+7]=p,_[w+2]=T,_[w+3]=p,_[w+4]=_[w+8]=T,_[w+5]=_[w+9]=a,_[w+10]=0,_[w+11]=a,w+=12),d&&i.y<d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=i.y,g[b+2]=g[b+11]=s,g[b+3]=A,g[b+4]=i.y,g[b+5]=F,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=p,g[b+8]=g[b+14]=F,g[b+15]=A,g[b+16]=p,g[b+17]=s,b+=18)),s>I&&(r.y>h&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=f,x[C+2]=x[C+11]=I,x[C+3]=A,x[C+4]=f,x[C+5]=s,x[C+6]=x[C+12]=A,x[C+7]=x[C+13]=a,x[C+8]=x[C+14]=s,x[C+15]=A,x[C+16]=a,x[C+17]=I,C+=18,S[j]=S[j+6]=0,S[j+1]=S[j+7]=f,S[j+2]=T,S[j+3]=f,S[j+4]=S[j+8]=T,S[j+5]=S[j+9]=a,S[j+10]=0,S[j+11]=a,j+=12),h&&i.y<h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=i.y,g[b+2]=g[b+11]=I,g[b+3]=A,g[b+4]=i.y,g[b+5]=s,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=f,g[b+8]=g[b+14]=s,g[b+15]=A,g[b+16]=f,g[b+17]=I,b+=18))),ye(A+c)>=E?(F>s&&(r.y>d&&(v[y]=v[y+9]=A+c,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=F,v[y+3]=A+c,v[y+4]=d,v[y+5]=s,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=a,v[y+8]=v[y+14]=s,v[y+15]=A+c,v[y+16]=a,v[y+17]=F,y+=18,_[w]=_[w+6]=T,_[w+1]=_[w+7]=d,_[w+2]=0,_[w+3]=d,_[w+4]=_[w+8]=0,_[w+5]=_[w+9]=a,_[w+10]=T,_[w+11]=a,w+=12),d&&(g[b]=g[b+9]=A+c,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=F,g[b+3]=A+c,g[b+4]=0,g[b+5]=s,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=O,g[b+8]=g[b+14]=s,g[b+15]=A+c,g[b+16]=O,g[b+17]=F,b+=18)),s>I&&(r.y>h&&(x[C]=x[C+9]=A+c,x[C+1]=x[C+10]=h,x[C+2]=x[C+11]=s,x[C+3]=A+c,x[C+4]=h,x[C+5]=I,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=a,x[C+8]=x[C+14]=I,x[C+15]=A+c,x[C+16]=a,x[C+17]=s,C+=18,S[j]=S[j+6]=T,S[j+1]=S[j+7]=h,S[j+2]=0,S[j+3]=h,S[j+4]=S[j+8]=0,S[j+5]=S[j+9]=a,S[j+10]=T,S[j+11]=a,j+=12),h&&(g[b]=g[b+9]=A+c,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=s,g[b+3]=A+c,g[b+4]=0,g[b+5]=I,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=M,g[b+8]=g[b+14]=I,g[b+15]=A+c,g[b+16]=M,g[b+17]=s,b+=18))):n&&ye(o+c)===n.x&&n.y<a&&(p=a>d?d:a,f=a>h?h:a,F>s&&(r.y>d&&(v[y]=v[y+9]=A+c,v[y+1]=v[y+10]=a,v[y+2]=v[y+11]=F,v[y+3]=A+c,v[y+4]=p,v[y+5]=F,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=p,v[y+8]=v[y+14]=s,v[y+15]=A+c,v[y+16]=a,v[y+17]=s,y+=18,_[w]=_[w+6]=T,_[w+1]=_[w+7]=a,_[w+2]=T,_[w+3]=p,_[w+4]=_[w+8]=0,_[w+5]=_[w+9]=p,_[w+10]=0,_[w+11]=a,w+=12),d&&n.y<d&&(g[b]=g[b+9]=A+c,g[b+1]=g[b+10]=p,g[b+2]=g[b+11]=F,g[b+3]=A+c,g[b+4]=n.y,g[b+5]=F,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=n.y,g[b+8]=g[b+14]=s,g[b+15]=A+c,g[b+16]=p,g[b+17]=s,b+=18)),s>I&&(r.y>h&&(x[C]=x[C+9]=A+c,x[C+1]=x[C+10]=a,x[C+2]=x[C+11]=s,x[C+3]=A+c,x[C+4]=f,x[C+5]=s,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=f,x[C+8]=x[C+14]=I,x[C+15]=A+c,x[C+16]=a,x[C+17]=I,C+=18,S[j]=S[j+6]=T,S[j+1]=S[j+7]=a,S[j+2]=T,S[j+3]=f,S[j+4]=S[j+8]=0,S[j+5]=S[j+9]=f,S[j+10]=0,S[j+11]=a,j+=12),h&&n.y<h&&(g[b]=g[b+9]=A+c,g[b+1]=g[b+10]=f,g[b+2]=g[b+11]=s,g[b+3]=A+c,g[b+4]=n.y,g[b+5]=s,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=n.y,g[b+8]=g[b+14]=I,g[b+15]=A+c,g[b+16]=f,g[b+17]=I,b+=18)))}o>0&&(i&&o===ye(i.x+i.l)||(p=Math.max(d,a),f=Math.max(h,a),u=Math.max(d||h,a+l),F>s&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=p,v[y+2]=v[y+11]=F,v[y+3]=A,v[y+4]=p,v[y+5]=s,v[y+6]=v[y+12]=A,v[y+7]=v[y+13]=u,v[y+8]=v[y+14]=s,v[y+15]=A,v[y+16]=u,v[y+17]=F,y+=18,_[w]=_[w+6]=T,_[w+1]=_[w+7]=p,_[w+2]=0,_[w+3]=p,_[w+4]=_[w+8]=0,_[w+5]=_[w+9]=u,_[w+10]=T,_[w+11]=u,w+=12,d&&a<d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=a,g[b+2]=g[b+11]=F,g[b+3]=A,g[b+4]=a,g[b+5]=s,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=p,g[b+8]=g[b+14]=s,g[b+15]=A,g[b+16]=p,g[b+17]=F,b+=18)),s>I&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=f,x[C+2]=x[C+11]=s,x[C+3]=A,x[C+4]=f,x[C+5]=I,x[C+6]=x[C+12]=A,x[C+7]=x[C+13]=u,x[C+8]=x[C+14]=I,x[C+15]=A,x[C+16]=u,x[C+17]=s,C+=18,S[j]=S[j+6]=T,S[j+1]=S[j+7]=f,S[j+2]=0,S[j+3]=f,S[j+4]=S[j+8]=0,S[j+5]=S[j+9]=u,S[j+10]=T,S[j+11]=u,j+=12,h&&a<h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=a,g[b+2]=g[b+11]=s,g[b+3]=A,g[b+4]=a,g[b+5]=I,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=f,g[b+8]=g[b+14]=I,g[b+15]=A,g[b+16]=f,g[b+17]=s,b+=18)))),o+c<E&&(n&&ye(o+c)===n.x||(p=Math.max(d,a),f=Math.max(h,a),u=Math.max(d||h,a+l),F>s&&(v[y]=v[y+9]=A+c,v[y+1]=v[y+10]=p,v[y+2]=v[y+11]=s,v[y+3]=A+c,v[y+4]=p,v[y+5]=F,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=u,v[y+8]=v[y+14]=F,v[y+15]=A+c,v[y+16]=u,v[y+17]=s,y+=18,_[w]=_[w+6]=0,_[w+1]=_[w+7]=p,_[w+2]=T,_[w+3]=p,_[w+4]=_[w+8]=T,_[w+5]=_[w+9]=u,_[w+10]=0,_[w+11]=u,w+=12,d&&a<d&&(g[b]=g[b+9]=A+c,g[b+1]=g[b+10]=a,g[b+2]=g[b+11]=s,g[b+3]=A+c,g[b+4]=a,g[b+5]=F,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=p,g[b+8]=g[b+14]=F,g[b+15]=A+c,g[b+16]=p,g[b+17]=s,b+=18)),s>I&&(x[C]=x[C+9]=A+c,x[C+1]=x[C+10]=f,x[C+2]=x[C+11]=I,x[C+3]=A+c,x[C+4]=f,x[C+5]=s,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=u,x[C+8]=x[C+14]=s,x[C+15]=A+c,x[C+16]=u,x[C+17]=I,C+=18,S[j]=S[j+6]=0,S[j+1]=S[j+7]=f,S[j+2]=T,S[j+3]=f,S[j+4]=S[j+8]=T,S[j+5]=S[j+9]=u,S[j+10]=0,S[j+11]=u,j+=12,h&&a<h&&(g[b]=g[b+9]=A+c,g[b+1]=g[b+10]=a,g[b+2]=g[b+11]=I,g[b+3]=A+c,g[b+4]=a,g[b+5]=s,g[b+6]=g[b+12]=A+c,g[b+7]=g[b+13]=f,g[b+8]=g[b+14]=s,g[b+15]=A+c,g[b+16]=f,g[b+17]=I,b+=18)))),ye(a+l)<R&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=a+l,v[y+2]=v[y+11]=F,v[y+3]=A+c,v[y+4]=a+l,v[y+5]=F,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=R,v[y+17]=F,y+=18,_[w]=_[w+6]=A,_[w+1]=_[w+7]=a+l,_[w+2]=A+c,_[w+3]=a+l,_[w+4]=_[w+8]=A+c,_[w+5]=_[w+9]=R,_[w+10]=A,_[w+11]=R,w+=12,x[C]=x[C+9]=A,x[C+1]=x[C+10]=R,x[C+2]=x[C+11]=I,x[C+3]=A+c,x[C+4]=R,x[C+5]=I,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=a+l,x[C+8]=x[C+14]=I,x[C+15]=A,x[C+16]=a+l,x[C+17]=I,C+=18,S[j]=S[j+6]=A,S[j+1]=S[j+7]=R,S[j+2]=A+c,S[j+3]=R,S[j+4]=S[j+8]=A+c,S[j+5]=S[j+9]=a+l,S[j+10]=A,S[j+11]=a+l,j+=12,k[P]=k[P+9]=A,k[P+1]=k[P+10]=R,k[P+2]=k[P+11]=F,k[P+3]=A+c,k[P+4]=R,k[P+5]=F,k[P+6]=k[P+12]=A+c,k[P+7]=k[P+13]=R,k[P+8]=k[P+14]=I,k[P+15]=A,k[P+16]=R,k[P+17]=I,P+=18,F>s&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=a+l,v[y+2]=v[y+11]=s,v[y+3]=A+c,v[y+4]=a+l,v[y+5]=s,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=a+l,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=a+l,v[y+17]=F,y+=18,_[w]=_[w+6]=A,_[w+1]=_[w+7]=0,_[w+2]=A+c,_[w+3]=0,_[w+4]=_[w+8]=A+c,_[w+5]=_[w+9]=T,_[w+10]=A,_[w+11]=T,w+=12),s>I&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=a+l,x[C+2]=x[C+11]=I,x[C+3]=A+c,x[C+4]=a+l,x[C+5]=I,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=a+l,x[C+8]=x[C+14]=s,x[C+15]=A,x[C+16]=a+l,x[C+17]=s,C+=18,S[j]=S[j+6]=A,S[j+1]=S[j+7]=0,S[j+2]=A+c,S[j+3]=0,S[j+4]=S[j+8]=A+c,S[j+5]=S[j+9]=T,S[j+10]=A,S[j+11]=T,j+=12),A<=0?(F>s&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=a+l,v[y+2]=v[y+11]=s,v[y+3]=A,v[y+4]=a+l,v[y+5]=F,v[y+6]=v[y+12]=A,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=R,v[y+17]=s,y+=18,_[w]=_[w+6]=0,_[w+1]=_[w+7]=a+l,_[w+2]=T,_[w+3]=a+l,_[w+4]=_[w+8]=T,_[w+5]=_[w+9]=R,_[w+10]=0,_[w+11]=R,w+=12),s>I&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=a+l,x[C+2]=x[C+11]=I,x[C+3]=A,x[C+4]=a+l,x[C+5]=s,x[C+6]=x[C+12]=A,x[C+7]=x[C+13]=R,x[C+8]=x[C+14]=s,x[C+15]=A,x[C+16]=R,x[C+17]=I,C+=18,S[j]=S[j+6]=0,S[j+1]=S[j+7]=a+l,S[j+2]=T,S[j+3]=a+l,S[j+4]=S[j+8]=T,S[j+5]=S[j+9]=R,S[j+10]=0,S[j+11]=R,j+=12)):i&&o===ye(i.x+i.l)&&ye(i.y+i.h)>ye(a+l)&&(F>s&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=a+l,v[y+2]=v[y+11]=s,v[y+3]=A,v[y+4]=a+l,v[y+5]=F,v[y+6]=v[y+12]=A,v[y+7]=v[y+13]=i.y+i.h,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=i.y+i.h,v[y+17]=s,y+=18,_[w]=_[w+6]=0,_[w+1]=_[w+7]=a+l,_[w+2]=T,_[w+3]=a+l,_[w+4]=_[w+8]=T,_[w+5]=_[w+9]=i.y+i.h,_[w+10]=0,_[w+11]=i.y+i.h,w+=12),s>I&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=a+l,x[C+2]=x[C+11]=I,x[C+3]=A,x[C+4]=a+l,x[C+5]=s,x[C+6]=x[C+12]=A,x[C+7]=x[C+13]=i.y+i.h,x[C+8]=x[C+14]=s,x[C+15]=A,x[C+16]=i.y+i.h,x[C+17]=I,C+=18,S[j]=S[j+6]=0,S[j+1]=S[j+7]=a+l,S[j+2]=T,S[j+3]=a+l,S[j+4]=S[j+8]=T,S[j+5]=S[j+9]=i.y+i.h,S[j+10]=0,S[j+11]=i.y+i.h,j+=12)),ye(A+c)>=E?(F>s&&(v[y]=v[y+9]=A+c,v[y+1]=v[y+10]=a+l,v[y+2]=v[y+11]=F,v[y+3]=A+c,v[y+4]=a+l,v[y+5]=s,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=s,v[y+15]=A+c,v[y+16]=R,v[y+17]=F,y+=18,_[w]=_[w+6]=T,_[w+1]=_[w+7]=a+l,_[w+2]=0,_[w+3]=a+l,_[w+4]=_[w+8]=0,_[w+5]=_[w+9]=R,_[w+10]=T,_[w+11]=R,w+=12),s>I&&(x[C]=x[C+9]=A+c,x[C+1]=x[C+10]=a+l,x[C+2]=x[C+11]=s,x[C+3]=A+c,x[C+4]=a+l,x[C+5]=I,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=R,x[C+8]=x[C+14]=I,x[C+15]=A+c,x[C+16]=R,x[C+17]=s,C+=18,S[j]=S[j+6]=T,S[j+1]=S[j+7]=a+l,S[j+2]=0,S[j+3]=a+l,S[j+4]=S[j+8]=0,S[j+5]=S[j+9]=R,S[j+10]=T,S[j+11]=R,j+=12)):n&&ye(o+c)===n.x&&ye(n.y+n.h)>ye(a+l)&&(F>s&&(v[y]=v[y+9]=A+c,v[y+1]=v[y+10]=a+l,v[y+2]=v[y+11]=F,v[y+3]=A+c,v[y+4]=a+l,v[y+5]=s,v[y+6]=v[y+12]=A+c,v[y+7]=v[y+13]=n.y+n.h,v[y+8]=v[y+14]=s,v[y+15]=A+c,v[y+16]=n.y+n.h,v[y+17]=F,y+=18,_[w]=_[w+6]=T,_[w+1]=_[w+7]=a+l,_[w+2]=0,_[w+3]=a+l,_[w+4]=_[w+8]=0,_[w+5]=_[w+9]=n.y+n.h,_[w+10]=T,_[w+11]=n.y+n.h,w+=12),s>I&&(x[C]=x[C+9]=A+c,x[C+1]=x[C+10]=a+l,x[C+2]=x[C+11]=s,x[C+3]=A+c,x[C+4]=a+l,x[C+5]=I,x[C+6]=x[C+12]=A+c,x[C+7]=x[C+13]=n.y+n.h,x[C+8]=x[C+14]=I,x[C+15]=A+c,x[C+16]=n.y+n.h,x[C+17]=s,C+=18,S[j]=S[j+6]=T,S[j+1]=S[j+7]=a+l,S[j+2]=0,S[j+3]=a+l,S[j+4]=S[j+8]=0,S[j+5]=S[j+9]=n.y+n.h,S[j+10]=T,S[j+11]=n.y+n.h,j+=12))),A+=c}return A<E&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=F,v[y+3]=E,v[y+4]=d,v[y+5]=F,v[y+6]=v[y+12]=E,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=R,v[y+17]=F,y+=18,_[w]=_[w+6]=A,_[w+1]=_[w+7]=d,_[w+2]=E,_[w+3]=d,_[w+4]=_[w+8]=E,_[w+5]=_[w+9]=R,_[w+10]=A,_[w+11]=R,w+=12,d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=F,g[b+3]=E,g[b+4]=0,g[b+5]=F,g[b+6]=g[b+12]=E,g[b+7]=g[b+13]=d,g[b+8]=g[b+14]=F,g[b+15]=A,g[b+16]=d,g[b+17]=F,b+=18),x[C]=x[C+9]=A,x[C+1]=x[C+10]=R,x[C+2]=x[C+11]=I,x[C+3]=E,x[C+4]=R,x[C+5]=I,x[C+6]=x[C+12]=E,x[C+7]=x[C+13]=h,x[C+8]=x[C+14]=I,x[C+15]=A,x[C+16]=h,x[C+17]=I,C+=18,S[j]=S[j+6]=A,S[j+1]=S[j+7]=R,S[j+2]=E,S[j+3]=R,S[j+4]=S[j+8]=E,S[j+5]=S[j+9]=h,S[j+10]=A,S[j+11]=h,j+=12,h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=h,g[b+2]=g[b+11]=I,g[b+3]=E,g[b+4]=h,g[b+5]=I,g[b+6]=g[b+12]=E,g[b+7]=g[b+13]=0,g[b+8]=g[b+14]=I,g[b+15]=A,g[b+16]=0,g[b+17]=I,b+=18),k[P]=k[P+9]=A,k[P+1]=k[P+10]=R,k[P+2]=k[P+11]=F,k[P+3]=E,k[P+4]=R,k[P+5]=F,k[P+6]=k[P+12]=E,k[P+7]=k[P+13]=R,k[P+8]=k[P+14]=I,k[P+15]=A,k[P+16]=R,k[P+17]=I,P+=18,0===A&&(F>0&&(v[y]=v[y+9]=A,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=0,v[y+3]=A,v[y+4]=d,v[y+5]=F,v[y+6]=v[y+12]=A,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=F,v[y+15]=A,v[y+16]=R,v[y+17]=0,y+=18,_[w]=_[w+6]=0,_[w+1]=_[w+7]=d,_[w+2]=F,_[w+3]=d,_[w+4]=_[w+8]=F,_[w+5]=_[w+9]=R,_[w+10]=0,_[w+11]=R,w+=12,d&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=0,g[b+3]=A,g[b+4]=0,g[b+5]=F,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=d,g[b+8]=g[b+14]=F,g[b+15]=A,g[b+16]=d,g[b+17]=0,b+=18)),I<0&&(x[C]=x[C+9]=A,x[C+1]=x[C+10]=h,x[C+2]=x[C+11]=I,x[C+3]=A,x[C+4]=h,x[C+5]=0,x[C+6]=x[C+12]=A,x[C+7]=x[C+13]=R,x[C+8]=x[C+14]=0,x[C+15]=A,x[C+16]=R,x[C+17]=I,C+=18,S[j]=S[j+6]=0,S[j+1]=S[j+7]=h,S[j+2]=I,S[j+3]=h,S[j+4]=S[j+8]=I,S[j+5]=S[j+9]=R,S[j+10]=0,S[j+11]=R,j+=12,h&&(g[b]=g[b+9]=A,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=I,g[b+3]=A,g[b+4]=0,g[b+5]=0,g[b+6]=g[b+12]=A,g[b+7]=g[b+13]=h,g[b+8]=g[b+14]=0,g[b+15]=A,g[b+16]=h,g[b+17]=I,b+=18))),F>0&&(v[y]=v[y+9]=E,v[y+1]=v[y+10]=d,v[y+2]=v[y+11]=F,v[y+3]=E,v[y+4]=d,v[y+5]=0,v[y+6]=v[y+12]=E,v[y+7]=v[y+13]=R,v[y+8]=v[y+14]=0,v[y+15]=E,v[y+16]=R,v[y+17]=F,y+=18,_[w]=_[w+6]=F,_[w+1]=_[w+7]=d,_[w+2]=0,_[w+3]=d,_[w+4]=_[w+8]=0,_[w+5]=_[w+9]=R,_[w+10]=F,_[w+11]=R,w+=12,d&&(g[b]=g[b+9]=E,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=F,g[b+3]=E,g[b+4]=0,g[b+5]=0,g[b+6]=g[b+12]=E,g[b+7]=g[b+13]=d,g[b+8]=g[b+14]=0,g[b+15]=E,g[b+16]=d,g[b+17]=F,b+=18)),I<0&&(x[C]=x[C+9]=E,x[C+1]=x[C+10]=h,x[C+2]=x[C+11]=0,x[C+3]=E,x[C+4]=h,x[C+5]=I,x[C+6]=x[C+12]=E,x[C+7]=x[C+13]=R,x[C+8]=x[C+14]=I,x[C+15]=E,x[C+16]=R,x[C+17]=0,C+=18,S[j]=S[j+6]=I,S[j+1]=S[j+7]=h,S[j+2]=0,S[j+3]=h,S[j+4]=S[j+8]=0,S[j+5]=S[j+9]=R,S[j+10]=I,S[j+11]=R,j+=12,h&&(g[b]=g[b+9]=E,g[b+1]=g[b+10]=0,g[b+2]=g[b+11]=0,g[b+3]=E,g[b+4]=0,g[b+5]=I,g[b+6]=g[b+12]=E,g[b+7]=g[b+13]=h,g[b+8]=g[b+14]=I,g[b+15]=E,g[b+16]=h,g[b+17]=0,b+=18))),Promise.resolve({front:{positions:new Float32Array(v),normals:Yc.flat(v),uvs:new Float32Array(_),material:"front"},back:{positions:new Float32Array(x),normals:Yc.flat(x),uvs:new Float32Array(S),material:"back"},top:{positions:new Float32Array(k),normals:Yc.flat(k),material:"top"},base:{positions:new Float32Array(g),normals:Yc.flat(g),uvs:Xc.architectural(g),material:"base"}})}(e),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i).then(function(e){$c(e.meshes),t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},Il={schema:G("window"),init:function(){var e=this;this.el.parentEl.addEventListener("wall-changed",this.updateFromWall),setTimeout(function(){e.updateFromWall()},20)},updateFromWall:function(e){var t={};if(e)t.w=e.detail.w,t.controlLine=e.detail.controlLine;else{var r=this.el.parentEl.getAttribute("io3d-wall");r&&("string"==typeof r&&(r=AFRAME.utils.styleParser.parse(r)),t.w=r.w,t.controlLine=r.controlLine)}this.update(t)},updateSchema:q,update:function(e){var t=this,r=t.data;this.remove();var i=xc(r),n="true"===r.hideGlass;i.materials=J(r),function(e,t){return e.materials=Jc(e.materials,{frame:{colorDiffuse:[.85,.85,.85]},glass:"glass"}),Promise.all([function(e,t){var r=e.w||.15,i="back";t&&(t.w||t.controlLine)&&(r=t.w,i=t.controlLine);var n,o,a="front"===i?-r:"center"===i?-r/2:0,s=r+a,c=e.rowRatios,l=e.columnRatios,u=e.frameLength,p=e.frameWidth,f=e.side;o=(n="front"===f?s-p:"center"===f?a+r/2-p/2:a)+p;for(var d,h=e.h,m=0,g=e.h-u,b=e.l-u,v=c.length,y=0,_=[],w=4*v+18,x=0,C=0;C<v;C++)for(y+=c[C],l[C]||(l[C]=[1]),_[C]=0,w+=4*((d=l[C].length)-1)+8*d,x+=4*d,T=0;T<d;T++)_[C]+=l[C][T];for(var S,j=g/y,k=new Float32Array(9*w),P=0,A=new Float32Array(9*x),E=0,C=0;C<v;C++){for(d=l[C].length,S=b/_[C],k[P]=u,k[P+1]=h,k[P+2]=n,k[P+3]=b,k[P+4]=h-u,k[P+5]=n,k[P+6]=u,k[P+7]=h-u,k[P+8]=n,k[P+9]=b,k[P+10]=h-u,k[P+11]=n,k[P+12]=u,k[P+13]=h,k[P+14]=n,k[P+15]=b,k[P+16]=h,k[P+17]=n,k[P+18]=u,k[P+19]=h,k[P+20]=o,k[P+21]=u,k[P+22]=h-u,k[P+23]=o,k[P+24]=b,k[P+25]=h-u,k[P+26]=o,k[P+27]=b,k[P+28]=h-u,k[P+29]=o,k[P+30]=b,k[P+31]=h,k[P+32]=o,k[P+33]=u,k[P+34]=h,k[P+35]=o,P+=36,h-=u,T=0;T<d-1;T++)m+=S*l[C][T],k[P]=m,k[P+1]=h,k[P+2]=n,k[P+3]=m+u,k[P+4]=h-j*c[C]+u,k[P+5]=n,k[P+6]=m,k[P+7]=h-j*c[C]+u,k[P+8]=n,k[P+9]=m+u,k[P+10]=h-j*c[C]+u,k[P+11]=n,k[P+12]=m,k[P+13]=h,k[P+14]=n,k[P+15]=m+u,k[P+16]=h,k[P+17]=n,k[P+18]=m,k[P+19]=h,k[P+20]=o,k[P+21]=m,k[P+22]=h-j*c[C]+u,k[P+23]=o,k[P+24]=m+u,k[P+25]=h-j*c[C]+u,k[P+26]=o,k[P+27]=m+u,k[P+28]=h-j*c[C]+u,k[P+29]=o,k[P+30]=m+u,k[P+31]=h,k[P+32]=o,k[P+33]=m,k[P+34]=h,k[P+35]=o,P+=36;m=0;for(var T=0;T<d;T++)A[E]=m+u,A[E+1]=h,A[E+2]=n,A[E+3]=m+u,A[E+4]=h-j*c[C]+u,A[E+5]=n,A[E+6]=m+S*l[C][T],A[E+7]=h-j*c[C]+u,A[E+8]=n,A[E+9]=m+S*l[C][T],A[E+10]=h-j*c[C]+u,A[E+11]=n,A[E+12]=m+S*l[C][T],A[E+13]=h,A[E+14]=n,A[E+15]=m+u,A[E+16]=h,A[E+17]=n,A[E+=18]=m+u,A[E+1]=h,A[E+2]=n,A[E+3]=m+S*l[C][T],A[E+4]=h-j*c[C]+u,A[E+5]=n,A[E+6]=m+u,A[E+7]=h-j*c[C]+u,A[E+8]=n,A[E+9]=m+S*l[C][T],A[E+10]=h-j*c[C]+u,A[E+11]=n,A[E+12]=m+u,A[E+13]=h,A[E+14]=n,A[E+15]=m+S*l[C][T],A[E+16]=h,A[E+17]=n,E+=18,k[P]=m+u,k[P+1]=h,k[P+2]=n,k[P+3]=m+u,k[P+4]=h-j*c[C]+u,k[P+5]=o,k[P+6]=m+u,k[P+7]=h-j*c[C]+u,k[P+8]=n,k[P+9]=m+u,k[P+10]=h,k[P+11]=n,k[P+12]=m+u,k[P+13]=h,k[P+14]=o,k[P+15]=m+u,k[P+16]=h-j*c[C]+u,k[P+17]=o,k[P+=18]=m+u,k[P+1]=h-j*c[C]+u,k[P+2]=n,k[P+3]=m+S*l[C][T],k[P+4]=h-j*c[C]+u,k[P+5]=o,k[P+6]=m+S*l[C][T],k[P+7]=h-j*c[C]+u,k[P+8]=n,k[P+9]=m+u,k[P+10]=h-j*c[C]+u,k[P+11]=n,k[P+12]=m+u,k[P+13]=h-j*c[C]+u,k[P+14]=o,k[P+15]=m+S*l[C][T],k[P+16]=h-j*c[C]+u,k[P+17]=o,k[P+=18]=m+u,k[P+1]=h,k[P+2]=n,k[P+3]=m+S*l[C][T],k[P+4]=h,k[P+5]=n,k[P+6]=m+S*l[C][T],k[P+7]=h,k[P+8]=o,k[P+9]=m+u,k[P+10]=h,k[P+11]=n,k[P+12]=m+S*l[C][T],k[P+13]=h,k[P+14]=o,k[P+15]=m+u,k[P+16]=h,k[P+17]=o,P+=18,m+=S*l[C][T],k[P]=m,k[P+1]=h,k[P+2]=n,k[P+3]=m,k[P+4]=h-j*c[C]+u,k[P+5]=n,k[P+6]=m,k[P+7]=h-j*c[C]+u,k[P+8]=o,k[P+9]=m,k[P+10]=h,k[P+11]=n,k[P+12]=m,k[P+13]=h-j*c[C]+u,k[P+14]=o,k[P+15]=m,k[P+16]=h,k[P+17]=o,P+=18;m=0,h-=j*c[C]-u}return k[P]=u,k[P+1]=h,k[P+2]=n,k[P+3]=b,k[P+4]=h-u,k[P+5]=n,k[P+6]=u,k[P+7]=h-u,k[P+8]=n,k[P+9]=b,k[P+10]=h-u,k[P+11]=n,k[P+12]=u,k[P+13]=h,k[P+14]=n,k[P+15]=b,k[P+16]=h,k[P+17]=n,k[P+18]=u,k[P+19]=h,k[P+20]=o,k[P+21]=u,k[P+22]=h-u,k[P+23]=o,k[P+24]=b,k[P+25]=h-u,k[P+26]=o,k[P+27]=b,k[P+28]=h-u,k[P+29]=o,k[P+30]=b,k[P+31]=h,k[P+32]=o,k[P+33]=u,k[P+34]=h,k[P+35]=o,P+=36,k[P]=0,k[P+1]=e.h,k[P+2]=n,k[P+3]=u,k[P+4]=0,k[P+5]=n,k[P+6]=0,k[P+7]=0,k[P+8]=n,k[P+9]=u,k[P+10]=0,k[P+11]=n,k[P+12]=0,k[P+13]=e.h,k[P+14]=n,k[P+15]=u,k[P+16]=e.h,k[P+17]=n,k[P+18]=0,k[P+19]=e.h,k[P+20]=o,k[P+21]=0,k[P+22]=0,k[P+23]=o,k[P+24]=u,k[P+25]=0,k[P+26]=o,k[P+27]=u,k[P+28]=0,k[P+29]=o,k[P+30]=u,k[P+31]=e.h,k[P+32]=o,k[P+33]=0,k[P+34]=e.h,k[P+35]=o,P+=36,k[P]=b,k[P+1]=e.h,k[P+2]=n,k[P+3]=e.l,k[P+4]=0,k[P+5]=n,k[P+6]=b,k[P+7]=0,k[P+8]=n,k[P+9]=e.l,k[P+10]=0,k[P+11]=n,k[P+12]=b,k[P+13]=e.h,k[P+14]=n,k[P+15]=e.l,k[P+16]=e.h,k[P+17]=n,k[P+18]=b,k[P+19]=e.h,k[P+20]=o,k[P+21]=b,k[P+22]=0,k[P+23]=o,k[P+24]=e.l,k[P+25]=0,k[P+26]=o,k[P+27]=e.l,k[P+28]=0,k[P+29]=o,k[P+30]=e.l,k[P+31]=e.h,k[P+32]=o,k[P+33]=b,k[P+34]=e.h,k[P+35]=o,P+=36,k[P]=e.l,k[P+1]=e.h,k[P+2]=n,k[P+3]=e.l,k[P+4]=0,k[P+5]=o,k[P+6]=e.l,k[P+7]=0,k[P+8]=n,k[P+9]=e.l,k[P+10]=e.h,k[P+11]=n,k[P+12]=e.l,k[P+13]=e.h,k[P+14]=o,k[P+15]=e.l,k[P+16]=0,k[P+17]=o,P+=18,k[P]=0,k[P+1]=e.h,k[P+2]=n,k[P+3]=0,k[P+4]=0,k[P+5]=n,k[P+6]=0,k[P+7]=0,k[P+8]=o,k[P+9]=0,k[P+10]=e.h,k[P+11]=n,k[P+12]=0,k[P+13]=0,k[P+14]=o,k[P+15]=0,k[P+16]=e.h,k[P+17]=o,P+=18,k[P]=0,k[P+1]=e.h,k[P+2]=n,k[P+3]=e.l,k[P+4]=e.h,k[P+5]=o,k[P+6]=e.l,k[P+7]=e.h,k[P+8]=n,k[P+9]=e.l,k[P+10]=e.h,k[P+11]=o,k[P+12]=0,k[P+13]=e.h,k[P+14]=n,k[P+15]=0,k[P+16]=e.h,k[P+17]=o,Promise.resolve({frame:{positions:k,normals:Yc.flat(k),material:"frame"},glass:{positions:A,normals:Yc.flat(A),material:"glass"}})}(e,t),Qc(e.materials)]).then(function(e){return{meshes:e[0],materials:e[1]}})}(i,e).then(function(e){$c(e.meshes),n&&delete e.meshes.glass,t.mesh=new THREE.Object3D,t.data3dView=new io3d.aFrame.three.Data3dView({parent:t.mesh}),t.data3dView.set(e),t.el.setObject3D("mesh",t.mesh),t.el.emit("mesh-updated")})},remove:function(){this.el.parentEl.removeEventListener("wall-changed",this.updateFromWall),this.data3dView&&(this.data3dView.destroy(),this.data3dView=null),this.mesh&&(this.el.removeObject3D("mesh"),this.mesh=null)}},Fl="https://dist.3d.io/3dio-inspector-plugins/0.x.x/3dio-inspector-plugins.js",Rl={init:function(){function e(){window.io3d.aframe.pluginsLoaded||W(Fl).catch(function(e){console.error("Could not load inspector plugins: "+e)})}window.AFRAME&&window.AFRAME.INSPECTOR&&window.AFRAME.INSPECTOR.opened?e():window.addEventListener("inspector-loaded",e)}},Dl=542327876,Nl=131072,Ml=512,Ol=4,zl=_e("DXT1"),Ll=_e("DXT3"),Vl=_e("DXT5"),Bl=Ni.has.webGl?Ni.webGl.maxTextureSize||2048:2048,Wl=15,Hl=["architectureGeometries","architectureTexturesLoRes","interiorGeometries","interiorTexturesLoRes","architectureTexturesHiRes","interiorTexturesHiRes"],Ul=[!1,!1,!0,!1,!1],Zl={},Ul={},Gl=!1,ql={},Kl=Hl.length,Yl=0,Xl={},Ql=0,Jl=Kl;Ql<Jl;Ql++)yl=Hl[Ql],Zl[yl]=[],Ul[yl]=Ul[Ql],ql[yl]={requestCount:0},Xl[yl]=0;var $l={enqueue:function(e,t){return Zl[e]||(e&&console.error("onknown queue ",e),e=Hl[0]),new Promise(function(r,i){setTimeout(function(){var i=Zl[e];i[i.length]={url:t,start:r},Pe()},1)})},dequeue:function(e,t){var r=ql[e];r?(r.timeLastFinished=performance.now()/1e3,Xl[e]-=1,Yl-=1,Gl=!0,Pe()):e&&console.warn('Queue info not found for queue name "'+e+'"')},info:ql},eu=new B,tu={".dds":xe,".jpg":je,".jpeg":je,".jpe":je,".png":je,".gif":je,".svg":je},ru={mapDiffuse:"map",mapSpecular:"specularMap",mapNormal:"normalMap",mapAlpha:"alphaMap",mapLight:"lightMap",mapDiffusePreview:"map",mapSpecularPreview:"specularMap",mapNormalPreview:"normalMap",mapAlphaPreview:"alphaMap",mapLightPreview:"lightMap"},iu={repeat:1e3,mirror:1002,clamp:1001},nu={},ou={UV1:["mapDiffuse","mapSpecular","mapNormal","mapAlpha"],UV2:"mapLight"},au={UV1:["mapDiffusePreview","mapSpecularPreview","mapNormalPreview","mapAlphaPreview"],UV2:"mapLightPreview"},su=1.2,cu=.6,lu=0,uu={text:"uniform vec3 color;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\tuniform float lightMapExposure;\n\tuniform float lightMapFalloff;\n#endif\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\nvoid main() {\n    vec4 diffuseColor = vec4( color, opacity );\n    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n    vec3 totalEmissiveRadiance = emissive;\n    #include <map_fragment>\n    #include <alphamap_fragment>\n    #include <alphatest_fragment>\n    #include <specularmap_fragment>\n    #ifdef FLAT_SHADED\n      vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n      vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n      vec3 normal = normalize( cross( fdx, fdy ) );\n    #else\n      vec3 normal = normalize( vNormal );\n      #ifdef DOUBLE_SIDED\n        normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n      #endif\n    #endif\n    #ifdef USE_NORMALMAP\n      normal = perturbNormal2Arb( -vViewPosition, normal );\n    #elif defined( USE_BUMPMAP )\n      normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n    #endif\n    #include <lights_phong_fragment>\n    GeometricContext geometry;\n    geometry.position = - vViewPosition;\n    geometry.normal = normal;\n    geometry.viewDir = normalize( vViewPosition );\n    IncidentLight directLight;\n    #if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n        PointLight pointLight;\n        for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n            pointLight = pointLights[ i ];\n            getPointDirectLightIrradiance( pointLight, geometry, directLight );\n            #ifdef USE_SHADOWMAP\n            directLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n            #endif\n            RE_Direct( directLight, geometry, material, reflectedLight );\n        }\n    #endif\n    #if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n        SpotLight spotLight;\n        for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n            spotLight = spotLights[ i ];\n            getSpotDirectLightIrradiance( spotLight, geometry, directLight );\n            #ifdef USE_SHADOWMAP\n            directLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n            #endif\n            RE_Direct( directLight, geometry, material, reflectedLight );\n        }\n    #endif\n    #if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n        DirectionalLight directionalLight;\n        for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n            directionalLight = directionalLights[ i ];\n            getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n            #ifdef USE_SHADOWMAP\n            directLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n            #endif\n            RE_Direct( directLight, geometry, material, reflectedLight );\n        }\n    #endif\n    #if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n        RectAreaLight rectAreaLight;\n        for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n            rectAreaLight = rectAreaLights[ i ];\n            RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n        }\n    #endif\n    #if defined( RE_IndirectDiffuse )\n        vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n        #ifdef USE_LIGHTMAP\n            vec3 unit = vec3(1.0);\n            vec3 light = 2.0 * (texture2D( lightMap, vUv2 ).xyz - lightMapExposure * unit);\n            vec3 modifier = -lightMapFalloff * light * light + unit;\n            vec3 lightMapIrradiance = light * modifier * lightMapIntensity;\n            #ifndef PHYSICALLY_CORRECT_LIGHTS\n                lightMapIrradiance *= PI;\n            #endif\n            irradiance += lightMapIrradiance;\n        #endif\n        #if ( NUM_HEMI_LIGHTS > 0 )\n            for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n                irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n            }\n        #endif\n        RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n    #endif\n    vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n    gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}",base64:"data:text/plain;base64,dW5pZm9ybSB2ZWMzIGNvbG9yOwp1bmlmb3JtIHZlYzMgZW1pc3NpdmU7CnVuaWZvcm0gdmVjMyBzcGVjdWxhcjsKdW5pZm9ybSBmbG9hdCBzaGluaW5lc3M7CnVuaWZvcm0gZmxvYXQgb3BhY2l0eTsKI2luY2x1ZGUgPGNvbW1vbj4KI2luY2x1ZGUgPHBhY2tpbmc+CiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+CiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+CiNpZmRlZiBVU0VfTElHSFRNQVAKCXVuaWZvcm0gc2FtcGxlcjJEIGxpZ2h0TWFwOwoJdW5pZm9ybSBmbG9hdCBsaWdodE1hcEludGVuc2l0eTsKCXVuaWZvcm0gZmxvYXQgbGlnaHRNYXBFeHBvc3VyZTsKCXVuaWZvcm0gZmxvYXQgbGlnaHRNYXBGYWxsb2ZmOwojZW5kaWYKI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PgojaW5jbHVkZSA8c3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPGJzZGZzPgojaW5jbHVkZSA8bGlnaHRzX3BhcnM+CiNpbmNsdWRlIDxsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudD4KI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX2ZyYWdtZW50Pgp2b2lkIG1haW4oKSB7CiAgICB2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGNvbG9yLCBvcGFjaXR5ICk7CiAgICBSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApOwogICAgdmVjMyB0b3RhbEVtaXNzaXZlUmFkaWFuY2UgPSBlbWlzc2l2ZTsKICAgICNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+CiAgICAjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+CiAgICAjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PgogICAgI2luY2x1ZGUgPHNwZWN1bGFybWFwX2ZyYWdtZW50PgogICAgI2lmZGVmIEZMQVRfU0hBREVECiAgICAgIHZlYzMgZmR4ID0gdmVjMyggZEZkeCggdlZpZXdQb3NpdGlvbi54ICksIGRGZHgoIHZWaWV3UG9zaXRpb24ueSApLCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnogKSApOwogICAgICB2ZWMzIGZkeSA9IHZlYzMoIGRGZHkoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeSggdlZpZXdQb3NpdGlvbi56ICkgKTsKICAgICAgdmVjMyBub3JtYWwgPSBub3JtYWxpemUoIGNyb3NzKCBmZHgsIGZkeSApICk7CiAgICAjZWxzZQogICAgICB2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSggdk5vcm1hbCApOwogICAgICAjaWZkZWYgRE9VQkxFX1NJREVECiAgICAgICAgbm9ybWFsID0gbm9ybWFsICogKCBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSAqIDIuMCAtIDEuMCApOwogICAgICAjZW5kaWYKICAgICNlbmRpZgogICAgI2lmZGVmIFVTRV9OT1JNQUxNQVAKICAgICAgbm9ybWFsID0gcGVydHVyYk5vcm1hbDJBcmIoIC12Vmlld1Bvc2l0aW9uLCBub3JtYWwgKTsKICAgICNlbGlmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkKICAgICAgbm9ybWFsID0gcGVydHVyYk5vcm1hbEFyYiggLXZWaWV3UG9zaXRpb24sIG5vcm1hbCwgZEhkeHlfZndkKCkgKTsKICAgICNlbmRpZgogICAgI2luY2x1ZGUgPGxpZ2h0c19waG9uZ19mcmFnbWVudD4KICAgIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnk7CiAgICBnZW9tZXRyeS5wb3NpdGlvbiA9IC0gdlZpZXdQb3NpdGlvbjsKICAgIGdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbDsKICAgIGdlb21ldHJ5LnZpZXdEaXIgPSBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTsKICAgIEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQ7CiAgICAjaWYgKCBOVU1fUE9JTlRfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdCApCiAgICAgICAgUG9pbnRMaWdodCBwb2ludExpZ2h0OwogICAgICAgIGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7CiAgICAgICAgICAgIHBvaW50TGlnaHQgPSBwb2ludExpZ2h0c1sgaSBdOwogICAgICAgICAgICBnZXRQb2ludERpcmVjdExpZ2h0SXJyYWRpYW5jZSggcG9pbnRMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7CiAgICAgICAgICAgICNpZmRlZiBVU0VfU0hBRE9XTUFQCiAgICAgICAgICAgIGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIHBvaW50TGlnaHQuc2hhZG93LCBkaXJlY3RMaWdodC52aXNpYmxlICkgKSA/IGdldFBvaW50U2hhZG93KCBwb2ludFNoYWRvd01hcFsgaSBdLCBwb2ludExpZ2h0LnNoYWRvd01hcFNpemUsIHBvaW50TGlnaHQuc2hhZG93QmlhcywgcG9pbnRMaWdodC5zaGFkb3dSYWRpdXMsIHZQb2ludFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDsKICAgICAgICAgICAgI2VuZGlmCiAgICAgICAgICAgIFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTsKICAgICAgICB9CiAgICAjZW5kaWYKICAgICNpZiAoIE5VTV9TUE9UX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKQogICAgICAgIFNwb3RMaWdodCBzcG90TGlnaHQ7CiAgICAgICAgZm9yICggaW50IGkgPSAwOyBpIDwgTlVNX1NQT1RfTElHSFRTOyBpICsrICkgewogICAgICAgICAgICBzcG90TGlnaHQgPSBzcG90TGlnaHRzWyBpIF07CiAgICAgICAgICAgIGdldFNwb3REaXJlY3RMaWdodElycmFkaWFuY2UoIHNwb3RMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7CiAgICAgICAgICAgICNpZmRlZiBVU0VfU0hBRE9XTUFQCiAgICAgICAgICAgIGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIHNwb3RMaWdodC5zaGFkb3csIGRpcmVjdExpZ2h0LnZpc2libGUgKSApID8gZ2V0U2hhZG93KCBzcG90U2hhZG93TWFwWyBpIF0sIHNwb3RMaWdodC5zaGFkb3dNYXBTaXplLCBzcG90TGlnaHQuc2hhZG93Qmlhcywgc3BvdExpZ2h0LnNoYWRvd1JhZGl1cywgdlNwb3RTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7CiAgICAgICAgICAgICNlbmRpZgogICAgICAgICAgICBSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7CiAgICAgICAgfQogICAgI2VuZGlmCiAgICAjaWYgKCBOVU1fRElSX0xJR0hUUyA+IDAgKSAmJiBkZWZpbmVkKCBSRV9EaXJlY3QgKQogICAgICAgIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodDsKICAgICAgICBmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHsKICAgICAgICAgICAgZGlyZWN0aW9uYWxMaWdodCA9IGRpcmVjdGlvbmFsTGlnaHRzWyBpIF07CiAgICAgICAgICAgIGdldERpcmVjdGlvbmFsRGlyZWN0TGlnaHRJcnJhZGlhbmNlKCBkaXJlY3Rpb25hbExpZ2h0LCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTsKICAgICAgICAgICAgI2lmZGVmIFVTRV9TSEFET1dNQVAKICAgICAgICAgICAgZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMiggZGlyZWN0aW9uYWxMaWdodC5zaGFkb3csIGRpcmVjdExpZ2h0LnZpc2libGUgKSApID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDsKICAgICAgICAgICAgI2VuZGlmCiAgICAgICAgICAgIFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTsKICAgICAgICB9CiAgICAjZW5kaWYKICAgICNpZiAoIE5VTV9SRUNUX0FSRUFfTElHSFRTID4gMCApICYmIGRlZmluZWQoIFJFX0RpcmVjdF9SZWN0QXJlYSApCiAgICAgICAgUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0OwogICAgICAgIGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9SRUNUX0FSRUFfTElHSFRTOyBpICsrICkgewogICAgICAgICAgICByZWN0QXJlYUxpZ2h0ID0gcmVjdEFyZWFMaWdodHNbIGkgXTsKICAgICAgICAgICAgUkVfRGlyZWN0X1JlY3RBcmVhKCByZWN0QXJlYUxpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7CiAgICAgICAgfQogICAgI2VuZGlmCiAgICAjaWYgZGVmaW5lZCggUkVfSW5kaXJlY3REaWZmdXNlICkKICAgICAgICB2ZWMzIGlycmFkaWFuY2UgPSBnZXRBbWJpZW50TGlnaHRJcnJhZGlhbmNlKCBhbWJpZW50TGlnaHRDb2xvciApOwogICAgICAgICNpZmRlZiBVU0VfTElHSFRNQVAKICAgICAgICAgICAgdmVjMyB1bml0ID0gdmVjMygxLjApOwogICAgICAgICAgICB2ZWMzIGxpZ2h0ID0gMi4wICogKHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKS54eXogLSBsaWdodE1hcEV4cG9zdXJlICogdW5pdCk7CiAgICAgICAgICAgIHZlYzMgbW9kaWZpZXIgPSAtbGlnaHRNYXBGYWxsb2ZmICogbGlnaHQgKiBsaWdodCArIHVuaXQ7CiAgICAgICAgICAgIHZlYzMgbGlnaHRNYXBJcnJhZGlhbmNlID0gbGlnaHQgKiBtb2RpZmllciAqIGxpZ2h0TWFwSW50ZW5zaXR5OwogICAgICAgICAgICAjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFMKICAgICAgICAgICAgICAgIGxpZ2h0TWFwSXJyYWRpYW5jZSAqPSBQSTsKICAgICAgICAgICAgI2VuZGlmCiAgICAgICAgICAgIGlycmFkaWFuY2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlOwogICAgICAgICNlbmRpZgogICAgICAgICNpZiAoIE5VTV9IRU1JX0xJR0hUUyA+IDAgKQogICAgICAgICAgICBmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fSEVNSV9MSUdIVFM7IGkgKysgKSB7CiAgICAgICAgICAgICAgICBpcnJhZGlhbmNlICs9IGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGhlbWlzcGhlcmVMaWdodHNbIGkgXSwgZ2VvbWV0cnkgKTsKICAgICAgICAgICAgfQogICAgICAgICNlbmRpZgogICAgICAgIFJFX0luZGlyZWN0RGlmZnVzZSggaXJyYWRpYW5jZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApOwogICAgI2VuZGlmCiAgICB2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuZGlyZWN0U3BlY3VsYXIgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlOwogICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTsKfQ=="},pu={text:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main()\n{\n  #include <uv_vertex>\n  #include <uv2_vertex>\n  #include <beginnormal_vertex>\n  #include <defaultnormal_vertex>\n  #ifndef FLAT_SHADED\n  \tvNormal = normalize( transformedNormal );\n  #endif\n  #include <begin_vertex>\n  #include <project_vertex>\n  vViewPosition = - mvPosition.xyz;\n  #include <worldpos_vertex>\n  #include <shadowmap_vertex>\n}",base64:"data:text/plain;base64,dmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247CiNpZm5kZWYgRkxBVF9TSEFERUQKCXZhcnlpbmcgdmVjMyB2Tm9ybWFsOwojZW5kaWYKI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PgojaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PgojaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4Pgp2b2lkIG1haW4oKQp7CiAgI2luY2x1ZGUgPHV2X3ZlcnRleD4KICAjaW5jbHVkZSA8dXYyX3ZlcnRleD4KICAjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PgogICNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD4KICAjaWZuZGVmIEZMQVRfU0hBREVECiAgCXZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7CiAgI2VuZGlmCiAgI2luY2x1ZGUgPGJlZ2luX3ZlcnRleD4KICAjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+CiAgdlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7CiAgI2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD4KICAjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD4KfQ=="},fu=s({three:!0,aframe:!1},function(){function e(e){THREE.ShaderMaterial.call(this,e),e=e||{},this.lightMapExposure=e.lightMapExposure||r,this.lightMapFalloff=e.lightMapFalloff||i,this.uniforms=THREE.UniformsUtils.merge([THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{color:{value:e.color||new THREE.Color(1,1,1)},map:{value:e.map||null},specularMap:{value:e.specularMap||null},alphaMap:{value:e.alphaMap||null},lightMap:{value:e.lightMap||null},lightMapIntensity:{value:e.lightMapIntensity||t},lightMapFalloff:{value:e.lightMapFalloff||i},lightMapExposure:{value:e.lightMapExposure||r},normalMap:{value:e.normalMap||null},normalScale:{value:e.normalScale||n},shininess:{value:e.shininess||1},specular:{value:e.specular||new THREE.Color(.25,.25,.25)},emissive:{value:e.emissive||new THREE.Color(0,0,0)},opacity:{value:e.opacity||1},offsetRepeat:{value:e.offsetRepeat||new THREE.Vector4(0,0,1,1)}}]),this.vertexShader=pu.text,this.fragmentShader=uu.text,this.lights=!0}var t=1.2,r=.6,i=0,n=new THREE.Vector2(.8,.8);return e.prototype=Object.create(THREE.ShaderMaterial.prototype),e.prototype.constructor=e,e.prototype.isShaderMaterial=!1,e}),du=s({three:!0,aframe:!1},function(){function e(){this._wireframeGeometry=new THREE.BufferGeometry,this._wireframeGeometry.addAttribute("position",new THREE.BufferAttribute(new Float32Array(0),3)),this._wireframeMaterial=new THREE.LineBasicMaterial,this._positions=null,this._buffer=null,this._thresholdAngle=10,this._thickness=1,this._color=[0,0,0],this._opacity=1,this.isLineSegments=!0,THREE.Line.call(this,this._wireframeGeometry,this._wireframeMaterial)}return e.prototype=Object.create(THREE.Line.prototype),e.prototype.constructor=e,e.prototype.update=function(e){var t=e.positions,r=void 0===e.thresholdAngle?this._thresholdAngle:e.thresholdAngle,i=void 0===e.thickness?this._thickness:e.thickness,n=void 0===e.color?this._color:e.color,o=void 0===e.opacity?this._opacity:e.opacity;if(0===i)this.visible=!1;else{if(this._buffer&&r===this._thresholdAngle&&function(e,t,r){if(e===t)return!0;if(e.length!==t.length)return!1;r=void 0===r?1:r;for(var i=~~(e.length/(e.length*r)),n=0,o=e.length;n<o;n+=i)if(e[n]!==t[n])return!1;return!0}(this._positions,t))0===this._thickness&&(this.visible=!0);else{var a=function(e,t){for(var r=Math.cos(t*Math.PI/180),i=[0,0],n={},o=["a","b","c"],a=new THREE.Geometry,s=0,c=0;s<e.length/3;s+=3,c+=9)a.vertices[a.vertices.length]=new THREE.Vector3(e[c],e[c+1],e[c+2]),a.vertices[a.vertices.length]=new THREE.Vector3(e[c+3],e[c+4],e[c+5]),a.vertices[a.vertices.length]=new THREE.Vector3(e[c+6],e[c+7],e[c+8]),a.faces[a.faces.length]=new THREE.Face3(s,s+1,s+2,[],[]);a.mergeVertices(),a.computeFaceNormals();for(var l=a.vertices,u=a.faces,p=0,s=0,f=u.length;s<f;s++)for(var d=u[s],c=0;c<3;c++)i[0]=d[o[c]],i[1]=d[o[(c+1)%3]],i.sort(De),void 0===n[g=i.toString()]?(n[g]={vert1:i[0],vert2:i[1],face1:s,face2:void 0},p++):n[g].face2=s;var h=new Float32Array(2*p*3),m=0;for(var g in n){var b=n[g];if(void 0===b.face2||u[b.face1].normal.dot(u[b.face2].normal)<=r){var v=l[b.vert1];h[m++]=v.x,h[m++]=v.y,h[m++]=v.z,v=l[b.vert2],h[m++]=v.x,h[m++]=v.y,h[m++]=v.z}}return h}(t,r);a.length?(this._wireframeGeometry.attributes.position.setArray(a),this.visible=!0):this.visible=!1,this._buffer=a,this._positions=t,this._thresholdAngle=r}this._wireframeMaterial.color.r=n[0],this._wireframeMaterial.color.g=n[1],this._wireframeMaterial.color.b=n[2],this._wireframeMaterial.opacity=o,this._wireframeMaterial.linewidth=i,this._color=n,this._opacity=o}this._thickness=i},e.prototype.destroy=function(){this._wireframeGeometry=null,this._wireframeMaterial=null,this._positions=null,this._buffer=null,this._thresholdAngle=null,this._thickness=null,this._color=null,this._opacity=null},e}),hu=s({three:!0,aframe:!1},function(){function e(e){this.threeParent=e.parent,this.meshKeys=[],this.meshes={},this.materialKeys=[],this.materials={},this._meshes3d={},this._wireframes3d={},this._materials3d={}}var t={front:0,back:1,both:2},r=Math.PI/180,i=(Math.PI,{});return e.prototype={set:function(e,n){n=n||{};var o,a,s,c,l,u,p,f,d,h,m,g,b,v,y,_,w,x=e.meshes||this.meshes,C=e.meshKeys,S=e.materials||this.materials,j=e.materialKeys,k=e.loadingQueuePrefix||n.loadingQueuePrefix||"architecture",P=n.onFirstTextureSetLoaded,A=n.lightMapIntensity,E=n.lightMapExposure,T=this;if(x){for(C||(C=Object.keys(x)),y=0,_=C.length;y<_;y++)o=C[y],a=(I=x[o]).material,c=I.positions,l=I.uvs,u=I.uvsLightmap,f=I.normals,g=I.position,b=I.rotRad,v=I.rotDeg,p=I.scale,T._materials3d[o]||((m=new fu).name=a,S||Re({material3d:m}),T._materials3d[o]=m),T._materials3d[o].side=t[x[o].side]||t.front,T._meshes3d[o]?h=(d=T._meshes3d[o]).geometry:(h=function(e){return e?(i[e]?i[e].refCount++:i[e]={geometry3d:new THREE.BufferGeometry,refCount:1},i[e].geometry3d):new THREE.BufferGeometry}(I.cacheKey),d=new THREE.Mesh(h,m),T.threeParent.add(d),T._meshes3d[o]=d,s=new du,T._meshes3d[o].add(s),T._wireframes3d[o]=s),p&&d.scale.set(p[0],p[1],p[2]),g&&d.position.set(g[0],g[1],g[2]),b?d.rotation.set(b[0],b[1],b[2]):v&&d.rotation.set(v[0]*r,v[1]*r,v[2]*r),void 0===h.attributes.position?h.addAttribute("position",new THREE.BufferAttribute(c,3)):h.attributes.position.array!==c&&(h.attributes.position.array=c,h.attributes.position.needsUpdate=!0,h.computeBoundingSphere()),void 0===h.attributes.normal?h.addAttribute("normal",new THREE.BufferAttribute(f,3)):h.attributes.normal.array!==f&&(h.attributes.normal.array=f,h.attributes.normal.needsUpdate=!0),l?void 0===h.attributes.uv?h.attributes.uv=new THREE.BufferAttribute(l,2):h.attributes.uv.array!==l&&(h.attributes.uv.array=l,h.attributes.uv.needsUpdate=!0,delete h.attributes.uv._scaleU,delete h.attributes.uv._scaleV,delete h.attributes.uv._source):h.attributes.uv&&delete h.attributes.uv,u?void 0===h.attributes.uv2?h.attributes.uv2=new THREE.BufferAttribute(u,2):h.attributes.uv2.array!==u&&(h.attributes.uv2.array=u,h.attributes.uv2.needsUpdate=!0):h.attributes.uv2&&delete h.attributes.uv2,h.attributesKeys=Object.keys(h.attributes),S[a]&&T._wireframes3d[o].update({positions:c,thickness:void 0===S[a].wireframeThickness?0:S[a].wireframeThickness,thresholdAngle:S[a].wireframeThresholdAngle,color:S[a].wireframeColor,opacity:S[a].wireframeOpacity});var I;Object.keys(T._meshes3d).forEach(function(e,t){if(I=T._meshes3d[e],!x[e]){var r=T._wireframes3d[e];r.parent&&(r.parent.remove(r),r.geometry.dispose());var n=T._meshes3d[e].geometry;!function(e,t){e&&i[e]?(i[e].refCount--,i[e].refCount<1&&(i[e].geometry3d.dispose(),delete i[e])):t.dispose()}(T.meshes[e].cacheKey,n);var o=T._meshes3d[e];o.parent&&o.parent.remove(o);var a=T._materials3d[e];a.map&&a.map.disposeIfPossible(),a.specularMap&&a.specularMap.disposeIfPossible(),a.normalMap&&a.normalMap.disposeIfPossible(),a.alphaMap&&a.alphaMap.disposeIfPossible(),a.lightMap&&a.lightMap.disposeIfPossible(),a.dispose(),delete T._meshes3d[e],delete T._wireframes3d[e],delete T._materials3d[e]}}),T.meshKeys=C,T.meshes=x}if(S){var F,R=[];for(y=0,_=T.meshKeys.length;y<_;y++)o=T.meshKeys[y],(F=S[a=T.meshes[o].material])&&Object.keys(F).length&&(R[y]=Re({vm:T.vm,loadingQueuePrefix:k,mesh3d:T._meshes3d[o],material3d:T._materials3d[o],attributes:S[a],onFirstTextureSetLoaded:P,lightMapIntensity:A,lightMapExposure:E}));w=Un.all(R),T.materialKeys=j,T.materials=S}return w||Un.resolve()},hasMeshes:function(){return Object.keys(this._meshes3d).length>0},setMeshes:function(e){this.set({meshes:e})},setMaterials:function(e,t){this.set({materials:e},t)},reset:function(){this.set({meshes:{},materials:{}})},destroy:function(){this.isDestroyed=!0,this.reset(),this.threeParent=null,this.meshKeys=null,this.meshes=null,this.materialKeys=null,this.materials=null,this._meshes3d=null,this._materials3d=null}},e});s({three:!1,aframe:!0,onError:function(){Ni.isBrowser&&console.warn("AFRAME library not found: related features will be disabled.")}},function(){AFRAME.registerComponent("io3d-data3d",Kn),AFRAME.registerComponent("io3d-furniture",Xn),AFRAME.registerComponent("tour",js),AFRAME.registerComponent("io3d-lighting",_c),AFRAME.registerComponent("io3d-minimap",Cc),AFRAME.registerComponent("io3d-closet",el),AFRAME.registerComponent("io3d-column",nl),AFRAME.registerComponent("io3d-door",ol),AFRAME.registerComponent("io3d-floor",al),AFRAME.registerComponent("io3d-kitchen",kl),AFRAME.registerComponent("io3d-polyfloor",Pl),AFRAME.registerComponent("io3d-railing",Al),AFRAME.registerComponent("io3d-stairs",El),AFRAME.registerComponent("io3d-wall",Tl),AFRAME.registerComponent("io3d-window",Il),AFRAME.components.gblock?console.error('3dio.js error: Please remove any other "<script>" tags registering the "gblock" A-Frame component. This component is included in 3dio.js'):AFRAME.registerComponent("gblock",yc),Rl.init()});var mu,gu={three:{Data3dView:hu}},bu=["lengthMin","lengthMax","widthMin","widthMax","heightMin","heightMax"],vu=["length","width","height"],yu={search:function(e,t){function r(){return C("Product.search",a).then(function(e){return o=0,e.map(Ne)},function(e){return console.error("Error fetching furniture:",e),++o<3?r():Promise.reject("Whoops, that did not work, please try another query.")})}var i,n=(t=t||{}).limit||50,o=0,a={searchQuery:{query:"isPublished:true "+e.trim().replace(/\s+/g," ")},limit:n};return bu.forEach(function(e){(i=new RegExp(e+":([0-9.*]+)")).test(a.searchQuery.query)&&(a.searchQuery[e]=parseFloat(i.exec(a.searchQuery.query)[1]),a.searchQuery.query=a.searchQuery.query.replace(i.exec(a.searchQuery.query)[0],"").trim())}),vu.forEach(function(e){if((i=new RegExp(e+":([0-9.*]+)")).test(a.searchQuery.query)){var t=parseFloat(i.exec(a.searchQuery.query)[1]);a.searchQuery[e+"Min"]=t>.04?t-.04:t,a.searchQuery[e+"Max"]=t+.04,a.searchQuery.query=a.searchQuery.query.replace(i.exec(a.searchQuery.query)[0],"").trim()}}),r()},get:function(e){return ze(e).then(function(e){return me(e.data3dUrl,{loadingQueuePrefix:"interior"}).then(function(t){return{info:e,data3d:t}}).catch(function(e){console.warn(e)})})},getInfo:ze,getData3dStorageId:function(e){return C("Product.read",{resourceId:e}).then(function(e){var t=Ne(e);return(t&&t.data3dStorageId?t.data3dStorageId:null)||Promise.reject("This furniture has no own Storage ID (i.e. is a group of furniture objects)")})}},_u=function(e){var t=Object.keys(e.furnishings)[0];if(t in e.errors)return Un.reject(e.errors[t]);var r=e.furnishings[t][0].groups;return Un.map(r,wu).then(Be)},wu=function(e){return C("Product.read",{arguments:e.src.substring(1)}).then(function(t){var r=JSON.parse(t.modelStructure);return r=Ss({},e,r),Un.resolve(r)})},xu={default_margin:.05,default_search:"isPublished:true -generic",tag_black_list:["simplygon","hasChangeableMaterials","autofurnish","wallAttached","2 seater","3 seater","4 seater"],tag_white_list:["shelf","armchair","sofa","chair","plant","sideboard","coffee table","dining table","bed","round","tv","washing machine","lamps","free standing lamp","living","relaxing","picture","bathroom","storage","tables","seating","L shaped left","L shaped right"],edgeAligned:["sofa","shelf","armchair","sideboad","double bed","single bed","bed"]},Cu=Z(),Su=function(e){var t=e.getAttributeNames(),r={};return Object.keys(Cu).forEach(function(i){if(Cu[i].aframeComponent){var n=Cu[i].aframeComponent.name;t.indexOf(n)>-1&&("string"==typeof(r=e.getAttribute(n))?r=ku(r,i):r.type=i)}}),Object.keys(r).forEach(function(e){if(e.indexOf("material_")>-1){r.materials||(r.materials={});var t=e.replace("material_","");r.materials[t]=r[e],delete r[e]}}),"interior"===r.type&&(r.src="!"+r.id,delete r.id),"polyfloor"===r.type&&(r.polygon=r.polygon.map(function(e){return[parseFloat(e[0]),parseFloat(e[1])]})),r},ju=function(e){var t=["x","y","z"];return e.split(" ").map(function(e,r){var i={};return i[t[r]]=parseFloat(e),i}).reduce(function(e,t){return Object.assign(e,t)},{})},ku=function(e,t){var r=e.split(";").map(function(e){return e.split(":")}).map(function(e){var t={};return t[e[0].trim()]=e[1].trim(),t}),i=Ss.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r));return i.type=t,Ve(i)},Pu=new RegExp("^http:\\/\\/.*$|^https:\\/\\/.*$"),Au={},Eu=["closet","column","door","floor","group","interior","kitchen","level","object","plan","polyfloor","railing","wall","window"],Tu=["plan","level","group"],Iu=function(e){var t={},r=e.type,i=Z(r).params;Object.keys(e).forEach(function(t){t.indexOf("Material")>-1?(e.materials||(e.materials={}),e.materials[t.replace("Material","")]=e[t],delete e[t]):"material"===t&&"floor"===r&&(e.materials||(e.materials={}),e.materials.top=e[t])});var n=Object.keys(i);switch(Tu.indexOf(r)>-1||(t["io3d-"+r]="",n.forEach(function(n){void 0===e[n]||i[n].skipInAframe||("materials"===n?t["io3d-"+r]+=function(e){var t="";return Object.keys(e).forEach(function(r){"string"==typeof e[r]?t+="material_"+r+":"+e[r]+"; ":"object"===Yr(e[r])&&e[r].mesh&&e[r].material&&(t+="material_"+e[r].mesh+":"+e[r].material+"; ")}),t}(e.materials):"polygon"===n?t["io3d-"+r]+=n+": "+JSON.stringify(e.polygon)+"; ":"columnRatios"===n||"rowRatios"===n?t["io3d-"+r]+=n+": "+JSON.stringify(e[n])+"; ":"plan"!==r&&"level"!==r&&(t["io3d-"+r]+=n+": "+e[n]+"; "))})),e.type){case"plan":t.class="io3d-scene";break;case"level":t.class="io3d-level";break;case"group":t.class="io3d-group";break;case"interior":if(e.src){if(t["io3d-furniture"]="id: "+e.src.substring(1),e.materials){var o=e.materials;if(Array.isArray(o)){var a={};o.forEach(function(e){e.mesh&&e.material&&(a[e.mesh]=e.material)}),o=a}"object"===(void 0===o?"undefined":Yr(o))&&Object.keys(o).forEach(function(e){e&&o[e]&&(t["io3d-furniture"]+="; material_"+e.replace(/\s/g,"_")+":"+o[e])})}t.shadow="cast: true; receive: false"}else console.warn("unsupported interior type");break;case"object":t["io3d-data3d"]="key: "+e.object,t.shadow="cast: true; receive: true"}return e.sourceScale&&1!==e.sourceScale&&(t.scale=e.sourceScale+" "+e.sourceScale+" "+e.sourceScale),e.flipYZ&&(e.rx=e.rx?e.rx-=90:-90),e.bake&&"done"===e.bakeStatus&&(t.visible=!1),!e.visible||e.visible.bird||e.visible.person||e.visible.floorplan||(t.visible=!1),e.x=e.x||0,e.y=e.y||0,e.z=e.z||0,e.ry=e.ry||0,t.position=e.x+" "+e.y+" "+e.z,t.rotation=(e.rx||0)+" "+e.ry+" 0",t["io3d-uuid"]=e.id,t},Fu=function(e,t){var r=rt(e[0]).filter(function(e){return"camera-bookmark"===e.type});if(0!==r.length){var i=r.find(function(e){return"lastSavePosition"===e.name}),n="0 1.6 0",o="0 0 0";if(i){"bird"===i.mode&&(i.y+=i.distance);var a=et(i);n=a.position,o=a.rotation}var s=tt({attributes:{camera:"",tour:"autoStart: false","wasd-controls":"","look-controls":"",position:n,rotation:o}});return r.filter(function(e){return"lastSavePosition"!==e.name}).forEach(function(e){var t=et(e);tt({parent:s,attributes:{"tour-waypoint":e.name||"Waypoint","io3d-uuid":e.id,position:t.position,rotation:t.rotation}})}),s}},Ru={getFurnishings:function(e,t){var r=(t=t||{}).spaceId,i=t.label,n=t.tags||["generic"],o={};return function(e){if("plan"!==e.type)if(Array.isArray(e))if("level"!==e[0].type){var t=Gn.generate();e={type:"plan",activeLevelId:t,children:[{type:"level",id:t,children:e}]}}else e={type:"plan",children:e};else{if("level"!==e.type)return console.error("Furnishing failed - input is invalid:",e),Un.reject("Furnishing failed - check console for details");e={type:"plan",children:[e]}}return Be(e)}(e).then(function(e){if(!r){var t=e.children[0].children.filter(function(e){return"polyfloor"===e.type});r=t[0].id}return o[r]=i||"dining_living",C("Autofurnishing.furnish",{arguments:{floors:o,modelStructure:e,maxResults:3,tags:n}})}).then(_u).catch(function(e){return console.error("HomeStaging error:",e),Un.reject("HomeStaging failed - check console for details")})},getFurnitureAlternatives:He,replaceFurniture:function(e,t){var r,i=(t=t||{}).random||!0,n=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":Yr(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":Yr(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}(e);return n&&(e=qe(e)),Be(e).then(function(e){if(r=it(e),0===Object.keys(r).length)return Un.reject("No valid furniture elements were found");var i=[];return Object.keys(r).forEach(function(e){i.push(He(e,t))}),Un.all(i)}).then(function(t){var o={};Object.keys(r).forEach(function(e,r){o[e]=t[r]});var a=function(e,t,r){var i,n=e,o=0;return Object.keys(t).forEach(function(e){t[e]&&t[e].length&&(r&&(o=Math.floor(Math.random()*t[e].length)),i=t[e][o],n=nt(n,e,i))}),n}(e,o,i);return n?Je(a):a}).catch(function(e){return console.error(e),Un.reject(e)})}};Ni.isNode?mu=require("form-data"):"undefined"!=typeof FormData?mu=FormData:(console.warn("Missing FormData API."),mu=function(){throw new Error("Missing FormData API.")});var Du=mu,Nu=new ki.BehaviorSubject(st({}));ct().catch(function(e){console.warn("Session info not available: ",e)}),Ni.isBrowser&&Ni.isFocused$.subscribe(function(e){e&&ct()});var Mu={getSession:ct,session$:Nu,signUp:at,signup:at,logIn:pt,login:pt,logOut:ft,logout:ft,setPassword:function(e){var t={token:e.token,password:e.password};return C("User.logOut").then(function(){return zi.debug("Setting new password ..."),C("User.changePassword",{token:t.token,oldPassword:null,newPassword:t.password})}).then(function(e){return zi.debug("API: setting password successful."),ct()},function(e){return zi.debug("API: setting password failed.",e),Un.reject(e)})},requestPasswordReset:lt,resendActivationEmail:ut,getSecretApiKey:ht,regenerateSecretApiKey:dt,generatePublishableApiKey:mt,listPublishableApiKeys:gt,updatePublishableApiKeyDomains:bt,revokePublishableApiKey:vt},Ou="application/octet-stream",zu={obj:"text/plain",dds:"application/octet-stream",dwg:"application/acad",dxf:"application/dxf",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",txt:"text/plain",log:"text/plain",svg:"svg+xml",html:"text/html",htm:"text/html",js:"application/javascript",json:"application/json",md:"text/markdown",csv:"text/csv",gz:"application/x-gzip",gzip:"application/x-gzip",zip:"application/x-zip",pdf:"application/pdf","3ds":"application/x-3ds"},Lu="{{userId}}",Vu=/^\/([a-zA-Z0-9\.\-\_]+\/)+([a-zA-Z0-9\.\-\_]+)$/,Bu={};kt.materials=function(e,t){!function e(t,r){for(var i=t.materialKeys||Object.keys(t.materials||{}),n=0;n<i.length;n++)r(t.materials[i[n]],t);if(t.children)for(var n=0,o=t.children.length;n<o;n++)e(t.children[n],r)}(e,t)},kt.meshes=function(e,t){!function e(t,r){for(var i,n=t.meshKeys||Object.keys(t.meshes||{}),o=0;o<n.length;o++)r(i=t.meshes[n[o]],t.materials[i.material],t);if(t.children)for(var o=0,a=t.children.length;o<a;o++)e(t.children[o],r)}(e,t)};var Wu=function(e,t){var r=void 0===(t=t||{}).consolidateMaterials||t.consolidateMaterials,i=void 0===t.consolidateMeshes||t.consolidateMeshes,n=t.el3d,o=t.onWarning,a=[];return kt(e=Yn(e),function(e){e.nodeId=n?n.params.id:Gn.generate(),e.meshes=e.meshes||{},e.meshKeys=e.meshKeys||Object.keys(e.meshes),e.materials=e.materials||{},e.materialKeys=e.materialKeys||Object.keys(e.materials),n&&!e._params&&(e._params=n.toObject({recursive:!1})),e.position||(e.position=n?[n.params.x||0,n.params.y||0,n.params.z||0]:[0,0,0]),e.rotRad||e.rotDeg?e.rotDeg?e.rotRad=[e.rotDeg[0]*Uu,e.rotDeg[1]*Uu,e.rotDeg[2]*Uu]:e.rotDeg=[e.rotRad[0]*Zu,e.rotRad[1]*Zu,e.rotRad[2]*Zu]:(e.rotDeg=n?[n.params.rx||0,n.params.ry||0,n.params.rz||0]:[0,0,0],e.rotRad=[e.rotDeg[0]*Uu,e.rotDeg[1]*Uu,e.rotDeg[2]*Uu]),e.children||(e.children=[]),i&&(e.meshes=It(e.meshes,n?n.params.id:null),e.meshKeys=Object.keys(e.meshes));var t,s,c,l,u,p,f=e.meshes,d=e.meshKeys,h=e.materials,m=n&&n.params?n.params.id:null;for(t=0,s=d.length;t<s;t++)l=(c=f[d[t]]).material,u=h&&h[l]?h[l]:null,c.positions,c.normals,c.uvs,c.uvsLightmap,c.position||(c.position=[0,0,0]),c.rotRad||c.rotDeg?c.rotDeg?c.rotRad=[c.rotDeg[0]*Uu,c.rotDeg[1]*Uu,c.rotDeg[2]*Uu]:c.rotDeg=[c.rotRad[0]*Zu,c.rotRad[1]*Zu,c.rotRad[2]*Zu]:(c.rotDeg=[0,0,0],c.rotRad=[0,0,0]),c.scale||(c.scale=[1,1,1]),u?(!function(e){return e.mapDiffuse||e.mapSpecular||e.mapNormal||e.mapAlpha||e.mapDiffusePreview||e.mapSpecularPreview||e.mapNormalPreview||e.mapAlphaPreview}(u)||void 0!==c.uvs&&0!==c.uvs.length||(Hu&&console.error('Mesh with material "'+l+'" has texture(s) has no UVs. Fallback to architectural UV mapping.'),o&&o('Mesh with material "'+l+'" has texture(s) has no UVs. Fallback to architectural UV mapping.'),c.uvs=Xc.architectural(c.positions)),!u.mapLight&&!u.mapLightPreview||void 0!==c.uvsLightmap&&0!==c.uvsLightmap.length||(Hu&&console.error('Mesh with material "'+l+'" has lightmap has no lightmap UVs. Lightmap will be ignored.'),o&&o('Mesh with material "'+l+'" has lightmap has no lightmap UVs. Lightmap will be ignored.'),delete u.mapLight,delete u.mapLightPreview)):(l?(console.error("Node:"+m+' Material by ID "'+l+'" not found.',h),o&&o('Material by ID "'+l+'" not found.')):(l=ot(),c.material=l),h[l]={colorDiffuse:[.85,.85,.85]},p=!0);p&&(e.materialKeys=Object.keys(h)),r?a.push(Tt(e.materials).then(function(t){return e.materials=Et(t),e})):(e.materials=Et(e.materials),a.push(Promise.resolve(e)))}),Promise.all(a).then(function(){return e})};Wu.meshes=It,Wu.materials=Tt;var Hu=!0,Uu=Math.PI/180,Zu=180/Math.PI,Gu=2048,qu=2048,Ku={undefined:"readAsText",text:"readAsText",dataUrl:"readAsDataURL",binaryString:"readAsBinaryString",arrayBuffer:"readAsArrayBuffer"},Yu="https://cdn.rawgit.com/archilogic-com/roBrowser/e4b5b53a/src/Loaders/Targa.js",Xu=s({three:!0,aframe:!1},function(){return function(e){function t(){return"mesh_"+ ++o}function r(){return"material_"+ ++a}var i=[],n={meshes:{},materials:{}},o=0,a=0;return function e(o){if(o.updateMatrixWorld(),o.geometry){var a=o.geometry;-1===a.type.indexOf("BufferGeometry")&&(a=(new THREE.BufferGeometry).fromGeometry(a)),a.attributes.position.array.length&&(a.index?a.attributes.color?function(e,t,r,i){var n,o,a,s,c={},l=t.geometry,u=l.index.array,p=l.attributes.color.array,f=l.attributes.color.itemSize,d=3===f?1:null,h=0,m=l.index.array.length;for(h=0;h<m;h+=3)o=[p[u[h]*f],p[u[h]*f+1],p[u[h]*f+2]],s=d||p[u[h]*f+3],a=o.join("-")+"-"+s,c[a]?c[a].faceCount++:(n=i(),c[a]={faceCount:1,materialId:n},e.materials[n]={colorDiffuse:o,opacity:s});Object.keys(c).forEach(function(i,n){c[i].positions=new Float32Array(9*c[i].faceCount),c[i].positionIndex=0,l.attributes.normal&&(c[i].normals=new Float32Array(9*c[i].faceCount),c[i].normalIndex=0);var o=r();Lt(e.meshes[o]={positions:c[i].positions,normals:c[i].normals,material:c[i].materialId},t)});var g,b,v,y,_=l.attributes.position.array,w=l.attributes.normal.array;for(h=0;h<m;h+=3)o=[p[u[h]*f],p[u[h]*f+1],p[u[h]*f+2]],s=d||p[u[h]*f+3],a=o.join("-")+"-"+s,(g=c[a].positions)[b=c[a].positionIndex]=_[3*u[h]],g[b+1]=_[3*u[h]+1],g[b+2]=_[3*u[h]+2],g[b+3]=_[3*u[h+1]],g[b+4]=_[3*u[h+1]+1],g[b+5]=_[3*u[h+1]+2],g[b+6]=_[3*u[h+2]],g[b+7]=_[3*u[h+2]+1],g[b+8]=_[3*u[h+2]+2],c[a].positionIndex+=9,w&&((v=c[a].normals)[y=c[a].normalIndex]=w[3*u[h]],v[y+1]=w[3*u[h]+1],v[y+2]=w[3*u[h]+2],v[y+3]=w[3*u[h+1]],v[y+4]=w[3*u[h+1]+1],v[y+5]=w[3*u[h+1]+2],v[y+6]=w[3*u[h+2]],v[y+7]=w[3*u[h+2]+1],v[y+8]=w[3*u[h+2]+2],c[a].normalIndex+=9)}(n,o,t,r):function(e,t,r,i,n){var o=t.geometry,a=e.meshes[r()]={},s=o.index.array,c=0,l=o.index.array.length,u=o.attributes.position.array,p=new Float32Array(3*l);for(c=0;c<l;c++)p[3*c]=u[3*s[c]],p[3*c+1]=u[3*s[c]+1],p[3*c+2]=u[3*s[c]+2];if(a.positions=p,o.attributes.normal){var f=o.attributes.normal.array,d=new Float32Array(3*l);for(c=0;c<l;c++)d[3*c]=f[3*s[c]],d[3*c+1]=f[3*s[c]+1],d[3*c+2]=f[3*s[c]+2];a.normals=d}if(o.attributes.uv){var h=o.attributes.uv.array,m=new Float32Array(2*l);for(c=0;c<l;c++)m[2*c]=h[2*s[c]],m[2*c+1]=h[2*s[c]+1];a.normals=m}Vt(e,a,0,t.material,i,n),Lt(a,t)}(n,o,t,r,i):function(e,t,r,i,n){var o=t.geometry,a=e.meshes[r()]={};a.positions=o.attributes.position.array,o.attributes.normal&&(a.normals=o.attributes.normal.array),o.attributes.uv&&(a.uvs=o.attributes.uv.array),Vt(e,a,0,t.material,i,n),Lt(a,t)}(n,o,t,r,i))}o.children.forEach(function(t){e(t)})}(e),Un.all(i).then(function(){return Wu(n)})}}),Qu={inflate:function(e){return Wt().then(function(t){return t.ungzip(e)})},inflateFile:function(e){return Wt().then(function(t){return Ot(e,"arrayBuffer").then(t.ungzip).then(function(t){var r=new Blob([t],{type:yt(e.name)});return e.name&&(r.name=e.name.replace(".gz.",".")),r})})},deflate:function(e){return Bt().then(function(t){return t.gzip(e)})},deflateFile:function(e){return Bt().then(function(t){return Ot(e,"arrayBuffer").then(t.gzip).then(function(t){var r=new Blob([t],{type:"application/x-gzip"});return e.name&&(r.name=e.name.replace(".",".gz.")),r})})}},Ju={deflate:{url:"https://cdnjs.cloudflare.com/ajax/libs/pako/1.0.5/pako_deflate.min.js",module:"pako/deflate"},inflate:{url:"https://cdnjs.cloudflare.com/ajax/libs/pako/1.0.5/pako_inflate.min.js",module:"pako/inflate"}},$u="0123456789abcdef".split("");Qt("hello");var ep={names:["mapDiffuse","mapDiffusePreview","mapDiffuseSource","mapSpecular","mapSpecularPreview","mapSpecularSource","mapNormal","mapNormalPreview","mapNormalSource","mapAlpha","mapAlphaPreview","mapAlphaSource","mapLight","mapLightPreview","mapLightSource"],nameToType:{mapDiffuse:"diffuse",mapDiffusePreview:"diffuse",mapDiffuseSource:"diffuse",mapSpecular:"specular",mapSpecularPreview:"specular",mapSpecularSource:"specular",mapNormal:"normal",mapNormalPreview:"normal",mapNormalSource:"normal",mapAlpha:"alpha",mapAlphaPreview:"alpha",mapAlphaSource:"alpha",mapLight:"light",mapLightPreview:"light",mapLightSource:"light"},nameToFormat:{mapDiffusePreview:"loRes",mapSpecularPreview:"loRes",mapNormalPreview:"loRes",mapAlphaPreview:"loRes",mapLightPreview:"loRes",mapDiffuseSource:"source",mapSpecularSource:"source",mapNormalSource:"source",mapAlphaSource:"source",mapLightSource:"source",mapDiffuse:"dds",mapSpecular:"dds",mapNormal:"dds",mapAlpha:"dds",mapLight:"dds"}},tp=".data3d.buffer",rp=16,ip=1094988612,np=1,op=["positions","normals","uvs","uvsLightmap"],ap={export3ds:ir("3ds"),exportBlend:ir("blend"),exportDae:ir("dae"),exportFbx:ir("fbx"),exportObj:ir("obj"),exportDxf:function(e,t){var r={method:"convert.dxf",params:{inputFileKey:e}};if((t=t||{}).filename||t.projection){var i={};t.filename&&(i.outputFileName=t.filename),t.projection&&(i.projection=t.projection),r.params.settings=JSON.stringify(i)}return C("Processing.task.enqueue",r)}},sp={get:Qe,put:_t,importThreeObject:rr,importAframeElement:function(e){return rr(document.querySelector(e).object3D)},export3ds:ap.export3ds,exportBlend:ap.exportBlend,exportDae:ap.exportDae,exportFbx:ap.exportFbx,exportObj:ap.exportObj,exportDxf:ap.exportDxf,getUrlFromStorageId:Xe,getUrlFromId:Xe,getNoCdnUrlFromStorageId:St,getNoCdnUrlFromId:St,getStorageIdFromUrl:jt,getIdFromUrl:jt},cp={OK:0,MIN_VALUE:1,MAX_VALUE:2,MISSED:3,NOT_SUPPOPRTED:4,VALUE:5,TYPE:6,CHILDREN_TYPE:7},lp=Z(),up={getStructure:nr,getHtml:function(){return console.warn("io3d.scene.getHtml will be removed soon please use io3d.scene.getAframeElements"),or.apply(or,arguments)},getAframeElements:or,getViewerUrl:function(e){return"https://spaces.archilogic.com/3d/!"+e.sceneId},validateSceneStructure:function(e){var t={isValid:!0,validatedSceneStructure:null,warnings:[],errors:[]},r=Array.isArray(e),i=ar(t,r?e:[e]);return t.validatedSceneStructure=r?i:i[0],Promise.resolve(t)},normalizeSceneStructure:Be,getHtmlFromSceneStructure:function(){return console.warn("io3d.scene.getHtmlFromSceneStructure will be removed soon please use io3d.scene.getAframeElementsFromSceneStructure"),Je.apply(Je,arguments)},getAframeElementsFromSceneStructure:Je,getSceneStructureFromAframeElements:qe,snapWalls:function(e){function t(e){var t,r,i,n,o,a,s;return t=e.ry/180*Math.PI,s={x:-e.w*Math.cos(t+Math.PI/2),z:e.w*Math.sin(t+Math.PI/2)},r={x:e.x,z:e.z},i={x:e.x+e.l*Math.cos(t),z:e.z-e.l*Math.sin(t)},n={x:e.x+s.x,z:e.z+s.z},o={x:i.x+s.x,z:i.z+s.z},a={x:(i.x-r.x)/e.l,z:(i.z-r.z)/e.l},{wallAngle:t,p1:r,p2:i,w:s,p3:n,p4:o,v:a}}function r(e,t){return Math.round(180*Math.acos(e.x*t.x+e.z*t.z)/Math.PI*10)/10}function i(e,t,r,i){return{x:((i.x-r.x)*(t.x*e.z-e.x*t.z)-(t.x-e.x)*(i.x*r.z-r.x*i.z))/((i.z-r.z)*(t.x-e.x)-(t.z-e.z)*(i.x-r.x)),z:((e.z-t.z)*(i.x*r.z-r.x*i.z)-(r.z-i.z)*(t.x*e.z-e.x*t.z))/((i.z-r.z)*(t.x-e.x)-(t.z-e.z)*(i.x-r.x))}}function n(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.z-t.z,2))}function o(e,t){return{x:e.x-t.x,z:e.z-t.z}}function a(e){return Math.round(100*e)/100}for(var s=[],c=[],l=0;l<e.length;l++)s.push({wall:e[l],data:t(e[l])});for(var u,p,f=.2,d=!1,l=0;l<s.length;l++)if(f=s[l].wall.w<=.5?s[l].wall.w:.2,!(s[l].wall.l/s[l].wall.w<1.2||s[l].wall.w>=.4)){u=s[l].data.p1,p=s[l].data.p2;for(var h=l+1;h<s.length;h++)s[h].wall.w>=.4||l!==h&&(n(u,s[h].data.p1)<=f?d=!0:n(u,s[h].data.p2)<=f?d=!0:n(p,s[h].data.p1)<=f?d=!0:n(p,s[h].data.p2)<=f&&(d=!0),d&&(c=function(e,t){var s=[e.wall,t.wall],c=[e.data,t.data],l=s[0].ry<=180?s[0].ry:s[0].ry-180,u=s[1].ry<=180?s[1].ry:s[1].ry-180;if(!(Math.abs(parseInt(l)-parseInt(u))<1)){var p,f,d,h,m,g,b,v,y,_,w,x,C,S,j=[c[0].p1,c[1].p1],k=[c[0].p2,c[1].p2],P=[c[0].p3,c[1].p3],A=[c[0].p4,c[1].p4],E=[c[0].v,c[1].v],T=[],I=[c[0].w,c[1].w],F=[],R=[],D=[],N=[],M=[];for(p=i(j[0],k[0],j[1],k[1]),d=o(f=i(j[0],k[0],P[1],A[1]),I[1]),m=o(h=i(P[0],A[0],j[1],k[1]),I[0]),b=o(g=i(P[0],A[0],P[1],A[1]),I[0]),v=o(g,I[1]),S=0;S<2;S++)y=n(j[S],p),(_=n(k[S],p))>y?(F[S]=_,N[S]={x:k[S].x,z:k[S].z},D[S]=!1,M[S]=y>20):(F[S]=y,N[S]={x:j[S].x,z:j[S].z},D[S]=!0,M[S]=_>20),T[S]={x:(N[S].x-p.x)/F[S],z:(N[S].z-p.z)/F[S]},R[S]=S<1?n(N[S],b):n(N[S],v);if(M[0]&&M[1])console.log("intersection too far away");else{if(x=r(E[0],E[1]),!((C=r(T[0],T[1]))<10)){for(S=0;S<2;S++){Math.round(x)>=88&&Math.round(x)<=92?w=D[0]===D[1]?R[0]<F[0]?x>90?S<1?f:v:S<1?b:v:x>90&&S<1?m:p:R[0]<F[0]?S<1?f:d:S<1?m:h:x<90?C<=90?w=p:R[0]<F[0]?w=p:R[0]>F[0]&&(w=S<1?b:v):C<=90?w=S<1?f:d:R[0]<F[0]?w=S<1?m:h:R[0]>F[0]&&(w=S<1?f:d);var O=s[S].l;if(!w)return void console.log("pSnap failed");var z=n(N[S],w);if(Math.abs(z-O)>.5)return void console.log("delta",a(z-O),"new",a(z),"old",a(O));if(D[S])s[S].l=z;else{s[S].x=w.x,s[S].z=w.z,s[S].l=z;var L=s[S].children;if(L.length>0)for(var V=0;V<L.length;V++){var B=L[V].x-O+z;L[V].x=B}}}return s}console.log("angle too small")}}}(s[l],s[h]),s[l].wall=c?c[0]:s[l].wall,s[h].wall=c?c[1]:s[h].wall,s[l].data=t(s[l].wall),s[h].data=t(s[h].wall)),d=!1)}for(c=[],l=0;l<s.length;l++)c.push(s[l].wall);return c},exportSvg:function(e){return e.sceneStructure&&"object"===Yr(e.sceneStructure)?C("Scene.exportSvg",{arguments:e}).catch(function(e){return console.error(e),Promise.reject("Svg export failed: check console for details")}):Promise.reject("Svg export failed: invalid input")}},pp={convertToBasic3dModel:function(e){return C("FloorPlan.convertToBasic3dModel",{floorplan:e.floorPlan,address:e.address,callback:e.callback}).then(function(e){return e.conversionId}).catch(function(e){return Un.reject(e)})},getConversionStatus:function(e){return C("FloorPlan.getConversionStatus",{conversionId:e.conversionId}).catch(function(e){return Un.reject(e)})},recognize:function(e){var t,r,i,n="string"==typeof e?document.querySelector(e):null;if(n){t=n.attributes.src.value,r=n.attributes.width.value,i=n.attributes.height.value;var o=n.components.material.material.map.image;return C("Recognizer.recognize",{arguments:e={floorPlanUrl:t,pixelsPerMeter:function(e,t,r,i){var n=e*t,o=r*i;return Math.sqrt(n/o)}(o.width,o.height,r,i),colorCoded:!0}}).then(function(e){return Be(e.planStructure)}).catch(function(e){return console.error("Recognition error:",e),Promise.reject("Recognition failed - check console for details")})}}},fp={bakePreview:sr("preview"),bakeRegular:sr("regular")},dp={bake:fp.bakePreview,bakeLoRes:fp.bakePreview,bakeHiRes:fp.bakeRegular},hp={collisionObject:cr("collisionObject"),consolidateFaceSides:cr("consolidateFaceSides"),origami:cr("origami")},mp={collisionObject:hp.collisionObject,consolidateFaceSides:hp.consolidateFaceSides,origami:hp.origami},gp=/^<(\S+)>$/i,bp=function(e,t){if(Ni.assertBrowser(),e){if("string"==typeof e){var r=gp.exec(e),i=r?r[1]:null;if(i)return function(e,t){Ni.assertBrowser();var r=document.createElement(e);return t&&Object.keys(t).forEach(function(e){"text"===e?r.appendChild(document.createTextNode(t.text)):"html"===e?r.innerHTML=t.html:"click"===e||"keydown"===e||"keyup"===e?r.addEventListener(e,t[e]):r.setAttribute(e,t[e])}),ur(r),r}(i,t);throw'Only basic tags like "<div>" without attributes are currently supported. (No queries and no HTML strings)'}if(!pr(e))throw'Please provide html element string (i.e. "<div>") or element object as first argument.';ur(e)}};bp.isElement=pr;var vp;Ni.isBrowser&&Ni.domReady(function(){vp=bp("<div>",{class:"io3d-message-list"}).appendTo("body")}),fr.success=function(e,t){return fr(e,t,"success")},fr.warning=function(e,t){return fr(e,t,"warning")},fr.error=function(e,t){return fr(e,void 0!==t?t:5e3,"error")};var yp=[".json",".buffer",".js",".md",".txt",".csv",".obj",".mtl",".ifc",".fbx",".gltf",".bin",".jpg",".jpeg",".jpe",".png",".gif",".tga",".dds",".svg",".pdf",".dxf"],_p="width:300px;",wp="width:300px;",xp="width:300px;",Cp="width:620px;",Sp="width:510px;",jp="width:440px;";if(Ni.isBrowser){var kp=document.createElement("style");kp.setAttribute("media","screen"),kp.appendChild(document.createTextNode(".io3d-message-list {\n  z-index: 100001;\n  position: fixed;\n  top: 0;\n  left: 50%;\n  margin-left: -200px;\n  width: 400px;\n  font-family: Gill Sans, Gill Sans MT, Calibri, sans-serif;\n  font-weight: normal;\n  letter-spacing: 1px;\n  line-height: 1.3;\n  text-align: center;\n}\n.io3d-message-list .message {\n  display: block;\n  opacity: 0;\n}\n.io3d-message-list .message .spacer {\n  display: block;\n  height: 10px;\n}\n.io3d-message-list .message .text {\n  display: inline-block;\n  padding: 10px 12px 10px 12px;\n  border-radius: 3px;\n  color: white;\n  font-size: 18px;\n}\n.io3d-message-list .message .text a {\n  color: white;\n  text-decoration: none;\n  padding-bottom: 0px;\n  border-bottom: 2px solid white;\n}\n.io3d-message-list .message .neutral {\n  background: rgba(0, 0, 0, 0.9);\n}\n.io3d-message-list .message .success {\n  background: linear-gradient(50deg, rgba(35, 165, 9, 0.93), rgba(102, 194, 10, 0.93));\n}\n.io3d-message-list .message .warning {\n  background: linear-gradient(50deg, rgba(165, 113, 9, 0.93), rgba(194, 169, 10, 0.93));\n}\n.io3d-message-list .message .error {\n  background: linear-gradient(50deg, rgba(165, 9, 22, 0.93), rgba(194, 56, 10, 0.93));\n}\n.io3d-overlay {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  z-index: 100000;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  font-family: Gill Sans, Gill Sans MT, Calibri, sans-serif;\n  font-weight: 200;\n  font-size: 18px;\n  letter-spacing: 1px;\n  color: white;\n  text-align: center;\n  line-height: 1.3;\n  background: linear-gradient(70deg, rgba(20, 17, 34, 0.96), rgba(51, 68, 77, 0.96));\n}\n@-webkit-keyframes overlay-fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes overlay-fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes overlay-fade-out {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes overlay-fade-out {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n.io3d-overlay .centered-content {\n  display: inline-block;\n  position: relative;\n  top: 50%;\n  text-align: left;\n}\n.io3d-overlay .centered-content .button {\n  margin-right: 4px;\n  margin-top: 1.5em;\n}\n.io3d-overlay .bottom-container {\n  width: 100%;\n  display: block;\n  position: absolute;\n  bottom: 1em;\n}\n.io3d-overlay .bottom-container .bottom-content {\n  display: inline-block;\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: left;\n  color: rgba(255, 255, 255, 0.35);\n}\n.io3d-overlay .bottom-container .bottom-content .clickable {\n  cursor: pointer;\n  -webkit-transition: color 500ms;\n  transition: color 500ms;\n}\n.io3d-overlay .bottom-container .bottom-content .clickable:hover {\n  color: white;\n}\n.io3d-overlay .bottom-container .bottom-content a {\n  color: rgba(255, 255, 255, 0.35);\n  text-decoration: none;\n  -webkit-transition: color 500ms;\n  transition: color 500ms;\n}\n.io3d-overlay .bottom-container .bottom-content a:hover {\n  color: white;\n}\n@-webkit-keyframes content-slide-in {\n  0% {\n    -webkit-transform: translateY(-40%);\n  }\n  100% {\n    -webkit-transform: translateY(-50%);\n  }\n}\n@keyframes content-slide-in {\n  0% {\n    transform: translateY(-40%);\n  }\n  100% {\n    transform: translateY(-50%);\n  }\n}\n@-webkit-keyframes content-slide-out {\n  0% {\n    -webkit-transform: translateY(-50%);\n  }\n  100% {\n    -webkit-transform: translateY(-40%);\n  }\n}\n@keyframes content-slide-out {\n  0% {\n    transform: translateY(-50%);\n  }\n  100% {\n    transform: translateY(-40%);\n  }\n}\n.io3d-overlay h1 {\n  margin: 0 0 0.5em 0;\n  font-size: 42px;\n  font-weight: 200;\n  color: white;\n}\n.io3d-overlay p {\n  margin: 1em 0 0 0;\n  font-size: 18px;\n  font-weight: 200;\n}\n.io3d-overlay .hint {\n  position: relative;\n  margin: 1em 0 0 0;\n  color: rgba(255, 255, 255, 0.35);\n  font-size: 18px;\n  font-weight: 200;\n}\n.io3d-overlay .hint a {\n  color: rgba(255, 255, 255, 0.35);\n  text-decoration: none;\n  -webkit-transition: color 600ms;\n  transition: color 600ms;\n}\n.io3d-overlay .hint a:hover {\n  color: white;\n}\n.io3d-overlay .button {\n  cursor: pointer;\n  display: inline-block;\n  color: rgba(255, 255, 255, 0.35);\n  width: 40px;\n  height: 40px;\n  line-height: 32px;\n  border: 2px solid rgba(255, 255, 255, 0.35);\n  border-radius: 50%;\n  text-align: center;\n  font-size: 18px;\n  font-weight: 200;\n  -webkit-transition: opacity 300ms, color 300ms;\n  transition: opacity 300ms, color 300ms;\n}\n.io3d-overlay .button:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n  color: white;\n  border: 2px solid white;\n}\n.io3d-overlay .button-highlighted {\n  color: white;\n  border: 2px solid white;\n}\n.io3d-overlay .close-button {\n  display: block;\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  font-size: 18px;\n  font-weight: 200;\n}\n.io3d-overlay input,\n.io3d-overlay select,\n.io3d-overlay option,\n.io3d-overlay textarea {\n  font-family: Gill Sans, Gill Sans MT, Calibri, sans-serif;\n  font-size: 24px;\n  font-weight: normal;\n  letter-spacing: 1px;\n  outline: none;\n  margin: 0 0 0 0;\n  color: white;\n}\n.io3d-overlay select,\n.io3d-overlay option,\n.io3d-overlay input:not([type='checkbox']):not([type='range']) {\n  padding: 0.2em 0 0.4em 0;\n  width: 100%;\n  line-height: 20px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border-radius: 0px;\n  border: 0px;\n  background: transparent;\n  border-bottom: 2px solid rgba(255, 255, 255, 0.3);\n  -webkit-transition: border-color 1s;\n  transition: border-color 1s;\n}\n.io3d-overlay select:focus,\n.io3d-overlay option:focus,\n.io3d-overlay input:not([type='checkbox']):not([type='range']):focus {\n  border-color: white;\n}\n.io3d-overlay textarea {\n  display: box;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  padding: 0.2em 0 0.4em 0;\n  min-width: 100%;\n  max-width: 100%;\n  line-height: 26px;\n  border: 0px;\n  background: rgba(255, 255, 255, 0.08);\n  border-bottom: 2px solid rgba(255, 255, 255, 0.3);\n}\n.io3d-overlay input[type='checkbox'] {\n  position: relative;\n  height: 20px;\n  vertical-align: bottom;\n  margin: 0;\n}\n.io3d-overlay .reveal-api-key-button {\n  cursor: pointer;\n  position: absolute;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 2px;\n  bottom: 0.7em;\n  padding: 0.1em 0.2em 0.2em 0.2em;\n  line-height: 20px;\n  -webkit-transition: color 600ms;\n  transition: color 600ms;\n}\n.io3d-overlay .reveal-api-key-button:hover {\n  color: white;\n}\n.io3d-overlay a {\n  color: white;\n  text-decoration: none;\n}\n.io3d-overlay .key-menu {\n  position: relative;\n  margin: 3em 0 0 0;\n}\n.io3d-overlay .key-menu .key-image {\n  width: 172px;\n  height: 127px;\n}\n.io3d-overlay .key-menu .key-button {\n  position: absolute;\n  left: 156px;\n  height: 36px;\n  line-height: 36px;\n  background: rgba(255, 255, 255, 0.1);\n  cursor: pointer;\n  padding: 0 14px 0 14px;\n  border-radius: 2px;\n  -webkit-transition: background 300ms linear;\n  transition: background 300ms linear;\n}\n.io3d-overlay .key-menu .key-button:hover {\n  background: rgba(255, 255, 255, 0.3);\n}\n.io3d-overlay .key-menu .go-to-publishable-api-key-ui {\n  top: 11px;\n}\n.io3d-overlay .key-menu .go-to-secret-api-key-ui {\n  bottom: 11px;\n}\n.io3d-overlay .regegenerate-secret-key-button {\n  cursor: pointer;\n}\n.io3d-overlay .publishable-api-keys .list {\n  max-height: 50vh;\n  overflow: auto;\n  padding: 0 15px 0 0;\n}\n.io3d-overlay .publishable-api-keys .list .key-item {\n  position: relative;\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 3px;\n  margin-bottom: 12px;\n  padding: 4px 5px 3px 8px;\n}\n.io3d-overlay .publishable-api-keys .list .key {\n  font-weight: 200 !important;\n  border-bottom: 0 !important;\n  margin-bottom: 0 !important;\n  padding: 0 !important;\n}\n.io3d-overlay .publishable-api-keys .list .domains {\n  margin: 0 0 0 0 !important;\n}\n.io3d-overlay .publishable-api-keys .list .button {\n  position: absolute !important;\n  margin: 0 !important;\n  background-repeat: no-repeat;\n  background-position: center;\n  color: white;\n  opacity: 0.5;\n}\n.io3d-overlay .publishable-api-keys .list .button:hover {\n  opacity: 1;\n}\n.io3d-overlay .publishable-api-keys .list .delete-key-button {\n  right: 8px;\n  top: 9px;\n}\n.io3d-overlay .publishable-api-keys .list .edit-domains-button {\n  positions: absolute;\n  right: 56px;\n  top: 9px;\n  background-size: 75%;\n  padding: 5px;\n}\n.io3d-overlay .publishable-api-keys .generate-new-key-button {\n  margin: 1.5em 0 0 0;\n  display: inline-block;\n  cursor: pointer;\n}\n")),document.head.appendChild(kp)}var Pp={data3d:{load:me,encodeBinary:Jt,decodeBinary:de,fromThreeJs:Xu,normalize:Wu,clone:Yn,traverse:kt,getInspectorUrl:function(e){return"https://spaces.archilogic.com/3d/?mode=sdk&file="+e},storeInCache:function(e,t){return(Ni.isBrowser?void 0===window.caches&&(console.warn("Your browser does not support offline cache storage"),1):(console.warn("The offline cache is only available in the browser"),1))?Promise.reject():window.caches.open(t||"3dio-data3d").then(function(t){return me(e).then(function(r){var i=new Array(e).concat(lr(r));return t.addAll(i)})})},removeFromCache:function(e,t){return(Ni.isBrowser?void 0===window.caches&&(console.warn("Your browser does not support offline cache storage"),1):(console.warn("The offline cache is only available in the browser"),1))?Promise.reject():window.caches.open(t||"3dio-data3d").then(function(t){return me(e).then(function(r){var i=new Array(e).concat(lr(r));return Promise.all(i.map(function(e){return t.delete(e)}))})})},textureAttributes:ep},ui:{fileDrop:function(e){function t(e){o&&p.classList.remove(o),s&&s(e),gr(e)}function r(e,t){(c?function(e){return d.style.width="0",d.style.display="block",_t(e,{onProgress:function(e,t){d.style.width=Math.min(100,Math.round(e/t*100))+"%",l&&l(e,t)}}).then(function(e){return d.style.display="none",d.style.width="0",e})}(e):Un.resolve()).then(function(r){var i=e.map(function(e,t){var i={file:e,name:e.name,size:e.size,type:e.type};return r&&(i.storageId=r[t],i.url="https://"+Bi.storageDomain+r[t]),i});n(i,t)})}Ni.assertBrowser();var i=e.elementId,n=e.onInput,o=e.dragOverCssClass,a=e.onDragEnter,s=e.onDragLeave,c=void 0===e.upload||e.upload,l=e.onUploadProgress,u=e.uploadProgressBarCss||"background: rgba(0,0,0,0.2);",p=document.getElementById(i);if(p){var f=document.createElement("input");f.setAttribute("type","file"),f.setAttribute("multiple",!0),f.setAttribute("style","cursor:pointer; position:absolute; top:0; left:0; height:100%; width:100%; opacity:0;"),p.appendChild(f);var d=document.createElement("div");d.setAttribute("style","position:absolute; top:0; left:0; bottom:0; width:0; transition: width 1s linear;"+u),null===p.style.position&&(p.style.position="relative"),p.appendChild(d),window.addEventListener("dragover",gr,!1),window.addEventListener("drop",gr,!1),f.addEventListener("dragover",function(e){gr(e),e.dataTransfer.dropEffect="copy"},!1),f.addEventListener("dragenter",function(e){o&&p.classList.add(o),a&&a(e),gr(e)},!1),f.addEventListener("dragleave",t,!1),f.addEventListener("dragend",t,!1),f.addEventListener("drop",function(e){o&&p.classList.remove(o),gr(e),function(e,t){var r,i=(t=t||{}).onWarning||function(){},n=void 0===t.checkExtension||t.checkExtension,o=e.dataTransfer||e.originalEvent.dataTransfer;if(o.items&&o.items.length)r=function(e){for(var t,r=[],i=0,n=e.length;i<n;i++)t=e[i],r[r.length]=t.webkitGetAsEntry?t.webkitGetAsEntry():t.getAsFile();var o=[];return hr(r,o).then(function(){return o})}(o.items).then(function(e){return mr(dr(e,n,i))});else if(o.files)if(0===o.files.length||1===o.files.length&&o.files[0].name.indexOf(".")<0)r=Promise.reject("Sorry, but this browser doesn't support drag&drop of folders. (use Chrome)");else{var a,s,c,l,u=[];for(a=0,s=o.files.length;a<s;a++)c=o.files[a],(l=new Blob([c],{type:c.type})).name=c.name,u.push(l);r=Promise.resolve(dr(u,n,i))}else r=Promise.reject('Event does not contain "items" nor "files" property.');return r}(e,{checkExtension:!!c}).then(function(t){r(t,e)}).catch(console.error)},!1),f.addEventListener("change",function(e){for(var t=[],i=e.target.files,n=0;n<i.length;n++)t[n]=i[n];r(t,e)},!1)}else console.error("file drop ui could not be created, element not found:",i)},signUp:_r,signup:_r,logIn:yr,login:yr,logOut:Sr,logout:Sr,requestPasswordReset:vr,devDashboard:Ar,publishableApiKeys:kr,secretApiKey:Pr,message:fr,alert:Cr,confirm:wr,prompt:jr},auth:Mu,io:{fetch:Hi,fetchScript:W,checkIfFileExists:$t},image:{scaleDown:Ft,getFromFile:zt,getBlobFromCanvas:Mt},math:{md5:Qt,sha1:function(e){function t(e,t){return e<<t|e>>>32-t}function r(e){var t,r="";for(t=7;t>=0;t--)r+=(e>>>4*t&15).toString(16);return r}var i,n,o,a,s,c,l,u,p=new Array(80),f=1732584193,d=4023233417,h=2562383102,m=271733878,g=3285377520,b=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e)).length,v=new Array;for(n=0;n<b-3;n+=4)o=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),v.push(o);switch(b%4){case 0:n=2147483648;break;case 1:n=e.charCodeAt(b-1)<<24|8388608;break;case 2:n=e.charCodeAt(b-2)<<24|e.charCodeAt(b-1)<<16|32768;break;case 3:n=e.charCodeAt(b-3)<<24|e.charCodeAt(b-2)<<16|e.charCodeAt(b-1)<<8|128}for(v.push(n);v.length%16!=14;)v.push(0);for(v.push(b>>>29),v.push(b<<3&4294967295),i=0;i<v.length;i+=16){for(n=0;n<16;n++)p[n]=v[i+n];for(n=16;n<=79;n++)p[n]=t(p[n-3]^p[n-8]^p[n-14]^p[n-16],1);for(a=f,s=d,c=h,l=m,u=g,n=0;n<=19;n++)y=t(a,5)+(s&c|~s&l)+u+p[n]+1518500249&4294967295,u=l,l=c,c=t(s,30),s=a,a=y;for(n=20;n<=39;n++)y=t(a,5)+(s^c^l)+u+p[n]+1859775393&4294967295,u=l,l=c,c=t(s,30),s=a,a=y;for(n=40;n<=59;n++)y=t(a,5)+(s&c|s&l|c&l)+u+p[n]+2400959708&4294967295,u=l,l=c,c=t(s,30),s=a,a=y;for(n=60;n<=79;n++)y=t(a,5)+(s^c^l)+u+p[n]+3395469782&4294967295,u=l,l=c,c=t(s,30),s=a,a=y;f=f+a&4294967295,d=d+s&4294967295,h=h+c&4294967295,m=m+l&4294967295,g=g+u&4294967295}var y;return(y=r(f)+r(d)+r(h)+r(m)+r(g)).toLowerCase()}},services:{call:C},file:{getMimeTypeFromFilename:yt,gzip:Qu,read:Ot,getMd5Hash:function(e){return Ot(e,"binaryString").then(Qt)}},processing:{whenDone:function(e){return Ke(function(t,r,i){var n="https://"+Bi.storageDomainNoCdn+"/"+e;Hi(n).then(function(e){return e.json()}).then(function(e){var n=e.params.status;"ERROR"===n?r(e.params.data):"SUCCESS"===n?t(e.params.data):i()})})},whenHiResTexturesReady:function(e){return function(e){var t=void 0===e?"undefined":Yr(e);return"string"===t?me(Xe(e)):e instanceof Blob?de(e):"object"===t?Promise.resolve(e):Promise.reject("Unknown param type")}(e).then(function(e){var t=er(e,{filter:function(e,t,r,i,n){return"dds"===r?e:null}});return Promise.all(t.map(tr))})}},url:ue,uuid:Gn,getShortId:ot,path:cl,wait:function(e,t){return new Un(function(r,i){setTimeout(function(){r(t)},e)})},bluebird:Un},Ap={aFrame:gu,aframe:gu,furniture:yu,staging:Ru,storage:sp,scene:up,floorPlan:pp,light:dp,modify:mp,auth:Pp.auth,ui:Pp.ui,utils:Pp,runtime:Ni,configs:Bi,config:Bi};return Ni.isBrowser&&(window.IO3D=Ap),Ap});
//# sourceMappingURL=3dio.min.js.map